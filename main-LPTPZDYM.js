var q0=Object.defineProperty,z0=Object.defineProperties;var G0=Object.getOwnPropertyDescriptors;var Uv=Object.getOwnPropertySymbols;var W0=Object.prototype.hasOwnProperty,K0=Object.prototype.propertyIsEnumerable;var jv=(t,e,n)=>e in t?q0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})W0.call(e,n)&&jv(t,n,e[n]);if(Uv)for(var n of Uv(e))K0.call(e,n)&&jv(t,n,e[n]);return t},ge=(t,e)=>z0(t,G0(e));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var Bv=null;var Id=1;function rt(t){let e=Bv;return Bv=t,e}var $v={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Q0(t){if(!(bd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Id)){if(!t.producerMustRecompute(t)&&!Td(t)){t.dirty=!1,t.lastCleanEpoch=Id;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Id}}function Hv(t){return t&&(t.nextProducerIndex=0),rt(t)}function qv(t,e){if(rt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Td(t){Ba(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Q0(n),r!==n.version))return!0}return!1}function zv(t){if(Ba(t),bd(t))for(let e=0;e<t.producerNode.length;e++)Dd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dd(t,e){if(Y0(t),Ba(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Dd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ba(i),i.producerIndexOfThis[r]=e}}function bd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ba(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Y0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Z0(){throw new Error}var J0=Z0;function Gv(t){J0=t}function U(t){return typeof t=="function"}function ii(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $a=ii(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof $a?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Wv(s)}catch(o){e=e??[],o instanceof $a?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $a(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lr(n,e)}remove(e){let{_finalizers:n}=this;n&&lr(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Cd=Ee.EMPTY;function Ha(t){return t instanceof Ee||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Wv(t){U(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var si={setTimeout(t,e,...n){let{delegate:r}=si;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=si;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qa(t){si.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function Ms(){}var Kv=(()=>Sd("C",void 0,void 0))();function Qv(t){return Sd("E",void 0,t)}function Yv(t){return Sd("N",t,void 0)}function Sd(t,e,n){return{kind:t,value:e,error:n}}var dr=null;function oi(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!dr;if(e&&(dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=dr;if(dr=null,n)throw r}}else t()}function Zv(t){Mt.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=t)}var hr=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ha(e)&&e.add(this)):this.destination=tS}static create(e,n,r){return new gn(e,n,r)}next(e){this.isStopped?Rd(Yv(e),this):this._next(e)}error(e){this.isStopped?Rd(Qv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rd(Kv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},X0=Function.prototype.bind;function Ad(t,e){return X0.call(t,e)}var Md=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){za(r)}else za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){za(n)}}},gn=class extends hr{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ad(e.next,s),error:e.error&&Ad(e.error,s),complete:e.complete&&Ad(e.complete,s)}):i=e}this.destination=new Md(i)}};function za(t){Mt.useDeprecatedSynchronousErrorHandling?Zv(t):qa(t)}function eS(t){throw t}function Rd(t,e){let{onStoppedNotification:n}=Mt;n&&si.setTimeout(()=>n(t,e))}var tS={closed:!0,next:Ms,error:eS,complete:Ms};var ai=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Ke(t){return t}function Ga(...t){return Pd(t)}function Pd(t){return t.length===0?Ke:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rS(n)?n:new gn(n,r,i);return oi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jv(r),new r((i,s)=>{let o=new gn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ai](){return this}pipe(...n){return Pd(n)(this)}toPromise(n){return n=Jv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Jv(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function nS(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function rS(t){return t&&t instanceof hr||nS(t)&&Ha(t)}function Nd(t){return U(t?.lift)}function G(t){return e=>{if(Nd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new xd(t,e,n,r,i)}var xd=class extends hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ci(){return G((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ui=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return ci()(this)}};var Xv=ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xv}next(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cd:(this.currentObservers=null,s.push(n),new Ee(()=>{this.currentObservers=null,lr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Wa(e,n),t})(),Wa=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cd}};var Ve=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Od={now(){return(Od.delegate||Date).now()},delegate:void 0};var Ka=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var Ps={setInterval(t,e,...n){let{delegate:r}=Ps;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ps;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var li=class extends Ka{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ps.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ps.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var di=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};di.now=Od.now;var hi=class extends di{constructor(e,n=di.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var kd=new hi(li);var Qa=class extends li{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ya=class extends hi{};var Fd=new Ya(Qa);var et=new Q(t=>t.complete());function e_(t){return t&&U(t.schedule)}function Ld(t){return t[t.length-1]}function t_(t){return U(Ld(t))?t.pop():void 0}function qt(t){return e_(Ld(t))?t.pop():void 0}function n_(t,e){return typeof Ld(t)=="number"?t.pop():e}function Vd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function r_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function s_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof fr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function o_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof r_=="function"?r_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Za=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ja(t){return U(t?.then)}function Xa(t){return U(t[ai])}function ec(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function tc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nc=iS();function rc(t){return U(t?.[nc])}function ic(t){return s_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fr(n.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{n.releaseLock()}})}function sc(t){return U(t?.getReader)}function pe(t){if(t instanceof Q)return t;if(t!=null){if(Xa(t))return sS(t);if(Za(t))return oS(t);if(Ja(t))return aS(t);if(ec(t))return a_(t);if(rc(t))return cS(t);if(sc(t))return uS(t)}throw tc(t)}function sS(t){return new Q(e=>{let n=t[ai]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oS(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aS(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qa)})}function cS(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function a_(t){return new Q(e=>{lS(t,e).catch(n=>e.error(n))})}function uS(t){return a_(ic(t))}function lS(t,e){var n,r,i,s;return i_(this,void 0,void 0,function*(){try{for(n=o_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pn(t,e=0){return G((n,r)=>{n.subscribe(Y(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function Nn(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function c_(t,e){return pe(t).pipe(Nn(e),Pn(e))}function u_(t,e){return pe(t).pipe(Nn(e),Pn(e))}function l_(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function d_(t,e){return new Q(n=>{let r;return tt(n,e,()=>{r=t[nc](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function oc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function h_(t,e){return oc(ic(t),e)}function f_(t,e){if(t!=null){if(Xa(t))return c_(t,e);if(Za(t))return l_(t,e);if(Ja(t))return u_(t,e);if(ec(t))return oc(t,e);if(rc(t))return d_(t,e);if(sc(t))return h_(t,e)}throw tc(t)}function me(t,e){return e?f_(t,e):pe(t)}function V(...t){let e=qt(t);return me(t,e)}function fi(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function Ud(t){return!!t&&(t instanceof Q||U(t.lift)&&U(t.subscribe))}var mn=ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return G((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:dS}=Array;function hS(t,e){return dS(e)?t(...e):t(e)}function p_(t){return J(e=>hS(t,e))}var{isArray:fS}=Array,{getPrototypeOf:pS,prototype:gS,keys:mS}=Object;function g_(t){if(t.length===1){let e=t[0];if(fS(e))return{args:e,keys:null};if(yS(e)){let n=mS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yS(t){return t&&typeof t=="object"&&pS(t)===gS}function m_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ac(...t){let e=qt(t),n=t_(t),{args:r,keys:i}=g_(t);if(r.length===0)return me([],e);let s=new Q(vS(r,e,i?o=>m_(i,o):Ke));return n?s.pipe(p_(n)):s}function vS(t,e,n=Ke){return r=>{y_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)y_(e,()=>{let u=me(t[c],e),l=!1;u.subscribe(Y(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function y_(t,e,n){t?tt(n,t,e):e()}function v_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let y=!1;pe(n(g,l++)).subscribe(Y(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let I=c.shift();o?tt(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Y(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ae(t,e,n=1/0){return U(e)?Ae((r,i)=>J((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>v_(r,i,t,n)))}function Ns(t=1/0){return Ae(Ke,t)}function __(){return Ns(1)}function pi(...t){return __()(me(t,qt(t)))}function cc(t){return new Q(e=>{pe(t()).subscribe(e)})}function jd(...t){let e=qt(t),n=n_(t,1/0),r=t;return r.length?r.length===1?pe(r[0]):Ns(n)(me(r,e)):et}function ft(t,e){return G((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xn(t){return G((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=pe(t(o,xn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function w_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(Y(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function gi(t,e){return U(e)?Ae(t,e,1):Ae(t,1)}function On(t){return G((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yn(t){return t<=0?()=>et:G((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Bd(t){return J(()=>t)}function uc(t,e=Ke){return t=t??_S,G((n,r)=>{let i,s=!0;n.subscribe(Y(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function _S(t,e){return t===e}function lc(t=wS){return G((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function wS(){return new mn}function xs(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):Ke,yn(1),n?On(e):lc(()=>new mn))}function mi(t){return t<=0?()=>et:G((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $d(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):Ke,mi(1),n?On(e):lc(()=>new mn))}function dc(t,e){return G(w_(t,e,arguments.length>=2,!0))}function hc(t={}){let{connector:e=()=>new He,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{let g=o;f(),g?.unsubscribe()};return G((g,y)=>{u++,!d&&!l&&h();let I=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=Hd(p,i))}),I.subscribe(y),!o&&u>0&&(o=new gn({next:A=>I.next(A),error:A=>{d=!0,h(),a=Hd(f,n,A),I.error(A)},complete:()=>{l=!0,h(),a=Hd(f,r),I.complete()}}),pe(g).subscribe(o))})(s)}}function Hd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new gn({next:()=>{r.unsubscribe(),t()}});return pe(e(...n)).subscribe(r)}function fc(...t){let e=qt(t);return G((n,r)=>{(e?pi(t,n,e):pi(t,n)).subscribe(r)})}function it(t,e){return G((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Y(r,c=>{i?.unsubscribe();let u=0,l=s++;pe(t(c,l)).subscribe(i=Y(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qd(t){return G((e,n)=>{pe(t).subscribe(Y(n,()=>n.complete(),Ms)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Y(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ke}function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function Qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ih(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ES=ue({__forward_ref__:ue});function rw(t){return t.__forward_ref__=rw,t.toString=function(){return Qe(this())},t}function gt(t){return iw(t)?t():t}function iw(t){return typeof t=="function"&&t.hasOwnProperty(ES)&&t.__forward_ref__===rw}function sw(t){return t&&!!t.\u0275providers}var ow="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(Gh(e,n)),this.code=e}};function Gh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var IS=ue({\u0275cmp:ue}),TS=ue({\u0275dir:ue}),DS=ue({\u0275pipe:ue}),bS=ue({\u0275mod:ue}),Tc=ue({\u0275fac:ue}),Os=ue({__NG_ELEMENT_ID__:ue}),E_=ue({__NG_ENV_ID__:ue});function Bc(t){return typeof t=="string"?t:t==null?"":String(t)}function CS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bc(t)}function SS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,`Circular dependency in DI detected for ${t}${n}`)}function Wh(t,e){let n=e?` in ${e}`:"";throw new _(-201,!1)}function AS(t,e){t==null&&RS(e,t,null,"!=")}function RS(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function $c(t){return I_(t,cw)||I_(t,uw)}function aw(t){return $c(t)!==null}function I_(t,e){return t.hasOwnProperty(e)?t[e]:null}function MS(t){let e=t&&(t[cw]||t[uw]);return e||null}function T_(t){return t&&(t.hasOwnProperty(D_)||t.hasOwnProperty(PS))?t[D_]:null}var cw=ue({\u0275prov:ue}),D_=ue({\u0275inj:ue}),uw=ue({ngInjectableDef:ue}),PS=ue({ngInjectorDef:ue}),W=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(W||{}),sh;function NS(){return sh}function pt(t){let e=sh;return sh=t,e}function lw(t,e,n){let r=$c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(e!==void 0)return e;Wh(Qe(t),"Injector")}var pr=globalThis;var q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var xS={},Ls=xS,oh="__NG_DI_FLAG__",Dc="ngTempTokenPath",OS="ngTokenPath",kS=/\n/gm,FS="\u0275",b_="__source",ks;function kn(t){let e=ks;return ks=t,e}function LS(t,e=W.Default){if(ks===void 0)throw new _(-203,!1);return ks===null?lw(t,void 0,e):ks.get(t,e&W.Optional?null:void 0,e)}function k(t,e=W.Default){return(NS()||LS)(gt(t),e)}function b(t,e=W.Default){return k(t,Hc(e))}function Hc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ah(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){let a=r[o],c=VS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function dw(t,e){return t[oh]=e,t.prototype[oh]=e,t}function VS(t){return t[oh]}function US(t,e,n,r){let i=t[Dc];throw e[b_]&&i.unshift(e[b_]),t.message=jS(`
`+t.message,i,n,r),t[OS]=i,t[Dc]=null,t}function jS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==FS?t.slice(2):t;let i=Qe(e);if(Array.isArray(e))i=e.map(Qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(kS,`
  `)}`}function Gs(t){return{toString:t}.toString()}var hw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hw||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),Vs={},st=[];function fw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ch(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];BS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pw(t){return t===3||t===4||t===6}function BS(t){return t.charCodeAt(0)===64}function Kh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?C_(t,n,i,null,e[++r]):C_(t,n,i,null,null))}}return t}function C_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var gw="ng-template";function $S(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&fw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function mw(t){return t.type===4&&t.value!==gw}function HS(t,e,n){let r=t.type===4&&!n?gw:t.value;return e===r}function qS(t,e,n){let r=4,i=t.attrs||[],s=WS(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Pt(r)&&!Pt(c))return!1;if(o&&Pt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!HS(t,c,n)||c===""&&e.length===1){if(Pt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!$S(t.attrs,u,n)){if(Pt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=zS(l,i,mw(t),n);if(d===-1){if(Pt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&fw(f,u,0)!==-1||r&2&&u!==h){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function zS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return KS(e,t)}function GS(t,e,n=!1){for(let r=0;r<e.length;r++)if(qS(t,e[r],n))return!0;return!1}function WS(t){for(let e=0;e<t.length;e++){let n=t[e];if(pw(n))return e}return t.length}function KS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function S_(t,e){return t?":not("+e.trim()+")":e}function QS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=S_(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=S_(s,i)),e}function YS(t){return t.map(QS).join(",")}function ZS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ai(t){return Gs(()=>{let e=Ew(t),n=ge(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});Iw(n);let r=t.dependencies;return n.directiveDefs=R_(r,!1),n.pipeDefs=R_(r,!0),n.id=eA(n),n})}function JS(t){return mr(t)||yw(t)}function XS(t){return t!==null}function En(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function A_(t,e){if(t==null)return Vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ri(t){return Gs(()=>{let e=Ew(t);return Iw(e),e})}function mr(t){return t[IS]||null}function yw(t){return t[TS]||null}function vw(t){return t[DS]||null}function _w(t){let e=mr(t)||yw(t)||vw(t);return e!==null?e.standalone:!1}function ww(t,e){let n=t[bS]||null;if(!n&&e===!0)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return n}function Ew(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A_(t.inputs,e),outputs:A_(t.outputs),debugInfo:null}}function Iw(t){t.features?.forEach(e=>e(t))}function R_(t,e){if(!t)return null;let n=e?vw:JS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(XS)}function eA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var In=0,K=1,O=2,Te=3,xt=4,kt=5,bc=6,Us=7,yt=8,Ei=9,Ii=10,Pe=11,js=12,M_=13,Mi=14,Yt=15,Ws=16,yi=17,Kt=18,qc=19,Tw=20,Fs=21,zd=22,yr=23,Ln=25,Dw=1;var vr=7,Cc=8,Ti=9,ot=10,Di=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Di||{});function Fn(t){return Array.isArray(t)&&typeof t[Dw]=="object"}function Ot(t){return Array.isArray(t)&&t[Dw]===!0}function bw(t){return(t.flags&4)!==0}function zc(t){return t.componentOffset>-1}function Qh(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function tA(t){return(t[O]&512)!==0}function bi(t,e){let n=t.hasOwnProperty(Tc);return n?t[Tc]:null}var uh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qs(){return Cw}function Cw(t){return t.type.prototype.ngOnChanges&&(t.setInput=rA),nA}Qs.ngInherit=!0;function nA(){let t=Aw(this),e=t?.current;if(e){let n=t.previous;if(n===Vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rA(t,e,n,r){let i=this.declaredInputs[n],s=Aw(t)||iA(t,{previous:Vs,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new uh(c&&c.currentValue,e,a===Vs),t[r]=e}var Sw="__ngSimpleChanges__";function Aw(t){return t[Sw]||null}function iA(t,e){return t[Sw]=e}var P_=null;var Gt=function(t,e,n){P_?.(t,e,n)},Rw="svg",sA="math";function Zt(t){for(;Array.isArray(t);)t=t[In];return t}function Mw(t,e){return Zt(e[t])}function _t(t,e){return Zt(e[t.index])}function Pw(t,e){return t.data[e]}function jn(t,e){let n=e[t];return Fn(n)?n:n[In]}function oA(t){return(t[O]&4)===4}function Yh(t){return(t[O]&128)===128}function aA(t){return Ot(t[Te])}function Sc(t,e){return e==null?null:t[e]}function Nw(t){t[yi]=0}function cA(t){t[O]&1024||(t[O]|=1024,Yh(t)&&Gc(t))}function uA(t,e){for(;t>0;)e=e[Mi],t--;return e}function xw(t){return t[O]&9216||t[yr]?.dirty}function Ow(t){xw(t)&&Gc(t)}function Gc(t){let e=t[Te];for(;e!==null&&!(Ot(e)&&e[O]&Di.HasChildViewsToRefresh||Fn(e)&&e[O]&8192);){if(Ot(e))e[O]|=Di.HasChildViewsToRefresh;else if(e[O]|=8192,!Yh(e))break;e=e[Te]}}function lA(t,e){if((t[O]&256)===256)throw new _(911,!1);t[Fs]===null&&(t[Fs]=[]),t[Fs].push(e)}var z={lFrame:Hw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dA(){return z.lFrame.elementDepthCount}function hA(){z.lFrame.elementDepthCount++}function fA(){z.lFrame.elementDepthCount--}function kw(){return z.bindingsEnabled}function pA(){return z.skipHydrationRootTNode!==null}function gA(t){return z.skipHydrationRootTNode===t}function mA(){z.skipHydrationRootTNode=null}function le(){return z.lFrame.lView}function Ft(){return z.lFrame.tView}function Fw(t){return z.lFrame.contextLView=t,t[yt]}function Lw(t){return z.lFrame.contextLView=null,t}function wt(){let t=Vw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vw(){return z.lFrame.currentTNode}function yA(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ys(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function Uw(){return z.lFrame.isParent}function vA(){z.lFrame.isParent=!1}function _A(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wA(t){return z.lFrame.bindingIndex=t}function Zh(){return z.lFrame.bindingIndex++}function EA(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IA(){return z.lFrame.inI18n}function TA(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,lh(e)}function DA(){return z.lFrame.currentDirectiveIndex}function lh(t){z.lFrame.currentDirectiveIndex=t}function bA(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jw(){return z.lFrame.currentQueryIndex}function Jh(t){z.lFrame.currentQueryIndex=t}function CA(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function Bw(t,e,n){if(n&W.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&W.Host);)if(i=CA(s),i===null||(s=s[Mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=$w();return r.currentTNode=e,r.lView=t,!0}function Xh(t){let e=$w(),n=t[K];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $w(){let t=z.lFrame,e=t===null?null:t.child;return e===null?Hw(t):e}function Hw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qw(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zw=qw;function ef(){let t=qw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SA(t){return(z.lFrame.contextLView=uA(t,z.lFrame.contextLView))[yt]}function Pi(){return z.lFrame.selectedIndex}function _r(t){z.lFrame.selectedIndex=t}function Gw(){let t=z.lFrame;return Pw(t.tView,t.selectedIndex)}function Ww(){z.lFrame.currentNamespace=Rw}function AA(){return z.lFrame.currentNamespace}var Kw=!0;function tf(){return Kw}function nf(t){Kw=t}function RA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Cw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function rf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function yc(t,e,n){Qw(t,e,3,n)}function vc(t,e,n,r){(t[O]&3)===n&&Qw(t,e,n,r)}function Gd(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Qw(t,e,n,r){let i=r!==void 0?t[yi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[yi]+=65536),(a<s||s==-1)&&(MA(t,n,e,c),t[yi]=(t[yi]&4294901760)+c+2),c++}function N_(t,e){Gt(4,t,e);let n=rt(null);try{e.call(t)}finally{rt(n),Gt(5,t,e)}}function MA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[O]>>14<t[yi]>>16&&(t[O]&3)===e&&(t[O]+=16384,N_(a,s)):N_(a,s)}var wi=-1,Bs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function PA(t){return t instanceof Bs}function NA(t){return(t.flags&8)!==0}function xA(t){return(t.flags&16)!==0}function Yw(t){return t!==wi}function Ac(t){let e=t&32767;return t&32767}function OA(t){return t>>16}function Rc(t,e){let n=OA(t),r=e;for(;n>0;)r=r[Mi],n--;return r}var dh=!0;function x_(t){let e=dh;return dh=t,e}var kA=256,Zw=kA-1,Jw=5,FA=0,Wt={};function LA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Os)&&(r=n[Os]),r==null&&(r=n[Os]=FA++);let i=r&Zw,s=1<<i;e.data[t+(i>>Jw)]|=s}function Xw(t,e){let n=eE(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,Wd(r.data,t),Wd(e,null),Wd(r.blueprint,null));let i=sf(t,e),s=t.injectorIndex;if(Yw(i)){let o=Ac(i),a=Rc(i,e),c=a[K].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Wd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sE(i),r===null)return wi;if(n++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wi}function VA(t,e,n){LA(t,e,n)}function UA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(pw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function tE(t,e,n){if(n&W.Optional||t!==void 0)return t;Wh(e,"NodeInjector")}function nE(t,e,n,r){if(n&W.Optional&&r===void 0&&(r=null),!(n&(W.Self|W.Host))){let i=t[Ei],s=pt(void 0);try{return i?i.get(e,r,n&W.Optional):lw(e,r,n&W.Optional)}finally{pt(s)}}return tE(r,e,n)}function rE(t,e,n,r=W.Default,i){if(t!==null){if(e[O]&2048&&!(r&W.Self)){let o=HA(t,e,n,r,Wt);if(o!==Wt)return o}let s=iE(t,e,n,r,Wt);if(s!==Wt)return s}return nE(e,n,r,i)}function iE(t,e,n,r,i){let s=BA(n);if(typeof s=="function"){if(!Bw(e,t,r))return r&W.Host?tE(i,n,r):nE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&W.Optional))Wh(n);else return o}finally{zw()}}else if(typeof s=="number"){let o=null,a=eE(t,e),c=wi,u=r&W.Host?e[Yt][kt]:null;for((a===-1||r&W.SkipSelf)&&(c=a===-1?sf(t,e):e[a+8],c===wi||!k_(r,!1)?a=-1:(o=e[K],a=Ac(c),e=Rc(c,e)));a!==-1;){let l=e[K];if(O_(s,a,l.data)){let d=jA(a,e,n,o,r,u);if(d!==Wt)return d}c=e[a+8],c!==wi&&k_(r,e[K].data[a+8]===u)&&O_(s,a,e)?(o=l,a=Ac(c),e=Rc(c,e)):a=-1}}return i}function jA(t,e,n,r,i,s){let o=e[K],a=o.data[t+8],c=r==null?zc(a)&&dh:r!=o&&(a.type&3)!==0,u=i&W.Host&&s===a,l=_c(a,o,n,c,u);return l!==null?Ci(e,o,l,a):Wt}function _c(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=o[c];if(f&&Ks(f)&&f.type===n)return c}return null}function Ci(t,e,n,r){let i=t[n],s=e.data;if(PA(i)){let o=i;o.resolving&&SS(CS(s[n]));let a=x_(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?pt(o.injectImpl):null,l=Bw(t,r,W.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&RA(n,s[n],e)}finally{u!==null&&pt(u),x_(a),o.resolving=!1,zw()}}return i}function BA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Os)?t[Os]:void 0;return typeof e=="number"?e>=0?e&Zw:$A:e}function O_(t,e,n){let r=1<<t;return!!(n[e+(t>>Jw)]&r)}function k_(t,e){return!(t&W.Self)&&!(t&W.Host&&e)}var gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rE(this._tNode,this._lView,e,Hc(r),n)}};function $A(){return new gr(wt(),le())}function of(t){return Gs(()=>{let e=t.prototype.constructor,n=e[Tc]||hh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Tc]||hh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hh(t){return iw(t)?()=>{let e=hh(gt(t));return e&&e()}:bi(t)}function HA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let a=iE(s,o,n,r|W.Self,Wt);if(a!==Wt)return a;let c=s.parent;if(!c){let u=o[Tw];if(u){let l=u.get(n,Wt,r);if(l!==Wt)return l}c=sE(o),o=o[Mi]}s=c}return i}function sE(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function af(t){return UA(wt(),t)}var pc="__parameters__";function qA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function oE(t,e,n){return Gs(()=>{let r=qA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(pc)?c[pc]:Object.defineProperty(c,pc,{value:[]})[pc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function zA(t){return typeof t=="function"}function GA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function WA(t){return t.flat(Number.POSITIVE_INFINITY)}function cf(t,e){t.forEach(n=>Array.isArray(n)?cf(n,e):e(n))}function aE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KA(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function QA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function uf(t,e,n){let r=Zs(t,e);return r>=0?t[r|1]=n:(r=~r,QA(t,r,e,n)),r}function Kd(t,e){let n=Zs(t,e);if(n>=0)return t[n|1]}function Zs(t,e){return YA(t,e,1)}function YA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Lt=dw(oE("Optional"),8);var cE=dw(oE("SkipSelf"),4);var Js=new q("ENVIRONMENT_INITIALIZER"),uE=new q("INJECTOR",-1),lE=new q("INJECTOR_DEF_TYPES"),Pc=class{get(e,n=Ls){if(n===Ls){let r=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw r.name="NullInjectorError",r}return n}};function Wc(t){return{\u0275providers:t}}function Kc(...t){return{\u0275providers:dE(!0,t),\u0275fromNgModule:!0}}function dE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return cf(e,o=>{let a=o;fh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hE(i,s),n}function hE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lf(i,s=>{e(s,r)})}}function fh(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,s=T_(t),o=!s&&mr(t);if(!s&&!o){let c=t.ngModule;if(s=T_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)fh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{cf(s.imports,l=>{fh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&hE(u,e)}if(!a){let u=bi(i)||(()=>new i);e({provide:i,useFactory:u,deps:st},i),e({provide:lE,useValue:i,multi:!0},i),e({provide:Js,useValue:()=>k(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;lf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function lf(t,e){for(let n of t)sw(n)&&(n=n.\u0275providers),Array.isArray(n)?lf(n,e):e(n)}var ZA=ue({provide:String,useValue:ue});function fE(t){return t!==null&&typeof t=="object"&&ZA in t}function JA(t){return!!(t&&t.useExisting)}function XA(t){return!!(t&&t.useFactory)}function ph(t){return typeof t=="function"}var Qc=new q("Set Injector scope."),wc={},eR={},Qd;function df(){return Qd===void 0&&(Qd=new Pc),Qd}var vt=class{},$s=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mh(e,o=>this.processProvider(o)),this.records.set(uE,vi(void 0,this)),i.has("environment")&&this.records.set(vt,vi(void 0,this));let s=this.records.get(Qc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lE,st,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=kn(this),r=pt(void 0),i;try{return e()}finally{kn(n),pt(r)}}get(e,n=Ls,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(E_))return e[E_](this);r=Hc(r);let i,s=kn(this),o=pt(void 0);try{if(!(r&W.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=oR(e)&&$c(e);u&&this.injectableDefInScope(u)?c=vi(gh(e),wc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&W.Self?df():this.parent;return n=r&W.Optional&&n===Ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Dc]=a[Dc]||[]).unshift(Qe(e)),s)throw a;return US(a,e,"R3InjectorError",this.source)}else throw a}finally{pt(o),kn(s)}}resolveInjectorInitializers(){let e=kn(this),n=pt(void 0),r;try{let i=this.get(Js,st,W.Self);for(let s of i)s()}finally{kn(e),pt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=gt(e);let n=ph(e)?e:gt(e&&e.provide),r=nR(e);if(!ph(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,wc,!0),i.factory=()=>ah(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===wc&&(n.value=eR,n.value=n.factory()),typeof n.value=="object"&&n.value&&sR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gh(t){let e=$c(t),n=e!==null?e.factory:bi(t);if(n!==null)return n;if(t instanceof q)throw new _(204,!1);if(t instanceof Function)return tR(t);throw new _(204,!1)}function tR(t){let e=t.length;if(e>0){let r=KA(e,"?");throw new _(204,!1)}let n=MS(t);return n!==null?()=>n.factory(t):()=>new t}function nR(t){if(fE(t))return vi(void 0,t.useValue);{let e=rR(t);return vi(e,wc)}}function rR(t,e,n){let r;if(ph(t)){let i=gt(t);return bi(i)||gh(i)}else if(fE(t))r=()=>gt(t.useValue);else if(XA(t))r=()=>t.useFactory(...ah(t.deps||[]));else if(JA(t))r=()=>k(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if(iR(t))r=()=>new i(...ah(t.deps));else return bi(i)||gh(i)}return r}function vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iR(t){return!!t.deps}function sR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oR(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function mh(t,e){for(let n of t)Array.isArray(n)?mh(n,e):n&&sw(n)?mh(n.\u0275providers,e):e(n)}function br(t,e){t instanceof $s&&t.assertNotDestroyed();let n,r=kn(t),i=pt(void 0);try{return e()}finally{kn(r),pt(i)}}function F_(t,e=null,n=null,r){let i=pE(t,e,n,r);return i.resolveInjectorInitializers(),i}function pE(t,e=null,n=null,r,i=new Set){let s=[n||st,Kc(t)];return r=r||(typeof t=="object"?void 0:Qe(t)),new $s(s,e||df(),r||null,i)}var Jt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return F_({name:""},i,r,"");{let s=r.name??"";return F_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ls,e.NULL=new Pc,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>k(uE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var yh;function gE(t){yh=t}function aR(){if(yh!==void 0)return yh;if(typeof document<"u")return document;throw new _(210,!1)}var hf=new q("AppId",{providedIn:"root",factory:()=>cR}),cR="ng",ff=new q("Platform Initializer"),Bn=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var pf=new q("AnimationModuleType"),gf=new q("CSP nonce",{providedIn:"root",factory:()=>aR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function mE(t){return t instanceof Function?t():t}function yE(t){return(t.flags&128)===128}var vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vn||{});var vE=new Map,uR=0;function lR(){return uR++}function dR(t){vE.set(t[qc],t)}function hR(t){vE.delete(t[qc])}var L_="__ngContext__";function wr(t,e){Fn(e)?(t[L_]=e[qc],dR(e)):t[L_]=e}var fR;function mf(t,e){return fR(t,e)}function yf(t){let e=t[Te];return Ot(e)?e[Te]:e}function _E(t){return EE(t[js])}function wE(t){return EE(t[xt])}function EE(t){for(;t!==null&&!Ot(t);)t=t[xt];return t}function _i(t,e,n,r,i){if(r!=null){let s,o=!1;Ot(r)?s=r:Fn(r)&&(o=!0,r=r[In]);let a=Zt(r);t===0&&n!==null?i==null?bE(e,n,a):Nc(e,n,a,i||null,!0):t===1&&n!==null?Nc(e,n,a,i||null,!0):t===2?PR(e,a,o):t===3&&e.destroyNode(a),s!=null&&xR(e,t,s,n,i)}}function pR(t,e){return t.createText(e)}function gR(t,e,n){t.setValue(e,n)}function IE(t,e,n){return t.createElement(e,n)}function mR(t,e){let n=e[Pe];Xs(t,e,n,2,null,null),e[In]=null,e[kt]=null}function yR(t,e,n,r,i,s){r[In]=i,r[kt]=e,Xs(t,r,n,1,i,s)}function vR(t,e){Xs(t,e,e[Pe],2,null,null)}function _R(t){let e=t[js];if(!e)return Yd(t[K],t);for(;e;){let n=null;if(Fn(e))n=e[js];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)Fn(e)&&Yd(e[K],e),e=e[Te];e===null&&(e=t),Fn(e)&&Yd(e[K],e),n=e&&e[xt]}e=n}}function wR(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][xt]=e),r<s-ot?(e[xt]=n[i],aE(n,ot+r,e)):(n.push(e),e[xt]=null),e[Te]=n;let o=e[Ws];o!==null&&n!==o&&ER(o,e);let a=e[Kt];a!==null&&a.insertView(t),Ow(e),e[O]|=128}function ER(t,e){let n=t[Ti],i=e[Te][Te][Yt];e[Yt]!==i&&(t[O]|=Di.HasTransplantedViews),n===null?t[Ti]=[e]:n.push(e)}function TE(t,e){let n=t[Ti],r=n.indexOf(e),i=e[Te];n.splice(r,1)}function vh(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Ws];i!==null&&i!==t&&TE(i,r),e>0&&(t[n-1][xt]=r[xt]);let s=Mc(t,ot+e);mR(r[K],r);let o=s[Kt];o!==null&&o.detachView(s[K]),r[Te]=null,r[xt]=null,r[O]&=-129}return r}function DE(t,e){if(!(e[O]&256)){let n=e[Pe];n.destroyNode&&Xs(t,e,n,3,null,null),_R(e)}}function Yd(t,e){if(!(e[O]&256)){e[O]&=-129,e[O]|=256,e[yr]&&zv(e[yr]),TR(t,e),IR(t,e),e[K].type===1&&e[Pe].destroy();let n=e[Ws];if(n!==null&&Ot(e[Te])){n!==e[Te]&&TE(n,e);let r=e[Kt];r!==null&&r.detachView(t)}hR(e)}}function IR(t,e){let n=t.cleanup,r=e[Us];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Us]=null);let i=e[Fs];if(i!==null){e[Fs]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function TR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Bs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Gt(4,a,c);try{c.call(a)}finally{Gt(5,a,c)}}else{Gt(4,i,s);try{s.call(i)}finally{Gt(5,i,s)}}}}}function DR(t,e,n){return bR(t,e.parent,n)}function bR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[In];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return _t(r,n)}}function Nc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bE(t,e,n){t.appendChild(e,n)}function V_(t,e,n,r,i){r!==null?Nc(t,e,n,r,i):bE(t,e,n)}function CR(t,e,n,r){t.removeChild(e,n,r)}function vf(t,e){return t.parentNode(e)}function SR(t,e){return t.nextSibling(e)}function AR(t,e,n){return MR(t,e,n)}function RR(t,e,n){return t.type&40?_t(t,n):null}var MR=RR,U_;function _f(t,e,n,r){let i=DR(t,r,e),s=e[Pe],o=r.parent||e[kt],a=AR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)V_(s,i,n[c],a,!1);else V_(s,i,n,a,!1);U_!==void 0&&U_(s,r,e,n,i)}function Ec(t,e){if(e!==null){let n=e.type;if(n&3)return _t(e,t);if(n&4)return _h(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ec(t,r);{let i=t[e.index];return Ot(i)?_h(-1,i):Zt(i)}}else{if(n&32)return mf(e,t)()||Zt(t[e.index]);{let r=CE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yf(t[Yt]);return Ec(i,r)}else return Ec(t,e.next)}}}return null}function CE(t,e){if(e!==null){let r=t[Yt][kt],i=e.projection;return r.projection[i]}return null}function _h(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Ec(r,i)}return e[vr]}function PR(t,e,n){let r=vf(t,e);r&&CR(t,r,e,n)}function wf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&wr(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wf(t,e,n.child,r,i,s,!1),_i(e,t,i,a,s);else if(c&32){let u=mf(n,r),l;for(;l=u();)_i(e,t,i,l,s);_i(e,t,i,a,s)}else c&16?NR(t,e,r,n,i,s):_i(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Xs(t,e,n,r,i,s){wf(n,r,t.firstChild,e,i,s,!1)}function NR(t,e,n,r,i,s){let o=n[Yt],c=o[kt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];_i(e,t,i,l,s)}else{let u=c,l=o[Te];yE(r)&&(u.flags|=128),wf(t,e,u,l,i,s,!0)}}function xR(t,e,n,r,i){let s=n[vr],o=Zt(n);s!==o&&_i(e,t,r,s,i);for(let a=ot;a<n.length;a++){let c=n[a];Xs(c[K],c,t,e,r,s)}}function OR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:vn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vn.Important),t.setStyle(n,r,i,s))}}function kR(t,e,n){t.setAttribute(e,"style",n)}function SE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function AE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ch(t,e,r),i!==null&&SE(t,e,i),s!==null&&kR(t,e,s)}var gc;function FR(){if(gc===void 0&&(gc=null,pr.trustedTypes))try{gc=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}function j_(t){return FR()?.createScriptURL(t)||t}var xc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ow})`}};function eo(t){return t instanceof xc?t.changingThisBreaksApplicationSecurity:t}function Ef(t,e){let n=LR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ow})`)}return n===e}function LR(t){return t instanceof xc&&t.getTypeName()||null}var VR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RE(t){return t=String(t),t.match(VR)?t:"unsafe:"+t}var Yc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yc||{});function Zc(t){let e=PE();return e?e.sanitize(Yc.URL,t)||"":Ef(t,"URL")?eo(t):RE(Bc(t))}function UR(t){let e=PE();if(e)return j_(e.sanitize(Yc.RESOURCE_URL,t)||"");if(Ef(t,"ResourceURL"))return j_(eo(t));throw new _(904,!1)}function jR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?UR:Zc}function ME(t,e,n){return jR(e,n)(t)}function PE(){let t=le();return t&&t[Ii].sanitizer}var BR="h",$R="b";var HR=(t,e,n)=>null;function If(t,e,n=!1){return HR(t,e,n)}var wh=class{},Oc=class{};function qR(t){let e=Error(`No component factory found for ${Qe(t)}.`);return e[zR]=t,e}var zR="ngComponent";var Eh=class{resolveComponentFactory(e){throw qR(e)}},Jc=(()=>{let e=class e{};e.NULL=new Eh;let t=e;return t})();function GR(){return Ni(wt(),le())}function Ni(t,e){return new Xt(_t(t,e))}var Xt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GR;let t=e;return t})();function WR(t){return t instanceof Xt?t.nativeElement:t}var Er=class{},xi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>KR();let t=e;return t})();function KR(){let t=le(),e=wt(),n=jn(e.index,t);return(Fn(n)?n:t)[Pe]}var QR=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Vn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},Tf=new Vn("17.0.6"),Zd={};function NE(t){return ZR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function YR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ZR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Ih=class{constructor(){}supports(e){return NE(e)}create(e){return new Th(e)}},JR=(t,e)=>e,Th=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<B_(r,i,s)?n:r,a=B_(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!NE(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,YR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Dh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new kc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},kc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new bh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function B_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function $_(){return new Df([new Ih])}var Df=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||$_()),deps:[[e,new cE,new Lt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new _(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:$_});let t=e;return t})();function Fc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),Ot(s)&&XR(s,r);let o=n.type;if(o&8)Fc(t,e,n.child,r);else if(o&32){let a=mf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=CE(e,n);if(Array.isArray(a))r.push(...a);else{let c=yf(e[Yt]);Fc(c[K],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XR(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&Fc(r[K],r,i,e)}t[vr]!==t[In]&&e.push(t[vr])}var xE=[];function eM(t){return t[yr]??tM(t)}function tM(t){let e=xE.pop()??Object.create(rM);return e.lView=t,e}function nM(t){t.lView[yr]!==t&&(t.lView=null,xE.push(t))}var rM=ge(S({},$v),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gc(t.lView)},consumerOnSignalRead(){this.lView[yr]=this}}),iM="ngOriginalError";function Jd(t){return t[iM]}var _n=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jd(e);for(;n&&Jd(n);)n=Jd(n);return n||null}};var OE=!1,sM=new q("",{providedIn:"root",factory:()=>OE});var $n={};function Et(t){kE(Ft(),le(),Pi()+t,!1)}function kE(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&vc(e,s,0,n)}_r(n)}function Ne(t,e=W.Default){let n=le();if(n===null)return k(t,e);let r=wt();return rE(r,n,gt(t),e)}function oM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_r(~i);else{let s=i,o=n[++r],a=n[++r];TA(o,s);let c=e[s];a(2,c)}}}finally{_r(-1)}}function Xc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[In]=i,d[O]=r|4|128|8,(u!==null||t&&t[O]&2048)&&(d[O]|=2048),Nw(d),d[Te]=d[Mi]=t,d[yt]=n,d[Ii]=o||t&&t[Ii],d[Pe]=a||t&&t[Pe],d[Ei]=c||t&&t[Ei]||null,d[kt]=s,d[qc]=lR(),d[bc]=l,d[Tw]=u,d[Yt]=e.type==2?t[Yt]:d,d}function eu(t,e,n,r,i){let s=t.data[e];if(s===null)s=aM(t,e,n,r,i),IA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yA();s.injectorIndex=o===null?-1:o.injectorIndex}return Ys(s,!0),s}function aM(t,e,n,r,i){let s=Vw(),o=Uw(),a=o?s:s&&s.parent,c=t.data[e]=fM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function FE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LE(t,e,n,r,i){let s=Pi(),o=r&2;try{_r(-1),o&&e.length>Ln&&kE(t,e,Ln,!1),Gt(o?2:0,i),n(r,i)}finally{_r(s),Gt(o?3:1,i)}}function VE(t,e,n){if(bw(e)){let r=rt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{rt(r)}}}function UE(t,e,n){kw()&&(wM(t,e,n,_t(n,e)),(n.flags&64)===64&&qE(t,e,n))}function jE(t,e,n=_t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function BE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=bf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bf(t,e,n,r,i,s,o,a,c,u,l){let d=Ln+r,h=d+i,f=cM(d,h),p=typeof u=="function"?u():u;return f[K]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function cM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$n);return n}function uM(t,e,n,r){let s=r.get(sM,OE)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return lM(o),o}function lM(t){dM(t)}var dM=t=>null;function hM(t,e,n,r){let i=KE(e);i.push(n),t.firstCreatePass&&QE(t).push(r,i.length-1)}function fM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return pA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function H_(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?q_(n,e,i,s):r.hasOwnProperty(i)&&q_(n,e,r[i],s)}return n}function q_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function pM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=H_(d.inputs,l,c,f),u=H_(d.outputs,l,u,p);let g=c!==null&&o!==null&&!mw(e)?PM(c,l,o):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function gM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function mM(t,e,n,r,i,s,o,a){let c=_t(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Cf(t,n,l,r,i),zc(e)&&yM(n,e.index)):e.type&3?(r=gM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function yM(t,e){let n=jn(e,t);n[O]&16||(n[O]|=64)}function $E(t,e,n,r){if(kw()){let i=r===null?null:{"":-1},s=IM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&HE(t,e,n,o,i,a),i&&TM(n,r,i)}n.mergedAttrs=Kh(n.mergedAttrs,n.attrs)}function HE(t,e,n,r,i,s){for(let u=0;u<r.length;u++)VA(Xw(n,e),t,r[u].type);bM(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=FE(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Kh(n.mergedAttrs,l.hostAttrs),CM(t,n,e,c,l),DM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pM(t,n,s)}function vM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;_M(o)!=a&&o.push(a),o.push(n,r,s)}}function _M(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zc(n)&&SM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xw(n,e),wr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ci(e,t,a,n);if(wr(u,e),o!==null&&MM(e,a-i,u,c,n,o),Ks(c)){let l=jn(n.index,e);l[yt]=Ci(e,t,a,n)}}}function qE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=DA();try{_r(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];lh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&EM(c,u)}}finally{_r(-1),lh(o)}}function EM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function IM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(GS(e,o.selectors,!1))if(r||(r=[]),Ks(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Ch(t,e,c)}else r.unshift(o),Ch(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ch(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new _(-301,!1);r.push(e[i],s)}}}function DM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ks(e)&&(n[""]=t)}}function bM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=bi(i.type,!0)),o=new Bs(s,Ks(i),Ne);t.blueprint[r]=o,n[r]=o,vM(t,e,r,FE(t,n,i.hostVars,$n),i)}function SM(t,e,n){let r=_t(e,t),i=BE(n),s=t[Ii].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=tu(t,Xc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function AM(t,e,n,r,i,s){let o=_t(t,e);RM(e[Pe],o,s,t.value,n,r,i)}function RM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Bc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function MM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];zE(r,n,c,u,l)}}function zE(t,e,n,r,i){let s=rt(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{rt(s)}}function PM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function GE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function WE(t,e){let n=t.contentQueries;if(n!==null){let r=rt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Jh(s),a.contentQueries(2,e[o],o)}}}finally{rt(r)}}}function tu(t,e){return t[js]?t[M_][xt]=e:t[js]=e,t[M_]=e,e}function Sh(t,e,n){Jh(0);let r=rt(null);try{e(t,n)}finally{rt(r)}}function KE(t){return t[Us]||(t[Us]=[])}function QE(t){return t.cleanup||(t.cleanup=[])}function YE(t,e){let n=t[Ei],r=n?n.get(_n,null):null;r&&r.handleError(e)}function Cf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];zE(u,c,r,a,i)}}function NM(t,e,n){let r=Mw(e,t);gR(t[Pe],r,n)}var xM=100;function OM(t,e=!0){let n=t[Ii],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[K],a=t[yt];ZE(o,t,o.template,a),kM(t)}catch(o){throw e&&YE(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function kM(t){let e=0;for(;xw(t);){if(e===xM)throw new _(103,!1);e++,eI(t,1)}}function ZE(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[Ii].inlineEffectRunner?.flush(),Xh(e);let o=null,a=null;!s&&FM(t)&&(a=eM(e),o=Hv(a));try{Nw(e),wA(t.bindingStartIndex),n!==null&&LE(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&yc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&vc(e,d,0,null),Gd(e,0)}if(LM(e),JE(e,0),t.contentQueries!==null&&WE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&yc(e,d)}else{let d=t.contentHooks;d!==null&&vc(e,d,1),Gd(e,1)}oM(t,e);let u=t.components;u!==null&&tI(e,u,0);let l=t.viewQuery;if(l!==null&&Sh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&yc(e,d)}else{let d=t.viewHooks;d!==null&&vc(e,d,2),Gd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zd]){for(let d of e[zd])d();e[zd]=null}s||(e[O]&=-73)}catch(c){throw Gc(e),c}finally{a!==null&&(qv(a,o),nM(a)),ef()}}function FM(t){return t.type!==2}function JE(t,e){for(let n=_E(t);n!==null;n=wE(n)){n[O]&=~Di.HasChildViewsToRefresh;for(let r=ot;r<n.length;r++){let i=n[r];XE(i,e)}}}function LM(t){for(let e=_E(t);e!==null;e=wE(e)){if(!(e[O]&Di.HasTransplantedViews))continue;let n=e[Ti];for(let r=0;r<n.length;r++){let i=n[r],s=i[Te];cA(i)}}}function VM(t,e,n){let r=jn(e,t);XE(r,n)}function XE(t,e){Yh(t)&&eI(t,e)}function eI(t,e){let r=t[K],i=t[O],s=t[yr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Td(s)),s&&(s.dirty=!1),t[O]&=-9217,o)ZE(r,t,r.template,t[yt]);else if(i&8192){JE(t,1);let a=r.components;a!==null&&tI(t,a,1)}}function tI(t,e,n){for(let r=0;r<e.length;r++)VM(t,e[r],n)}function Sf(t){for(;t;){t[O]|=64;let e=yf(t);if(tA(t)&&!e)return t;t=e}return null}var Ir=class{get rootNodes(){let e=this._lView,n=e[K];return Fc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yt]}set context(e){this._lView[yt]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(Ot(e)){let n=e[Cc],r=n?n.indexOf(this):-1;r>-1&&(vh(e,r),Mc(n,r))}this._attachedToViewContainer=!1}DE(this._lView[K],this._lView)}onDestroy(e){lA(this._lView,e)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Ow(this._lView),this._lView[O]|=128}detectChanges(){OM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vR(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e}},nu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UM;let t=e;return t})();function UM(t){return jM(wt(),le(),(t&16)===16)}function jM(t,e,n){if(zc(t)&&!n){let r=jn(t.index,e);return new Ir(r,r)}else if(t.type&47){let r=e[Yt];return new Ir(r,e)}return null}var z_=new Set;function nI(t){z_.has(t)||(z_.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var Ah=class extends He{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Xd(s),i&&(i=Xd(i)),o&&(o=Xd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function Xd(t){return e=>{setTimeout(t,void 0,e)}}var mt=Ah;function G_(...t){}function BM(){let t=typeof pr.requestAnimationFrame=="function",e=pr[t?"requestAnimationFrame":"setTimeout"],n=pr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=BM().nativeRequestAnimationFrame,qM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$M,G_,G_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$M={};function Af(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function HM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rh(t),t.isCheckStableRunning=!0,Af(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rh(t))}function qM(t){let e=()=>{HM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(zM(a))return n.invokeTask(i,s,o,a);try{return W_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),K_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return W_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),K_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Rh(t),Af(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Rh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function W_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function K_(t){t._nesting--,Af(t)}var rI=new q("",{providedIn:"root",factory:iI});function iI(){let t=b(ce),e=!0,n=new Q(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new Q(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return jd(n,r.pipe(hc()))}function zM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var GM=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function WM(t,e){let n=jn(e,t),r=n[K];KM(r,n);let i=n[In];i!==null&&n[bc]===null&&(n[bc]=If(i,n[Ei])),Rf(r,n,n[yt])}function KM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rf(t,e,n){Xh(e);try{let r=t.viewQuery;r!==null&&Sh(1,r,n);let i=t.template;i!==null&&LE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WE(t,e),t.staticViewQueries&&Sh(2,t.viewQuery,n);let s=t.components;s!==null&&QM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,ef()}}function QM(t,e){for(let n=0;n<e.length;n++)WM(t,e[n])}function Mh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ih(i,a);else if(s==2){let c=a,u=e[++o];r=ih(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lc=class extends Jc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mr(e);return new Hs(n,this.ngModule)}};function Q_(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function YM(t){let e=t.toLowerCase();return e==="svg"?Rw:e==="math"?sA:null}var Ph=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hc(r);let i=this.injector.get(e,Zd,r);return i!==Zd||n===Zd?i:this.parentInjector.get(e,n,r)}},Hs=class extends Oc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Q_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Q_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Ph(e,s):e,a=o.get(Er,null);if(a===null)throw new _(407,!1);let c=o.get(QR,null),u=o.get(GM,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?uM(d,r,this.componentDef.encapsulation,o):IE(d,h,YM(h)),p=4608,g=this.componentDef.onPush?576:528,y=this.componentDef.signals?p:g,I=null;f!==null&&(I=If(f,o,!0));let A=bf(0,null,null,1,0,null,null,null,null,null,null),P=Xc(null,A,null,y,null,null,l,d,o,null,I);Xh(P);let L,he;try{let B=this.componentDef,ne,we=null;B.findHostDirectiveDefs?(ne=[],we=new Map,B.findHostDirectiveDefs(B,ne,we),ne.push(B)):ne=[B];let Le=ZM(P,f),Be=JM(Le,f,B,ne,P,l,d);he=Pw(A,Ln),f&&tP(d,B,f,r),n!==void 0&&nP(he,this.ngContentSelectors,n),L=eP(Be,B,ne,we,P,[rP]),Rf(A,P,null)}finally{ef()}return new Nh(this.componentType,L,Ni(he,P),P,he)}},Nh=class extends wh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ir(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Cf(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=jn(this._tNode.index,s);Sf(o)}}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZM(t,e){let n=t[K],r=Ln;return t[r]=e,eu(n,r,2,"#host",null)}function JM(t,e,n,r,i,s,o){let a=i[K];XM(r,t,e,o);let c=null;e!==null&&(c=If(e,i[Ei]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Xc(i,BE(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Ch(a,t,r.length-1),tu(i,d),i[t.index]=d}function XM(t,e,n,r){for(let i of t)e.mergedAttrs=Kh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mh(e,e.mergedAttrs,!0),n!==null&&AE(r,n,e))}function eP(t,e,n,r,i,s){let o=wt(),a=i[K],c=_t(o,i);HE(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ci(i,a,d,o);wr(h,i)}qE(a,i,o),c&&wr(c,i);let u=Ci(i,a,o.directiveStart+o.componentOffset,o);if(t[yt]=i[yt]=u,s!==null)for(let l of s)l(u,e);return VE(a,o,t),u}function tP(t,e,n,r){if(r)ch(t,n,["ng-version",Tf.full]);else{let{attrs:i,classes:s}=ZS(e.selectors[0]);i&&ch(t,n,i),s&&s.length>0&&SE(t,n,s.join(" "))}}function nP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function rP(){let t=wt();rf(le()[K],t)}function Mf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function iP(t,e,n){return t[e]=n}function to(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Pf(t,e,n,r){let i=le(),s=Zh();if(to(i,s,e)){let o=Ft(),a=Gw();AM(a,i,t,e,n,r)}return Pf}function sI(t,e,n,r){return to(t,Zh(),n)?e+Bc(n)+r:$n}function mc(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function sP(t){return(t&2)==2}function oP(t,e){return t&131071|e<<17}function xh(t){return t|2}function Si(t){return(t&131068)>>2}function eh(t,e){return t&-131069|e<<2}function aP(t){return(t&1)===1}function Oh(t){return t|1}function cP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Tr(o),c=Si(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Zs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Tr(t[a+1]);t[r+1]=mc(h,a),h!==0&&(t[h+1]=eh(t[h+1],r)),t[a+1]=oP(t[a+1],r)}else t[r+1]=mc(a,0),a!==0&&(t[a+1]=eh(t[a+1],r)),a=r;else t[r+1]=mc(c,0),a===0?a=r:t[c+1]=eh(t[c+1],r),c=r;u&&(t[r+1]=xh(t[r+1])),Y_(t,l,r,!0,s),Y_(t,l,r,!1,s),uP(e,l,t,r,s),o=mc(a,c),s?e.classBindings=o:e.styleBindings=o}function uP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zs(s,e)>=0&&(n[r+1]=Oh(n[r+1]))}function Y_(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Tr(s):Si(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];lP(u,e)&&(c=!0,t[a+1]=r?Oh(l):xh(l)),a=r?Tr(l):Si(l)}c&&(t[n+1]=r?xh(s):Oh(s))}function lP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}var Nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dP(t){return t.substring(Nt.key,Nt.keyEnd)}function hP(t){return fP(t),oI(t,aI(t,0,Nt.textEnd))}function oI(t,e){let n=Nt.textEnd;return n===e?-1:(e=Nt.keyEnd=pP(t,Nt.key=e,n),aI(t,e,n))}function fP(t){Nt.key=0,Nt.keyEnd=0,Nt.value=0,Nt.valueEnd=0,Nt.textEnd=t.length}function aI(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function pP(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function It(t,e,n){let r=le(),i=Zh();if(to(r,i,e)){let s=Ft(),o=Gw();mM(s,o,r,t,e,r[Pe],n,!1)}return It}function kh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Cf(t,n,s[o],o,r)}function gP(t,e){for(let n=hP(e);n>=0;n=oI(e,n))uf(t,dP(e),!0)}function mP(t,e,n,r){let i=Ft(),s=EA(2);i.firstUpdatePass&&yP(i,null,s,r);let o=le();if(n!==$n&&to(o,s,n)){let a=i.data[Pi()];if(uI(a,r)&&!cI(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ih(c,n||"")),kh(i,a,o,n,r)}else TP(i,a,o,o[Pe],o[s+1],o[s+1]=IP(t,e,n),r,s)}}function cI(t,e){return e>=t.expandoStartIndex}function yP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Pi()],o=cI(t,n);uI(s,r)&&e===null&&!o&&(e=!1),e=vP(i,s,e,r),cP(i,s,e,n,o,r)}}function vP(t,e,n,r){let i=bA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=th(null,t,e,n,r),n=qs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=th(i,t,e,n,r),s===null){let c=_P(t,e,r);c!==void 0&&Array.isArray(c)&&(c=th(null,t,e,c[1],r),c=qs(c,e.attrs,r),wP(t,e,r,c))}else s=EP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _P(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Si(r)!==0)return t[Tr(r)]}function wP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Tr(i)]=r}function EP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=qs(r,o,n)}return qs(r,e.attrs,n)}function th(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=qs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uf(t,o,n?!0:e[++s]))}return t===void 0?null:t}function IP(t,e,n){if(n==null||n==="")return st;let r=[],i=eo(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function TP(t,e,n,r,i,s,o,a){i===$n&&(i=st);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,p=null,g;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),p!==null&&DP(t,e,n,r,p,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function DP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=aP(u)?Z_(c,e,n,i,Si(u),o):void 0;if(!Vc(l)){Vc(s)||sP(u)&&(s=Z_(c,null,n,i,a,o));let d=Mw(Pi(),n);OR(r,o,d,i,s)}}function Z_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===$n&&(h=d?st:void 0);let f=d?Kd(h,r):l===r?h:void 0;if(u&&!Vc(f)&&(f=Kd(c,r)),Vc(f)&&(a=f,o))return a;let p=t[i+1];i=o?Tr(p):Si(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Kd(c,r))}return a}function Vc(t){return t!==void 0}function uI(t,e){return(t.flags&(e?8:16))!==0}function lI(t,e,n){let r=le(),i=sI(r,t,e,n);mP(uf,gP,i,!0)}var R3=new RegExp(`^(\\d+)*(${$R}|${BR})*(.*)`);var bP=(t,e)=>null;function J_(t,e){return bP(t,e)}function CP(t,e,n,r){let i=e.tView,o=t[O]&4096?4096:16,a=Xc(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Ws]=c;let u=t[Kt];return u!==null&&(a[Kt]=u.createEmbeddedView(i)),Rf(i,a,n),a}function X_(t,e){return!e||e.firstChild===null||yE(t)}function SP(t,e,n,r=!0){let i=e[K];if(wR(i,e,t,n),r){let o=_h(n,t),a=e[Pe],c=vf(a,t[vr]);c!==null&&yR(i,t[kt],a,e,c,o)}let s=e[bc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Hn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AP;let t=e;return t})();function AP(){let t=wt();return hI(t,le())}var RP=Hn,dI=class extends RP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ni(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=sf(this._hostTNode,this._hostLView);if(Yw(e)){let n=Rc(e,this._hostLView),r=Ac(e),i=n[K].data[r+8];return new gr(i,n)}else return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ew(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=J_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,X_(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!zA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new Hs(mr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(o?u:this.parentInjector).get(vt,null);g&&(s=g)}let l=mr(c.componentType??{}),d=J_(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,X_(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Te],u=new dI(c,c[kt],c[Te]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return SP(o,i,s,r),e.attachToViewContainerRef(),aE(nh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ew(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);r&&(Mc(nh(this._lContainer),n),DE(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);return r&&Mc(nh(this._lContainer),n)!=null?new Ir(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ew(t){return t[Cc]}function nh(t){return t[Cc]||(t[Cc]=[])}function hI(t,e){let n,r=e[t.index];return Ot(r)?n=r:(n=GE(r,e,null,t),e[t.index]=n,tu(e,n)),PP(n,e,t,r),new dI(n,t,e)}function MP(t,e){let n=t[Pe],r=n.createComment(""),i=_t(e,t),s=vf(n,i);return Nc(n,s,r,SR(n,i),!1),r}var PP=OP,NP=(t,e,n)=>!1;function xP(t,e,n){return NP(t,e,n)}function OP(t,e,n,r){if(t[vr])return;let i;n.type&8?i=Zt(r):i=MP(e,n),t[vr]=i}function kP(t,e,n,r,i,s,o,a,c){let u=e.consts,l=eu(e,t,4,o||null,Sc(u,a));$E(e,n,l,Sc(u,c)),rf(e,l);let d=l.tView=bf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Oi(t,e,n,r,i,s,o,a){let c=le(),u=Ft(),l=t+Ln,d=u.firstCreatePass?kP(l,u,c,e,n,r,i,s,o):u.data[l];Ys(d,!1);let h=FP(u,c,d,t);tf()&&_f(u,c,h,d),wr(h,c);let f=GE(h,c,h,d);return c[l]=f,tu(c,f),xP(f,d,c),Qh(d)&&UE(u,c,d),o!=null&&jE(c,d,a),Oi}var FP=LP;function LP(t,e,n,r){return nf(!0),e[Pe].createComment("")}function VP(t,e,n,r,i,s){let o=e.consts,a=Sc(o,i),c=eu(e,t,2,r,a);return $E(e,n,c,Sc(o,s)),c.attrs!==null&&Mh(c,c.attrs,!1),c.mergedAttrs!==null&&Mh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Ye(t,e,n,r){let i=le(),s=Ft(),o=Ln+t,a=i[Pe],c=s.firstCreatePass?VP(o,s,i,e,n,r):s.data[o],u=UP(s,i,c,a,e,t);i[o]=u;let l=Qh(c);return Ys(c,!0),AE(a,u,c),(c.flags&32)!==32&&tf()&&_f(s,i,u,c),dA()===0&&wr(u,i),hA(),l&&(UE(s,i,c),VE(s,c,i)),r!==null&&jE(i,c),Ye}function at(){let t=wt();Uw()?vA():(t=t.parent,Ys(t,!1));let e=t;gA(e)&&mA(),fA();let n=Ft();return n.firstCreatePass&&(rf(n,t),bw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NA(e)&&kh(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xA(e)&&kh(n,e,le(),e.stylesWithoutHost,!1),at}function Cr(t,e,n,r){return Ye(t,e,n,r),at(),Cr}var UP=(t,e,n,r,i,s)=>(nf(!0),IE(r,i,AA()));function fI(){return le()}var Uc="en-US";var jP=Uc;function BP(t){AS(t,"Expected localeId to be defined"),typeof t=="string"&&(jP=t.toLowerCase().replace(/_/g,"-"))}function no(t){return!!t&&typeof t.then=="function"}function pI(t){return!!t&&typeof t.subscribe=="function"}function ki(t,e,n,r){let i=le(),s=Ft(),o=wt();return HP(s,i,i[Pe],o,t,e,r),ki}function $P(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Us],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function HP(t,e,n,r,i,s,o){let a=Qh(r),u=t.firstCreatePass&&QE(t),l=e[yt],d=KE(e),h=!0;if(r.type&3||o){let g=_t(r,e),y=o?o(g):g,I=d.length,A=o?L=>o(Zt(L[r.index])):r.index,P=null;if(!o&&a&&(P=$P(t,e,i,r.index)),P!==null){let L=P.__ngLastListenerFn__||P;L.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,h=!1}else{s=nw(r,e,l,s,!1);let L=n.listen(y,i,s);d.push(s,L),u&&u.push(i,A,I,I+1)}}else s=nw(r,e,l,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let g=p.length;if(g)for(let y=0;y<g;y+=2){let I=p[y],A=p[y+1],he=e[I][A].subscribe(s),B=d.length;d.push(s,he),u&&u.push(i,r.index,B,-(B+1))}}}function tw(t,e,n,r){try{return Gt(6,e,n),n(r)!==!1}catch(i){return YE(t,i),!1}finally{Gt(7,e,n)}}function nw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?jn(t.index,e):e;Sf(a);let c=tw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=tw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function ro(t=1){return SA(t)}function Sr(t,e=""){let n=le(),r=Ft(),i=t+Ln,s=r.firstCreatePass?eu(r,i,1,e,null):r.data[i],o=qP(r,n,s,e,t);n[i]=o,tf()&&_f(r,n,o,s),Ys(s,!1)}var qP=(t,e,n,r,i)=>(nf(!0),pR(e[Pe],r));function ru(t){return io("",t,""),ru}function io(t,e,n){let r=le(),i=sI(r,t,e,n);return i!==$n&&NM(r,Pi(),i),io}var Un=class{},zs=class{};var Fh=class extends Un{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lc(this);let i=ww(e);this._bootstrapComponents=mE(i.bootstrap),this._r3Injector=pE(e,n,[{provide:Un,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver},...r],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lh=class extends zs{constructor(e){super(),this.moduleType=e}create(e){return new Fh(this.moduleType,e,[])}};var jc=class extends Un{constructor(e){super(),this.componentFactoryResolver=new Lc(this),this.instance=null;let n=new $s([...e.providers,{provide:Un,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],e.parent||df(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nf(t,e,n=null){return new jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dE(!1,r.type),s=i.length>0?Nf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(k(vt))});let t=e;return t})();function Fi(t){nI("NgStandalone"),t.getStandaloneInjector=e=>e.get(zP).getOrCreateStandaloneInjector(t)}function gI(t,e,n,r){return WP(le(),_A(),t,e,n,r)}function GP(t,e){let n=t[e];return n===$n?void 0:n}function WP(t,e,n,r,i,s){let o=e+n;return to(t,o,i)?iP(t,o+1,s?r.call(s,i):r(i)):GP(t,o+1)}function KP(){return this._results[Symbol.iterator]()}var Vh=class t{get changes(){return this._changes||(this._changes=new mt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=KP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=WA(e);(this._changesDetected=!GA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},Dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZP;let t=e;return t})(),QP=Dr,YP=class extends QP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=CP(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Ir(i)}};function ZP(){return xf(wt(),le())}function xf(t,e){return t.type&4?new YP(e,t,Ni(t,e)):null}var Uh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)vI(e,n).matches!==null&&this.queries[n].setDirty()}},Bh=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},$h=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,JP(n,s)),this.matchTNodeWithReadOption(e,n,_c(n,e,s,!1,!1))}else r===Dr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,_c(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xt||i===Hn||i===Dr&&n.type&4)this.addMatch(n.index,-2);else{let s=_c(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function XP(t,e){return t.type&11?Ni(t,e):t.type&4?xf(t,e):null}function eN(t,e,n,r){return n===-1?XP(e,t):n===-2?tN(t,e,r):Ci(t,t[K],n,e)}function tN(t,e,n){if(n===Xt)return Ni(e,t);if(n===Dr)return xf(e,t);if(n===Hn)return hI(e,t)}function mI(t,e,n,r){let i=e[Kt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(eN(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function qh(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=mI(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=ot;d<l.length;d++){let h=l[d];h[Ws]===h[Te]&&qh(h[K],h,u,r)}if(l[Ti]!==null){let d=l[Ti];for(let h=0;h<d.length;h++){let f=d[h];qh(f[K],f,u,r)}}}}}return r}function Of(t){let e=le(),n=Ft(),r=jw();Jh(r+1);let i=vI(n,r);if(t.dirty&&oA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?qh(n,e,r,[]):mI(n,e,i,r);t.reset(s,WR),t.notifyOnChanges()}return!0}return!1}function yI(t,e,n){let r=Ft();r.firstCreatePass&&(iN(r,new Bh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),rN(r,le(),e)}function kf(){return nN(le(),jw())}function nN(t,e){return t[Kt].queries[e].queryList}function rN(t,e,n){let r=new Vh((n&4)===4);hM(t,e,r,r.destroy),e[Kt]===null&&(e[Kt]=new jh),e[Kt].queries.push(new Uh(r))}function iN(t,e,n){t.queries===null&&(t.queries=new $h),t.queries.track(new Hh(e,n))}function vI(t,e){return t.queries.getByIndex(e)}var _I=new q("Application Initializer"),wI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(_I,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(no(o))r.push(o);else if(pI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function sN(){return typeof $localize<"u"&&$localize.locale||Uc}var Ff=new q("LocaleId",{providedIn:"root",factory:()=>b(Ff,W.Optional|W.SkipSelf)||sN()});var Lf=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vf=(()=>{let e=class e{compileModuleSync(r){return new Lh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=ww(r),o=mE(s.declarations).reduce((a,c)=>{let u=mr(c);return u&&a.push(new Hs(u)),a},[]);return new zh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EI=new q("");var Ic=null;var II=new q("PlatformDestroyListeners"),Uf=new q("appBootstrapListener");function oN(){Gv(()=>{throw new _(600,!1)})}function aN(t){return t.isBoundToModule}function cN(t=[]){if(Ic)return Ic;let e=lN(t);return Ic=e,oN(),uN(e),e}function uN(t){t.get(ff,null)?.forEach(n=>n())}function TI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=cN(r),s=[mN(),...n||[]],a=new jc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ce);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(_n,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(II);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),hN(u,c,()=>{let f=a.get(wI);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Ff,Uc);BP(p||Uc);let g=a.get(Ar);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function lN(t=[],e){return Jt.create({name:e,providers:[{provide:Qc,useValue:"platform"},{provide:II,useValue:new Set([()=>Ic=null])},...t]})}function dN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function hN(t,e,n){try{let r=n();return no(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ar=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(DI),this.zoneIsStable=b(rI),this.componentTypes=[],this.components=[],this.isStable=b(Lf).hasPendingTasks.pipe(it(r=>r?V(!1):this.zoneIsStable),uc(),hc()),this._injector=b(vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Oc;if(!this._injector.get(wI).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&_w(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new _(405,!1)}let a;s?a=r:a=this._injector.get(Jc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=aN(a)?void 0:this._injector.get(Un),u=i||a.selector,l=a.create(Jt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(EI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),rh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new _(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;rh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Uf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var DI=new q("",{providedIn:"root",factory:()=>b(_n).handleError.bind(void 0)});function fN(){let t=b(ce),e=b(_n);return n=>t.runOutsideAngular(()=>e.handleError(n))}var pN=(()=>{let e=class e{constructor(){this.zone=b(ce),this.applicationRef=b(Ar)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gN(t){return[{provide:ce,useFactory:t},{provide:Js,multi:!0,useFactory:()=>{let e=b(pN,{optional:!0});return()=>e.initialize()}},{provide:DI,useFactory:fN},{provide:rI,useFactory:iI}]}function mN(t){let e=gN(()=>new ce(dN(t)));return Wc([[],e])}function so(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var jf=null;function Li(){return jf}function RI(t){jf||(jf=t)}var su=class{},Ze=new q("DocumentToken"),MI=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(yN))(),providedIn:"platform"});let t=e;return t})();var yN=(()=>{let e=class e extends MI{constructor(){super(),this._doc=b(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Li().getBaseHref(this._doc)}onPopState(r){let i=Li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function PI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function bI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rr(t){return t&&t[0]!=="?"?"?"+t:t}var Vi=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(NI))(),providedIn:"root"});let t=e;return t})(),vN=new q("appBaseHref"),NI=(()=>{let e=class e extends Vi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return PI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Rr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(k(MI),k(vN,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oo=(()=>{let e=class e{constructor(r){this._subject=new mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=EN(bI(CI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Rr(i))}normalize(r){return e.stripTrailingSlash(wN(this._basePath,CI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Rr,e.joinWithSlash=PI,e.stripTrailingSlash=bI,e.\u0275fac=function(i){return new(i||e)(k(Vi))},e.\u0275prov=N({token:e,factory:()=>_N(),providedIn:"root"});let t=e;return t})();function _N(){return new oo(k(Vi))}function wN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function CI(t){return t.replace(/\/index.html$/,"")}function EN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function xI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Bf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},OI=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Bf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),SI(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);SI(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ne(Hn),Ne(Dr),Ne(Df))},e.\u0275dir=Ri({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function SI(t,e){t.context.$implicit=e.item}var kI=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new $f,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){AI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){AI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ne(Hn),Ne(Dr))},e.\u0275dir=Ri({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),$f=class{constructor(){this.$implicit=null,this.ngIf=null}};function AI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Qe(e)}'.`)}var ao=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e}),e.\u0275inj=wn({});let t=e;return t})(),FI="browser",IN="server";function Hf(t){return t===IN}var ou=class{};var Gf=class extends su{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wf=class t extends Gf{static makeCurrent(){RI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TN();return n==null?null:DN(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xI(document.cookie,e)}},co=null;function TN(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function DN(t){return new URL(t,"http://a").pathname}var bN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Kf=new q("EventManagerPlugins"),jI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(k(Kf),k(ce))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),au=class{constructor(e){this._doc=e}},qf="ng-app-id",BI=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(qf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(qf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(k(Ze),k(hf),k(gf,8),k(Bn))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yf=/%COMP%/g,$I="%COMP%",CN=`_nghost-${$I}`,SN=`_ngcontent-${$I}`,AN=!0,RN=new q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>AN});function MN(t){return SN.replace(Yf,t)}function PN(t){return CN.replace(Yf,t)}function HI(t,e){return e.map(n=>n.replace(Yf,t))}var cu=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Hf(c),this.defaultRenderer=new uo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=ge(S({},i),{encapsulation:Qt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof uu?s.applyToHost(r):s instanceof lo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:o=new uu(u,l,i,this.appId,d,a,c,h);break;case Qt.ShadowDom:return new Qf(u,l,r,i,a,c,this.nonce,h);default:o=new lo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(k(jI),k(BI),k(hf),k(RN),k(Ze),k(Bn),k(ce),k(gf))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=zf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(n,r,i&vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Li().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qf=class extends uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=HI(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lo=class extends uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?HI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uu=class extends lo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=MN(u),this.hostAttr=PN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},NN=(()=>{let e=class e extends au{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(k(Ze))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),UI=["alt","control","meta","shift"],xN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ON={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kN=(()=>{let e=class e extends au{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),UI.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=xN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),UI.forEach(a=>{if(a!==s){let c=ON[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(k(Ze))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function qI(t,e){return TI(S({rootComponent:t},FN(e)))}function FN(t){return{appProviders:[...BN,...t?.providers??[]],platformProviders:jN}}function LN(){Wf.makeCurrent()}function VN(){return new _n}function UN(){return gE(document),document}var jN=[{provide:Bn,useValue:FI},{provide:ff,useValue:LN,multi:!0},{provide:Ze,useFactory:UN,deps:[]}];var BN=[{provide:Qc,useValue:"root"},{provide:_n,useFactory:VN,deps:[]},{provide:Kf,useClass:NN,multi:!0,deps:[Ze,ce,Bn]},{provide:Kf,useClass:kN,multi:!0,deps:[Ze]},cu,BI,jI,{provide:Er,useExisting:cu},{provide:ou,useClass:bN,deps:[]},[]];function $N(){return new Zf(k(Ze))}var Zf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(k(Ze))},e.\u0275prov=N({token:e,factory:function(i){let s=null;return i?s=new i:s=$N(),s},providedIn:"root"});let t=e;return t})();var $="primary",Co=Symbol("RouteTitle"),np=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hi(t){return new np(t)}function qN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}function tn(t,e){let n=t?rp(t):void 0,r=e?rp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!YI(t[i],e[i]))return!1;return!0}function rp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ZI(t){return t.length>0?t[t.length-1]:null}function Wn(t){return Ud(t)?t:no(t)?me(Promise.resolve(t)):V(t)}var GN={exact:XI,subset:eT},JI={exact:WN,subset:KN,ignored:()=>!0};function zI(t,e,n){return GN[n.paths](t.root,e.root,n.matrixParams)&&JI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WN(t,e){return tn(t,e)}function XI(t,e,n){if(!Pr(t.segments,e.segments)||!hu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!XI(t.children[r],e.children[r],n))return!1;return!0}function KN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>YI(t[n],e[n]))}function eT(t,e,n){return tT(t,e,e.segments,n)}function tT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Pr(i,n)||e.hasChildren()||!hu(i,n,r))}else if(t.segments.length===n.length){if(!Pr(t.segments,n)||!hu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!eT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Pr(t.segments,i)||!hu(t.segments,i,r)||!t.children[$]?!1:tT(t.children[$],e,s,r)}}function hu(t,e,n){return e.every((r,i)=>JI[n](t[i].parameters,r.parameters))}var qn=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hi(this.queryParams)),this._queryParamMap}toString(){return ZN.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fu(this)}},Mr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Hi(this.parameters)),this._parameterMap}toString(){return rT(this)}};function QN(t,e){return Pr(t,e)&&t.every((n,r)=>tn(n.parameters,e[r].parameters))}function Pr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function YN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===$&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==$&&(n=n.concat(e(i,r)))}),n}var Ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new gu)(),providedIn:"root"});let t=e;return t})(),gu=class{parse(e){let n=new sp(e);return new qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ho(e.root,!0)}`,r=ex(e.queryParams),i=typeof e.fragment=="string"?`#${JN(e.fragment)}`:"";return`${n}${r}${i}`}},ZN=new gu;function fu(t){return t.segments.map(e=>rT(e)).join("/")}function ho(t,e){if(!t.hasChildren())return fu(t);if(e){let n=t.children[$]?ho(t.children[$],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==$&&r.push(`${i}:${ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YN(t,(r,i)=>i===$?[ho(t.children[$],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[$]!=null?`${fu(t)}/${n[0]}`:`${fu(t)}/(${n.join("//")})`}}function nT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lu(t){return nT(t).replace(/%3B/gi,";")}function JN(t){return encodeURI(t)}function ip(t){return nT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pu(t){return decodeURIComponent(t)}function GI(t){return pu(t.replace(/\+/g,"%20"))}function rT(t){return`${ip(t.path)}${XN(t.parameters)}`}function XN(t){return Object.keys(t).map(e=>`;${ip(e)}=${ip(t[e])}`).join("")}function ex(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${lu(n)}=${lu(i)}`).join("&"):`${lu(n)}=${lu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var tx=/^[^\/()?;#]+/;function Jf(t){let e=t.match(tx);return e?e[0]:""}var nx=/^[^\/()?;=#]+/;function rx(t){let e=t.match(nx);return e?e[0]:""}var ix=/^[^=?&#]+/;function sx(t){let e=t.match(ix);return e?e[0]:""}var ox=/^[^&#]+/;function ax(t){let e=t.match(ox);return e?e[0]:""}var sp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$]=new ie(e,n)),r}parseSegment(){let e=Jf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new Mr(pu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=rx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jf(this.remaining);i&&(r=i,this.capture(r))}e[pu(n)]=pu(r)}parseQueryParam(e){let n=sx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ax(this.remaining);o&&(r=o,this.capture(r))}let i=GI(n),s=GI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[$]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function iT(t){return t.segments.length>0?new ie([],{[$]:t}):t}function sT(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=sT(i);if(r===$&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return cx(n)}function cx(t){if(t.numberOfChildren===1&&t.children[$]){let e=t.children[$];return new ie(t.segments.concat(e.segments),e.children)}return t}function qi(t){return t instanceof qn}function ux(t,e,n=null,r=null){let i=oT(t);return aT(i,e,n,r)}function oT(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=iT(r);return e??i}function aT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xf(i,i,i,n,r);let s=lx(e);if(s.toRoot())return Xf(i,i,new ie([],{}),n,r);let o=dx(s,i,t),a=o.processChildren?go(o.segmentGroup,o.index,s.commands):uT(o.segmentGroup,o.index,s.commands);return Xf(i,o.segmentGroup,a,n,r)}function mu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vo(t){return typeof t=="object"&&t!=null&&t.outlets}function Xf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=cT(t,e,n);let a=iT(sT(o));return new qn(a,s,i)}function cT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=cT(s,e,n)}),new ie(t.segments,r)}var yu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mu(r[0]))throw new _(4003,!1);let i=r.find(vo);if(i&&i!==ZI(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yu(n,e,r)}var Bi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dx(t,e,n){if(t.isAbsolute)return new Bi(e,!0,0);if(!n)return new Bi(e,!1,NaN);if(n.parent===null)return new Bi(n,!0,0);let r=mu(t.commands[0])?0:1,i=n.segments.length-1+r;return hx(n,i,t.numberOfDoubleDots)}function hx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Bi(r,!1,i-s)}function fx(t){return vo(t[0])?t[0].outlets:{[$]:t}}function uT(t,e,n){if(t||(t=new ie([],{})),t.segments.length===0&&t.hasChildren())return go(t,e,n);let r=px(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[$]=new ie(t.segments.slice(r.pathIndex),t.children),go(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?op(t,e,n):r.match?go(t,0,i):op(t,e,n)}function go(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=fx(n),i={};if(Object.keys(r).some(s=>s!==$)&&t.children[$]&&t.numberOfChildren===1&&t.children[$].segments.length===0){let s=go(t.children[$],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=uT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function px(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(vo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!KI(c,u,o))return s;r+=2}else{if(!KI(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function op(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(vo(s)){let c=gx(s.outlets);return new ie(r,c)}if(i===0&&mu(n[0])){let c=t.segments[e];r.push(new Mr(c.path,WI(n[0]))),i++;continue}let o=vo(s)?s.outlets[$]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mu(a)?(r.push(new Mr(o,WI(a))),i+=2):(r.push(new Mr(o,{})),i++)}return new ie(r,{})}function gx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=op(new ie([],{}),0,r))}),e}function WI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KI(t,e,n){return t==n.path&&tn(e,n.parameters)}var mo="imperative",Tt=class{constructor(e,n){this.id=e,this.url=n}},_o=class extends Tt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends Tt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gn=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},wo=class extends Tt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vu=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends Tt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},up=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hp=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fp=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gp=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eo=class{},Io=class{constructor(e){this.url=e}};var yp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Du,this.attachRef=null}},Du=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new yp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_u=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=vp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_p(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _p(e,this._root).map(n=>n.value)}};function vp(t,e){if(t===e.value)return e;for(let n of e.children){let r=vp(t,n);if(r)return r}return null}function _p(t,e){if(t===e.value)return[e];for(let n of e.children){let r=_p(t,n);if(r.length)return r.unshift(e),r}return[]}var ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wu=class extends _u{constructor(e,n){super(e),this.snapshot=n,Mp(this,e)}toString(){return this.snapshot.toString()}};function lT(t,e){let n=mx(t,e),r=new Ve([new Mr("",{})]),i=new Ve({}),s=new Ve({}),o=new Ve({}),a=new Ve(""),c=new Tn(r,i,o,a,s,$,e,n.root);return c.snapshot=n.root,new wu(new ct(c,[]),n)}function mx(t,e){let n={},r={},i={},s="",o=new To([],n,i,s,r,$,e,null,{});return new Eu("",new ct(o,[]))}var Tn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(u=>u[Co]))??V(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(e=>Hi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(e=>Hi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:S(S({},t.data),t._resolvedData??{})},i&&hT(i)&&(r.resolve[Co]=i.title),r}var To=class{get title(){return this.data?.[Co]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Eu=class extends _u{constructor(e,n){super(n),this.url=e,Mp(this,n)}toString(){return dT(this._root)}};function Mp(t,e){e.value._routerState=t,e.children.forEach(n=>Mp(t,n))}function dT(t){let e=t.children.length>0?` { ${t.children.map(dT).join(", ")} } `:"";return`${t.value}${e}`}function ep(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tn(e.params,n.params)||t.paramsSubject.next(n.params),zN(e.url,n.url)||t.urlSubject.next(n.url),tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wp(t,e){let n=tn(t.params,e.params)&&QN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||wp(t.parent,e.parent))}function hT(t){return typeof t.title=="string"||t.title===null}var Pp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new mt,this.deactivateEvents=new mt,this.attachEvents=new mt,this.detachEvents=new mt,this.parentContexts=b(Du),this.location=b(Hn),this.changeDetector=b(nu),this.environmentInjector=b(vt),this.inputBinder=b(Np,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ep(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ri({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qs]});let t=e;return t})(),Ep=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Tn?this.route:e===Du?this.childContexts:this.parent.get(e,n)}},Np=new q("");function yx(t,e,n){let r=Do(t,e._root,n?n._root:void 0);return new wu(r,e)}function Do(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=vx(t,e,n);return new ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Do(t,a)),o}}let r=_x(e.value),i=e.children.map(s=>Do(t,s));return new ct(r,i)}}function vx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Do(t,r,i);return Do(t,r)})}function _x(t){return new Tn(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var fT="ngNavigationCancelingError";function pT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gT(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function gT(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[fT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function wx(t){return mT(t)&&qi(t.url)}function mT(t){return t&&t[fT]}var Ex=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ai({type:e,selectors:[["ng-component"]],standalone:!0,features:[Fi],decls:1,vars:0,template:function(i,s){i&1&&Cr(0,"router-outlet")},dependencies:[Pp],encapsulation:2});let t=e;return t})();function Ix(t,e){return t.providers&&!t._injector&&(t._injector=Nf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xp(t){let e=t.children&&t.children.map(xp),n=e?ge(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=Ex),n}function nn(t){return t.outlet||$}function Tx(t,e){let n=t.filter(r=>nn(r)===e);return n.push(...t.filter(r=>nn(r)!==e)),n}function So(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dx=(t,e,n,r)=>J(i=>(new Ip(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ip=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ep(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ji(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ji(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ji(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ji(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ep(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ep(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=So(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Iu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$i=class{constructor(e,n){this.component=e,this.route=n}};function bx(t,e,n){let r=t._root,i=e?e._root:null;return fo(r,i,n,[r.value])}function Cx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aw(t)?t:e.get(t):r}function fo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ji(e);return t.children.forEach(o=>{Sx(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yo(a,n.getContext(o),i)),i}function Sx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Ax(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Iu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fo(t,e,a?a.children:null,r,i):fo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $i(a.outlet.component,o))}else o&&yo(e,a,i),i.canActivateChecks.push(new Iu(r)),s.component?fo(t,null,a?a.children:null,r,i):fo(t,null,n,r,i);return i}function Ax(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Pr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!wp(t,e)}}function yo(t,e,n){let r=ji(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yo(o,e.children.getContext(s),n):yo(o,null,n):yo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $i(e.outlet.component,i)):n.canDeactivateChecks.push(new $i(null,i)):n.canDeactivateChecks.push(new $i(null,i))}function Ao(t){return typeof t=="function"}function Rx(t){return typeof t=="boolean"}function Mx(t){return t&&Ao(t.canLoad)}function Px(t){return t&&Ao(t.canActivate)}function Nx(t){return t&&Ao(t.canActivateChild)}function xx(t){return t&&Ao(t.canDeactivate)}function Ox(t){return t&&Ao(t.canMatch)}function yT(t){return t instanceof mn||t?.name==="EmptyError"}var du=Symbol("INITIAL_VALUE");function zi(){return it(t=>ac(t.map(e=>e.pipe(yn(1),fc(du)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===du)return du;if(n===!1||n instanceof qn)return n}return!0}),ft(e=>e!==du),yn(1)))}function kx(t,e){return Ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(ge(S({},n),{guardsResult:!0})):Fx(o,r,i,t).pipe(Ae(a=>a&&Rx(a)?Lx(r,s,t,e):V(a)),J(a=>ge(S({},n),{guardsResult:a})))})}function Fx(t,e,n,r){return me(t).pipe(Ae(i=>$x(i.component,i.route,n,e,r)),zt(i=>i!==!0,!0))}function Lx(t,e,n,r){return me(e).pipe(gi(i=>pi(Ux(i.route.parent,r),Vx(i.route,r),Bx(t,i.path,n),jx(t,i.route,n))),zt(i=>i!==!0,!0))}function Vx(t,e){return t!==null&&e&&e(new gp(t)),V(!0)}function Ux(t,e){return t!==null&&e&&e(new fp(t)),V(!0)}function jx(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(s=>cc(()=>{let o=So(e)??n,a=Gi(s,o),c=Px(a)?a.canActivate(e,t):br(o,()=>a(e,t));return Wn(c).pipe(zt())}));return V(i).pipe(zi())}function Bx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Cx(o)).filter(o=>o!==null).map(o=>cc(()=>{let a=o.guards.map(c=>{let u=So(o.node)??n,l=Gi(c,u),d=Nx(l)?l.canActivateChild(r,t):br(u,()=>l(r,t));return Wn(d).pipe(zt())});return V(a).pipe(zi())}));return V(s).pipe(zi())}function $x(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let c=So(e)??i,u=Gi(a,c),l=xx(u)?u.canDeactivate(t,e,n,r):br(c,()=>u(t,e,n,r));return Wn(l).pipe(zt())});return V(o).pipe(zi())}function Hx(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let s=i.map(o=>{let a=Gi(o,t),c=Mx(a)?a.canLoad(e,n):br(t,()=>a(e,n));return Wn(c)});return V(s).pipe(zi(),vT(r))}function vT(t){return Ga(Ie(e=>{if(qi(e))throw pT(t,e)}),J(e=>e===!0))}function qx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let s=i.map(o=>{let a=Gi(o,t),c=Ox(a)?a.canMatch(e,n):br(t,()=>a(e,n));return Wn(c)});return V(s).pipe(zi(),vT(r))}var bo=class{constructor(e){this.segmentGroup=e||null}},Tu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ui(t){return fi(new bo(t))}function zx(t){return fi(new _(4e3,!1))}function Gx(t){return fi(gT(!1,3))}var Tp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new _(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[$])return zx(e.redirectTo);i=i.children[$]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new qn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wx(t,e,n,r,i){let s=Op(t,e,n);return s.matched?(r=Ix(e,r),qx(r,e,n,i).pipe(J(o=>o===!0?s:S({},Dp)))):V(s)}function Op(t,e,n){if(e.path==="**")return Kx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qN)(n,t,e);if(!i)return S({},Dp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kx(t){return{matched:!0,parameters:t.length>0?ZI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QI(t,e,n,r){return n.length>0&&Zx(t,n,r)?{segmentGroup:new ie(e,Yx(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&Jx(t,n,r)?{segmentGroup:new ie(t.segments,Qx(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function Qx(t,e,n,r,i){let s={};for(let o of r)if(bu(t,n,o)&&!i[nn(o)]){let a=new ie([],{});s[nn(o)]=a}return S(S({},i),s)}function Yx(t,e){let n={};n[$]=e;for(let r of t)if(r.path===""&&nn(r)!==$){let i=new ie([],{});n[nn(r)]=i}return n}function Zx(t,e,n){return n.some(r=>bu(t,e,r)&&nn(r)!==$)}function Jx(t,e,n){return n.some(r=>bu(t,e,r))}function bu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Xx(t,e,n,r){return nn(t)!==r&&(r===$||!bu(e,n,t))?!1:Op(e,t,n).matched}function eO(t,e,n){return e.length===0&&!t.children[n]}var bp=class{};function tO(t,e,n,r,i,s,o="emptyOnly"){return new Cp(t,e,n,r,i,o,s).recognize()}var nO=31,Cp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Tp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,!1)}recognize(){let e=QI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(n=>{let r=new To([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new ct(r,n),s=new Eu("",i),o=ux(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$).pipe(xn(r=>{if(r instanceof Tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Rp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(J(s=>s instanceof ct?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return me(i).pipe(gi(s=>{let o=r.children[s],a=Tx(n,s);return this.processSegmentGroup(e,a,o,s)}),dc((s,o)=>(s.push(...o),s)),On(null),$d(),Ae(s=>{if(s===null)return Ui(r);let o=_T(s);return rO(o),V(o)}))}processSegment(e,n,r,i,s,o){return me(n).pipe(gi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xn(c=>{if(c instanceof bo)return V(null);throw c}))),zt(a=>!!a),xn(a=>{if(yT(a))return eO(r,i,s)?V(new bp):Ui(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Xx(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ui(i):Ui(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Op(n,i,s);if(!a)return Ui(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ae(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Wx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(it(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(it(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new To(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,sO(r),nn(r),r.component??r._loadedComponent??null,r,oO(r)),{segmentGroup:p,slicedSegments:g}=QI(n,l,d,c);if(g.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(J(I=>I===null?null:new ct(f,I)));if(c.length===0&&g.length===0)return V(new ct(f,[]));let y=nn(r)===s;return this.processSegment(u,c,p,g,y?$:s,!0).pipe(J(I=>new ct(f,I instanceof ct?[I]:[])))}))):Ui(n)))}getChildConfig(e,n,r){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):Hx(e,n,r,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Gx(n))):V({routes:[],injector:e})}};function rO(t){t.sort((e,n)=>e.value.outlet===$?-1:n.value.outlet===$?1:e.value.outlet.localeCompare(n.value.outlet))}function iO(t){let e=t.value.routeConfig;return e&&e.path===""}function _T(t){let e=[],n=new Set;for(let r of t){if(!iO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_T(r.children);e.push(new ct(r.value,i))}return e.filter(r=>!n.has(r))}function sO(t){return t.data||{}}function oO(t){return t.resolve||{}}function aO(t,e,n,r,i,s){return Ae(o=>tO(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:c})=>ge(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function cO(t,e){return Ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return V(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of wT(c))o.add(u);let a=0;return me(o).pipe(gi(c=>s.has(c)?uO(c,r,t,e):(c.data=Rp(c,c.parent,t).resolve,V(void 0))),Ie(()=>a++),mi(1),Ae(c=>a===o.size?V(n):et))})}function wT(t){let e=t.children.map(n=>wT(n)).flat();return[t,...e]}function uO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!hT(i)&&(s[Co]=i.title),lO(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=Rp(t,t.parent,n).resolve,null)))}function lO(t,e,n,r){let i=rp(t);if(i.length===0)return V({});let s={};return me(i).pipe(Ae(o=>dO(t[o],e,n,r).pipe(zt(),Ie(a=>{s[o]=a}))),mi(1),Bd(s),xn(o=>yT(o)?et:fi(o)))}function dO(t,e,n,r){let i=So(e)??r,s=Gi(t,i),o=s.resolve?s.resolve(e,n):br(i,()=>s(e,n));return Wn(o)}function tp(t){return it(e=>{let n=t(e);return n?me(n).pipe(J(()=>e)):V(e)})}var ET=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===$);return i}getResolvedTitleForRoute(r){return r.data[Co]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(hO))(),providedIn:"root"});let t=e;return t})(),hO=(()=>{let e=class e extends ET{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(k(Zf))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kp=new q("",{providedIn:"root",factory:()=>({})}),Fp=new q("ROUTES"),fO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(Vf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return V(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Wn(r.loadComponent()).pipe(J(IT),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),xs(()=>{this.componentLoaders.delete(r)})),s=new ui(i,()=>new He).pipe(ci());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return V({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=pO(i,this.compiler,r,this.onLoadEndListener).pipe(xs(()=>{this.childrenLoaders.delete(i)})),a=new ui(o,()=>new He).pipe(ci());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pO(t,e,n,r){return Wn(t.loadChildren()).pipe(J(IT),Ae(i=>i instanceof zs||Array.isArray(i)?V(i):me(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Fp,[],{optional:!0,self:!0}).flat()),{routes:o.map(xp),injector:s}}))}function gO(t){return t&&typeof t=="object"&&"default"in t}function IT(t){return gO(t)?t.default:t}var Lp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(mO))(),providedIn:"root"});let t=e;return t})(),mO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yO=new q("");var vO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=b(fO),this.environmentInjector=b(vt),this.urlSerializer=b(Ap),this.rootContexts=b(Du),this.location=b(oo),this.inputBindingEnabled=b(Np,{optional:!0})!==null,this.titleStrategy=b(ET),this.options=b(kp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(Lp),this.createViewTransition=b(yO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let r=s=>this.events.next(new dp(s)),i=s=>this.events.next(new hp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ge(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(o=>o.id!==0),J(o=>ge(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),it(o=>{this.currentTransition=o;let a=!1,c=!1;return V(o).pipe(Ie(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),it(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),et}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return V(u).pipe(it(h=>{let f=this.transitions?.getValue();return this.events.next(new _o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?et:Promise.resolve(h)}),aO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ge(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new vu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=u,I=new _o(h,this.urlSerializer.serialize(f),p,g);this.events.next(I);let A=lT(f,this.rootComponentType).snapshot;return this.currentTransition=o=ge(S({},u),{targetSnapshot:A,urlAfterRedirects:f,extras:ge(S({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),et}}),Ie(u=>{let l=new ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=o=ge(S({},u),{guards:bx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),kx(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,qi(u.guardsResult))throw pT(this.urlSerializer,u.guardsResult);let l=new cp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ft(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),tp(u=>{if(u.guards.canActivateChecks.length)return V(u).pipe(Ie(l=>{let d=new up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),it(l=>{let d=!1;return V(l).pipe(cO(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ie(l=>{let d=new lp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),tp(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(f=>{d.component=f}),J(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ac(l(u.targetSnapshot.root)).pipe(On(),yn(1))}),tp(()=>this.afterPreactivation()),it(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?me(d).pipe(J(()=>o)):V(o)}),J(u=>{let l=yx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ge(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new Eo)}),Dx(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),yn(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),qd(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),xs(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xn(u=>{if(c=!0,mT(u))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),wx(u)?this.events.next(new Io(u.url)):o.resolve(!1);else{this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return et}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _O(t){return t!==mo}var wO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(EO))(),providedIn:"root"});let t=e;return t})(),Sp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EO=(()=>{let e=class e extends Sp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=of(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(IO))(),providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e extends TT{constructor(){super(...arguments),this.location=b(oo),this.urlSerializer=b(Ap),this.options=b(kp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(Lp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lT(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _o)this.stateMemento=this.createStateMemento();else if(r instanceof Nr)this.rawUrlTree=i.initialUrl;else if(r instanceof vu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Eo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Gn&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof wo?this.restoreHistory(i,!0):r instanceof zn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=of(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(po||{});function TO(t,e){t.events.pipe(ft(n=>n instanceof zn||n instanceof Gn||n instanceof wo||n instanceof Nr),J(n=>n instanceof zn||n instanceof Nr?po.COMPLETE:(n instanceof Gn?n.code===0||n.code===1:!1)?po.REDIRECTING:po.FAILED),ft(n=>n!==po.REDIRECTING),yn(1)).subscribe(()=>{e()})}function DO(t){throw t}var bO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ro=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(iu),this.stateManager=b(TT),this.options=b(kp,{optional:!0})||{},this.pendingTasks=b(Lf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(vO),this.urlSerializer=b(Ap),this.location=b(oo),this.urlHandlingStrategy=b(Lp),this._events=new He,this.errorHandler=this.options.errorHandler||DO,this.navigated=!1,this.routeReuseStrategy=b(wO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(Fp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(Np,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=b(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof zn)this.navigated=!0;else if(i instanceof Io){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_O(s.source)};this.scheduleNavigation(a,mo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}AO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=oT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return aT(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=qi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,mo,null,i)}navigate(r,i={skipLocationChange:!1}){return SO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},bO):i===!1?s=S({},CO):s=i,qi(r))return zI(this.currentUrlTree,r,s);let o=this.parseUrl(r);return zI(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return TO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function AO(t){return!(t instanceof Eo)&&!(t instanceof Io)}var DT=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:ME(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Ne(Ro),Ne(Tn),af("tabindex"),Ne(xi),Ne(Xt),Ne(Vi))},e.\u0275dir=Ri({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ki("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Pf("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",so],skipLocationChange:["skipLocationChange","skipLocationChange",so],replaceUrl:["replaceUrl","replaceUrl",so],routerLink:"routerLink"},standalone:!0,features:[Mf,Qs]});let t=e;return t})();var RO=new q("");function bT(t,...e){return Wc([{provide:Fp,multi:!0,useValue:t},[],{provide:Tn,useFactory:MO,deps:[Ro]},{provide:Uf,multi:!0,useFactory:PO},e.map(n=>n.\u0275providers)])}function MO(t){return t.routerState.root}function PO(){let t=b(Jt);return e=>{let n=t.get(Ar);if(e!==n.components[0])return;let r=t.get(Ro),i=t.get(NO);t.get(xO)===1&&r.initialNavigation(),t.get(OO,null,W.Optional)?.setUpPreloading(),t.get(RO,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var NO=new q("",{factory:()=>new He}),xO=new q("",{providedIn:"root",factory:()=>1});var OO=new q("");var ST=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ST(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Up;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Up=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LO=function(t){let e=ST(t);return AT.encodeByteArray(e,!0)},Mo=function(t){return LO(t).replace(/\./g,"")},Bp=function(t){try{return AT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var UO=()=>VO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bp(t[1]);return e&&JSON.parse(e)},$p=()=>{try{return UO()||jO()||BO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RT=t=>{var e,n;return(n=(e=$p())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MT=t=>{let e=RT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hp=()=>{var t;return(t=$p())===null||t===void 0?void 0:t.config},PT=t=>{var e;return(e=$p())===null||e===void 0?void 0:e[`_${t}`]};var Cu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function NT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Mo(JSON.stringify(n)),Mo(JSON.stringify(o)),a].join(".")}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function OT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qp(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var $O="FirebaseError",Dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$O,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}},Dn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,a,r)}};function HO(t,e){return t.replace(qO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qO=/\{\$([^}]+)}/g;function Wi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(CT(s)&&CT(o)){if(!Wi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CT(t){return t!==null&&typeof t=="object"}function zp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LT(t,e){let n=new jp(t,e);return n.subscribe.bind(n)}var jp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}var J4=4*60*60*1e3;function Kn(t){return t&&t._delegate?t._delegate:t}var Ct=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xr="[DEFAULT]";var Gp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WO(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GO(t){return t===xr?void 0:t}function WO(t){return t.instantiationMode==="EAGER"}var Su=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var KO=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),QO={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},YO=Z.INFO,ZO={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},JO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qn=class{constructor(e){this.name=e,this._logLevel=YO,this._logHandler=JO,this._userLogHandler=null,KO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};var XO=(t,e)=>e.some(n=>t instanceof n),VT,UT;function ek(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tk(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jT=new WeakMap,Kp=new WeakMap,BT=new WeakMap,Wp=new WeakMap,Yp=new WeakMap;function nk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}function rk(t){if(Kp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kp.set(t,e)}var Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $T(t){Qp=t(Qp)}function ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Au(this),e,...n);return BT.set(r,e.sort?e.sort():[e]),rn(r)}:tk().includes(t)?function(...e){return t.apply(Au(this),e),rn(jT.get(this))}:function(...e){return rn(t.apply(Au(this),e))}}function sk(t){return typeof t=="function"?ik(t):(t instanceof IDBTransaction&&rk(t),XO(t,ek())?new Proxy(t,Qp):t)}function rn(t){if(t instanceof IDBRequest)return nk(t);if(Wp.has(t))return Wp.get(t);let e=sk(t);return e!==t&&(Wp.set(t,e),Yp.set(e,t)),e}var Au=t=>Yp.get(t);function qT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=rn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rn(o.result),c.oldVersion,c.newVersion,rn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var ok=["get","getKey","getAll","getAllKeys","count"],ak=["put","add","delete","clear"],Zp=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ak.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ok.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Zp.set(e,s),s}$T(t=>ge(S({},t),{get:(e,n,r)=>HT(e,n)||t.get(e,n,r),has:(e,n)=>!!HT(e,n)||t.has(e,n)}));var Xp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ck(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ck(t){let e=t.getComponent();return e?.type==="VERSION"}var eg="@firebase/app",zT="0.9.25";var Or=new Qn("@firebase/app"),uk="@firebase/app-compat",lk="@firebase/analytics-compat",dk="@firebase/analytics",hk="@firebase/app-check-compat",fk="@firebase/app-check",pk="@firebase/auth",gk="@firebase/auth-compat",mk="@firebase/database",yk="@firebase/database-compat",vk="@firebase/functions",_k="@firebase/functions-compat",wk="@firebase/installations",Ek="@firebase/installations-compat",Ik="@firebase/messaging",Tk="@firebase/messaging-compat",Dk="@firebase/performance",bk="@firebase/performance-compat",Ck="@firebase/remote-config",Sk="@firebase/remote-config-compat",Ak="@firebase/storage",Rk="@firebase/storage-compat",Mk="@firebase/firestore",Pk="@firebase/firestore-compat",Nk="firebase",xk="10.7.1";var tg="[DEFAULT]",Ok={[eg]:"fire-core",[uk]:"fire-core-compat",[dk]:"fire-analytics",[lk]:"fire-analytics-compat",[fk]:"fire-app-check",[hk]:"fire-app-check-compat",[pk]:"fire-auth",[gk]:"fire-auth-compat",[mk]:"fire-rtdb",[yk]:"fire-rtdb-compat",[vk]:"fire-fn",[_k]:"fire-fn-compat",[wk]:"fire-iid",[Ek]:"fire-iid-compat",[Ik]:"fire-fcm",[Tk]:"fire-fcm-compat",[Dk]:"fire-perf",[bk]:"fire-perf-compat",[Ck]:"fire-rc",[Sk]:"fire-rc-compat",[Ak]:"fire-gcs",[Rk]:"fire-gcs-compat",[Mk]:"fire-fst",[Pk]:"fire-fst-compat","fire-js":"fire-js",[Nk]:"fire-js-all"};var Po=new Map,ng=new Map;function kk(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zn(t){let e=t.name;if(ng.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(let n of Po.values())kk(n,t);return!0}function og(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yn=new Dn("app","Firebase",Fk);var rg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Ki=xk;function ag(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:tg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Hp()),!n)throw Yn.create("no-options");let s=Po.get(i);if(s){if(Wi(n,s.options)&&Wi(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}let o=new Su(i);for(let c of ng.values())o.addComponent(c);let a=new rg(n,r,o);return Po.set(i,a),a}function xo(t=tg){let e=Po.get(t);if(!e&&t===tg&&Hp())return ag();if(!e)throw Yn.create("no-app",{appName:t});return e}function Ru(){return Array.from(Po.values())}function xe(t,e,n){var r;let i=(r=Ok[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Zn(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Lk="firebase-heartbeat-database",Vk=1,No="firebase-heartbeat-store",Jp=null;function QT(){return Jp||(Jp=qT(Lk,Vk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(No)}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Jp}function Uk(t){return m(this,null,function*(){try{return yield(yield QT()).transaction(No).objectStore(No).get(YT(t))}catch(e){if(e instanceof Dt)Or.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}})}function GT(t,e){return m(this,null,function*(){try{let r=(yield QT()).transaction(No,"readwrite");yield r.objectStore(No).put(e,YT(t)),yield r.done}catch(n){if(n instanceof Dt)Or.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});Or.warn(r.message)}}})}function YT(t){return`${t.name}!${t.options.appId}`}var jk=1024,Bk=30*24*60*60*1e3,ig=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Bk}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WT(),{heartbeatsToSend:r,unsentEntries:i}=$k(this._heartbeatsCache.heartbeats),s=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function WT(){return new Date().toISOString().substring(0,10)}function $k(t,e=jk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var sg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return qp()?FT().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Uk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function KT(t){return Mo(JSON.stringify({version:2,heartbeats:t})).length}function Hk(t){Zn(new Ct("platform-logger",e=>new Xp(e),"PRIVATE")),Zn(new Ct("heartbeat",e=>new ig(e),"PRIVATE")),xe(eg,zT,t),xe(eg,zT,"esm2017"),xe("fire-js","")}Hk("");var qk="firebase",zk="10.7.1";xe(qk,zk,"app");var Yi=new Vn("ANGULARFIRE2_VERSION");function ug(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ko=(t,e)=>{let n=e?[e]:Ru(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Oo=class{constructor(){return ko(Gk)}},Gk="app-check";function Qi(){}var Mu=class{zone;delegate;constructor(e,n=Fd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},cg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Mu(Zone.current)),this.insideAngular=n.run(()=>new Mu(Zone.current,kd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(k(ce))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Wk(t){return Pu().ngZone.runOutsideAngular(()=>t())}function kr(t){return Pu().ngZone.run(()=>t())}function Kk(t){return Qk(Pu())(t)}function Qk(t){return function(n){return n=n.lift(new cg(t.ngZone)),n.pipe(Nn(t.outsideAngular),Pn(t.insideAngular))}}var Yk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),kr(()=>t.apply(void 0,r))},Fr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=kr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi))),r[s]=Yk(r[s],n));let i=Wk(()=>t.apply(this,r));if(!e)if(i instanceof Q){let s=Pu();return i.pipe(Nn(s.outsideAngular),Pn(s.insideAngular))}else return kr(()=>i);return i instanceof Q?i.pipe(Kk):i instanceof Promise?kr(()=>new Promise((s,o)=>i.then(a=>kr(()=>s(a)),a=>kr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:kr(()=>i)};var Lr=class{constructor(e){return e}},Lo=class{constructor(){return Ru()}};function Zk(t){return t&&t.length===1?t[0]:new Lr(xo())}var lg=new q("angularfire2._apps"),Jk={provide:Lr,useFactory:Zk,deps:[[new Lt,lg]]},Xk={provide:Lo,deps:[[new Lt,lg]]};function e1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lr(r)}}var t1=(()=>{class t{constructor(n){xe("angularfire",Yi.full,"core"),xe("angularfire",Yi.full,"app"),xe("angular",Tf.full,n.toString())}static \u0275fac=function(r){return new(r||t)(k(Bn))};static \u0275mod=En({type:t});static \u0275inj=wn({providers:[Jk,Xk]})}return t})();function ZT(t,...e){return{ngModule:t1,providers:[{provide:lg,useFactory:e1(t),multi:!0,deps:[ce,Jt,Fo,...e]}]}}var JT=Fr(ag,!0);function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oD=sD,aD=new Dn("auth","Firebase",sD());var Ou=new Qn("@firebase/auth");function r1(t,...e){Ou.logLevel<=Z.WARN&&Ou.warn(`Auth (${Ki}): ${t}`,...e)}function xu(t,...e){Ou.logLevel<=Z.ERROR&&Ou.error(`Auth (${Ki}): ${t}`,...e)}function XT(t,...e){throw Eg(t,...e)}function cD(t,...e){return Eg(t,...e)}function i1(t,e,n){let r=Object.assign(Object.assign({},oD()),{[e]:n});return new Dn("auth","Firebase",r).create(e,{appName:t.name})}function Eg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aD.create(t,...e)}function oe(t,e,...n){if(!t)throw Eg(e,...n)}function Vo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function ku(t,e){t||Vo(e)}function s1(){return eD()==="http:"||eD()==="https:"}function eD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function o1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s1()||OT()||"connection"in navigator)?navigator.onLine:!0}function a1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ur=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ku(n>e,"Short delay should be less than long delay!"),this.isMobile=xT()||kT()}get(){return o1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function c1(t,e){ku(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l1=new Ur(3e4,6e4);function uD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hu(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return lD(t,i,()=>m(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=zp(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Fu.fetch()(dD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function lD(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},u1),e);try{let i=new fg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw i1(t,l,u);XT(t,l)}}catch(i){if(i instanceof Dt)throw i;XT(t,"network-request-failed",{message:String(i)})}})}function dD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?c1(t.config,i):`${t.config.apiScheme}://${i}`}var fg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cD(this.auth,"network-request-failed")),l1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Nu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=cD(t,e,r);return i.customData._tokenResponse=n,i}function d1(t,e){return m(this,null,function*(){return Hu(t,"POST","/v1/accounts:delete",e)})}function h1(t,e){return m(this,null,function*(){return Hu(t,"POST","/v1/accounts:lookup",e)})}function Uo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ig(t,e=!1){return m(this,null,function*(){let n=Kn(t),r=yield n.getIdToken(e),i=hD(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Uo(dg(i.auth_time)),issuedAtTime:Uo(dg(i.iat)),expirationTime:Uo(dg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function dg(t){return Number(t)*1e3}function hD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bp(n);return i?JSON.parse(i):(xu("Failed to decode base64 JWT payload"),null)}catch(i){return xu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f1(t){let e=hD(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pg(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Dt&&p1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function p1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var gg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vu(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield pg(t,h1(n,{idToken:r}));oe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?m1(s.providerUserInfo):[],a=g1(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Tg(t){return m(this,null,function*(){let e=Kn(t);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function g1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function m1(t){return t.map(e=>{var{providerId:n}=e,r=Vd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function y1(t,e){return m(this,null,function*(){let n=yield lD(t,{},()=>m(this,null,function*(){let r=zp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=dD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function v1(t,e){return m(this,null,function*(){return Hu(t,"POST","/v2/accounts:revokeToken",uD(t,e))})}var Uu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield y1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vo("not implemented")}};function Jn(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ju=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield pg(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ig(this,e)}reload(){return Tg(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield pg(this,d1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:P,emailVerified:L,isAnonymous:he,providerData:B,stsTokenManager:ne}=n;oe(P&&ne,e,"internal-error");let we=Uu.fromJSON(this.name,ne);oe(typeof P=="string",e,"internal-error"),Jn(d,e.name),Jn(h,e.name),oe(typeof L=="boolean",e,"internal-error"),oe(typeof he=="boolean",e,"internal-error"),Jn(f,e.name),Jn(p,e.name),Jn(g,e.name),Jn(y,e.name),Jn(I,e.name),Jn(A,e.name);let Le=new t({uid:P,auth:e,email:h,emailVerified:L,displayName:d,isAnonymous:he,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:we,createdAt:I,lastLoginAt:A});return B&&Array.isArray(B)&&(Le.providerData=B.map(Be=>Object.assign({},Be))),y&&(Le._redirectEventId=y),Le}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new Uu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(s),s})}};var tD=new Map;function Vr(t){ku(t instanceof Function,"Expected a class definition");let e=tD.get(t);return e?(ku(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tD.set(t,e),e)}var _1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),mg=_1;function hg(t,e,n){return`firebase:${t}:${e}:${n}`}var Bu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=hg(this.userKey,i.apiKey,s),this.fullPersistenceKey=hg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ju._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(Vr(mg),e,r);let i=(yield Promise.all(n.map(u=>m(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Vr(mg),o=hg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=ju._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>m(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function nD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b1(e))return"Blackberry";if(C1(e))return"Webos";if(E1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function w1(t=bt()){return/firefox\//i.test(t)}function E1(t=bt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(t=bt()){return/crios\//i.test(t)}function T1(t=bt()){return/iemobile/i.test(t)}function D1(t=bt()){return/android/i.test(t)}function b1(t=bt()){return/blackberry/i.test(t)}function C1(t=bt()){return/webos/i.test(t)}function fD(t,e=[]){let n;switch(t){case"Browser":n=nD(bt());break;case"Worker":n=`${nD(bt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}var yg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function S1(n){return m(this,arguments,function*(t,e={}){return Hu(t,"GET","/v2/passwordPolicy",uD(t,e))})}var A1=6,vg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:A1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _g=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $u(this),this.idTokenSubscription=new $u(this),this.beforeStateQueue=new yg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Vu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=a1()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?Kn(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield S1(this),n=new vg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield v1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield Bu.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&r1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function R1(t){return Kn(t)}var $u=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LT(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function M1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function P1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var G9=M1("rcb"),W9=new Ur(3e4,6e4);var K9=new Ur(2e3,1e4);var Q9=10*60*1e3;var Y9=new Ur(3e4,6e4);var Z9=new Ur(5e3,15e3);var J9=encodeURIComponent("fac");var rD="@firebase/auth",iD="1.5.1";var wg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function N1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function x1(t){Zn(new Ct("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fD(t)},u=new _g(r,i,s,c);return P1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new Ct("auth-internal",e=>{let n=R1(e.getProvider("auth").getImmediate());return(r=>new wg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(rD,iD,N1(t)),xe(rD,iD,"esm2017")}var O1=5*60,X9=PT("authIdTokenMaxAge")||O1;x1("Browser");var xF="auth";var qu=class{constructor(){return ko(xF)}};var OF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},w,zg=zg||{},F=OF||self;function il(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kF(t){return Object.prototype.hasOwnProperty.call(t,Dg)&&t[Dg]||(t[Dg]=++FF)}var Dg="closure_uid_"+(1e9*Math.random()>>>0),FF=0;function LF(t,e,n){return t.call.apply(t.bind,arguments)}function VF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qe=LF:qe=VF,qe.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xn(){this.s=this.s,this.o=this.o}var UF=0;Xn.prototype.s=!1;Xn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),UF!=0)&&kF(this)};Xn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var CD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(il(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ze(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var jF=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function zo(t){return/^[\s\xa0]*$/.test(t)}function sl(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function sn(t){return sl().indexOf(t)!=-1}function Wg(t){return Wg[" "](t),t}Wg[" "]=function(){};function BF(t,e){var n=RL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $F=sn("Opera"),es=sn("Trident")||sn("MSIE"),SD=sn("Edge"),Rg=SD||es,AD=sn("Gecko")&&!(sl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge"))&&!(sn("Trident")||sn("MSIE"))&&!sn("Edge"),HF=sl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge");function RD(){var t=F.document;return t?t.documentMode:void 0}var Mg;e:{if(Gu="",Wu=function(){var t=sl();if(AD)return/rv:([^\);]+)(\)|;)/.exec(t);if(SD)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HF)return/WebKit\/(\S+)/.exec(t);if($F)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Wu&&(Gu=Wu?Wu[1]:""),es&&(Ku=RD(),Ku!=null&&Ku>parseFloat(Gu))){Mg=String(Ku);break e}Mg=Gu}var Gu,Wu,Ku,Pg;F.document&&es?(bg=RD(),Pg=bg||parseInt(Mg,10)||void 0):Pg=void 0;var bg,qF=Pg;function Go(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AD){e:{try{Wg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Go.$.h.call(this)}}ke(Go,ze);var zF={2:"touch",3:"pen",4:"mouse"};Go.prototype.h=function(){Go.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ea="closure_listenable_"+(1e6*Math.random()|0),GF=0;function WF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++GF,this.fa=this.ia=!1}function ol(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Kg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function KF(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function MD(t){let e={};for(let n in t)e[n]=t[n];return e}var gD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gD.length;s++)n=gD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function al(t){this.src=t,this.g={},this.h=0}al.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=xg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new WF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ng(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=CD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ol(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function xg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Qg="closure_lm_"+(1e6*Math.random()|0),Cg={};function ND(t,e,n,r,i){if(r&&r.once)return OD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ND(t,e[s],n,r,i);return null}return n=Jg(n),t&&t[ea]?t.O(e,n,Xo(r)?!!r.capture:!!r,i):xD(t,e,n,!1,r,i)}function xD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xo(i)?!!i.capture:!!i,a=Zg(t);if(a||(t[Qg]=a=new al(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=QF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QF(){function t(n){return e.call(t.src,t.listener,n)}let e=YF;return t}function OD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OD(t,e[s],n,r,i);return null}return n=Jg(n),t&&t[ea]?t.P(e,n,Xo(r)?!!r.capture:!!r,i):xD(t,e,n,!0,r,i)}function kD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kD(t,e[s],n,r,i);else r=Xo(r)?!!r.capture:!!r,n=Jg(n),t&&t[ea]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=xg(s,n,r,i),-1<n&&(ol(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xg(e,n,r,i)),(n=-1<t?e[t]:null)&&Yg(n))}function Yg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ea])Ng(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zg(e))?(Ng(n,t),n.h==0&&(n.src=null,e[Qg]=null)):ol(t)}}}function FD(t){return t in Cg?Cg[t]:Cg[t]="on"+t}function YF(t,e){if(t.fa)t=!0;else{e=new Go(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yg(t),t=n.call(r,e)}return t}function Zg(t){return t=t[Qg],t instanceof al?t:null}var Sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jg(t){return typeof t=="function"?t:(t[Sg]||(t[Sg]=function(e){return t.handleEvent(e)}),t[Sg])}function Oe(){Xn.call(this),this.i=new al(this),this.S=this,this.J=null}ke(Oe,Xn);Oe.prototype[ea]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){kD(this,t,e,n,r)};function je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ze(e,t);else if(e instanceof ze)e.target=e.target||t;else{var i=e;e=new ze(r,t),PD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qu(o,r,!0,e)&&i}if(o=e.g=t,i=Qu(o,r,!0,e)&&i,i=Qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qu(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ol(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Ng(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Xg=F.JSON.stringify,Og=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function ZF(){var t=em;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var kg=class{constructor(){this.h=this.g=null}add(e,n){let r=LD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},LD=new Og(()=>new Fg,t=>t.reset()),Fg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function JF(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function XF(t){F.setTimeout(()=>{throw t},0)}var Wo,Ko=!1,em=new kg,VD=()=>{let t=F.Promise.resolve(void 0);Wo=()=>{t.then(eL)}},eL=()=>{for(var t;t=ZF();){try{t.h.call(t.g)}catch(n){XF(n)}var e=LD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ko=!1};function cl(t,e){Oe.call(this),this.h=t||1,this.g=e||F,this.j=qe(this.qb,this),this.l=Date.now()}ke(cl,Oe);w=cl.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(tm(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){cl.$.N.call(this),tm(this),delete this.g};function nm(t,e,n){if(typeof t=="function")n&&(t=qe(t,n));else if(t&&typeof t.handleEvent=="function")t=qe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function UD(t){t.g=nm(()=>{t.g=null,t.i&&(t.i=!1,UD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Lg=class extends Xn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UD(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Qo(t){Xn.call(this),this.h=t,this.g={}}ke(Qo,Xn);var mD=[];function jD(t,e,n,r){Array.isArray(n)||(n&&(mD[0]=n.toString()),n=mD);for(var i=0;i<n.length;i++){var s=ND(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BD(t){Kg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yg(e)},t),t.g={}}Qo.prototype.N=function(){Qo.$.N.call(this),BD(this)};Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ul(){this.g=!0}ul.prototype.Ea=function(){this.g=!1};function tL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function nL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ji(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+iL(t,n)+(r?" "+r:"")})}function rL(t,e){t.info(function(){return"TIMEOUT: "+e})}ul.prototype.info=function(){};function iL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Xg(n)}catch{return e}}var Hr={},yD=null;function ll(){return yD=yD||new Oe}Hr.Ta="serverreachability";function $D(t){ze.call(this,Hr.Ta,t)}ke($D,ze);function Yo(t){let e=ll();je(e,new $D(e))}Hr.STAT_EVENT="statevent";function HD(t,e){ze.call(this,Hr.STAT_EVENT,t),this.stat=e}ke(HD,ze);function Je(t){let e=ll();je(e,new HD(e,t))}Hr.Ua="timingevent";function qD(t,e){ze.call(this,Hr.Ua,t),this.size=e}ke(qD,ze);function ta(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var dl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rm(){}rm.prototype.h=null;function vD(t){return t.h||(t.h=t.i())}function GD(){}var na={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function im(){ze.call(this,"d")}ke(im,ze);function sm(){ze.call(this,"c")}ke(sm,ze);var Vg;function hl(){}ke(hl,rm);hl.prototype.g=function(){return new XMLHttpRequest};hl.prototype.i=function(){return{}};Vg=new hl;function ra(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qo(this),this.P=sL,t=Rg?125:void 0,this.V=new cl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WD}function WD(){this.i=null,this.g="",this.h=!1}var sL=45e3,KD={},Ug={};w=ra.prototype;w.setTimeout=function(t){this.P=t};function jg(t,e,n){t.L=1,t.A=pl(Cn(e)),t.u=n,t.S=!0,QD(t,null)}function QD(t,e){t.G=Date.now(),ia(t),t.B=Cn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WD,t.g=Db(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Lg(qe(t.Pa,t,t.g),t.O)),jD(t.U,t.g,"readystatechange",t.nb),e=t.I?MD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Yo(),tL(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&on(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=on(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Rg||this.g&&(this.h.h||this.g.ja()||ID(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Yo(3):Yo(2)),fl(this);var n=this.g.da();this.ca=n;t:if(YD(this)){var r=ID(this.g);t="";var i=r.length,s=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),qo(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,nL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zo(a)){var u=a;break t}}u=null}if(n=u)Ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bg(this,n);else{this.i=!1,this.s=3,Je(12),jr(this),qo(this);break e}}this.S?(ZD(this,l,o),Rg&&this.i&&l==3&&(jD(this.U,this.V,"tick",this.mb),this.V.start())):(Ji(this.j,this.m,o,null),Bg(this,o)),l==4&&jr(this),this.i&&!this.J&&(l==4?wb(this.l,this):(this.i=!1,ia(this)))}else CL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),jr(this),qo(this)}}}catch{}finally{}};function YD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ZD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=oL(t,n),i==Ug){e==4&&(t.s=4,Je(14),r=!1),Ji(t.j,t.m,null,"[Incomplete Response]");break}else if(i==KD){t.s=4,Je(15),Ji(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ji(t.j,t.m,i,null),Bg(t,i);YD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Je(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dm(e),e.M=!0,Je(11))):(Ji(t.j,t.m,n,"[Invalid Chunked Response]"),jr(t),qo(t))}w.mb=function(){if(this.g){var t=on(this.g),e=this.g.ja();this.o<e.length&&(fl(this),ZD(this,t,e),this.i&&t!=4&&ia(this))}};function oL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ug:(n=Number(e.substring(n,r)),isNaN(n)?KD:(r+=1,r+n>e.length?Ug:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,jr(this)};function ia(t){t.Y=Date.now()+t.P,JD(t,t.P)}function JD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ta(qe(t.lb,t),e)}function fl(t){t.C&&(F.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(rL(this.j,this.B),this.L!=2&&(Yo(),Je(17)),jr(this),this.s=2,qo(this)):JD(this,this.Y-t)};function qo(t){t.l.H==0||t.J||wb(t.l,t)}function jr(t){fl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,tm(t.V),BD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$g(n.i,t))){if(!t.K&&$g(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)el(n),yl(n);else break e;lm(n),Je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ta(qe(n.ib,n),6e3));if(1>=ob(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Br(n,11)}else if((t.K||n.g==t)&&el(n),!zo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(om(s,s.h),s.h=null))}if(r.F){let g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,de(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Tb(r,r.J?r.pa:null,r.Y),o.K){ab(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(fl(a),ia(a)),r.g=o}else vb(r);0<n.j.length&&vl(n)}else u[0]!="stop"&&u[0]!="close"||Br(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Br(n,7):um(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Yo(4)}catch{}}function aL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(il(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(il(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function XD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(il(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=cL(t),r=aL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $r){this.h=t.h,Ju(this,t.j),this.s=t.s,this.g=t.g,Xu(this,t.m),this.l=t.l;var e=t.i,n=new Zo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_D(this,n),this.o=t.o}else t&&(e=String(t).match(eb))?(this.h=!1,Ju(this,e[1]||"",!0),this.s=$o(e[2]||""),this.g=$o(e[3]||"",!0),Xu(this,e[4]),this.l=$o(e[5]||"",!0),_D(this,e[6]||"",!0),this.o=$o(e[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}$r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ho(e,wD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ho(e,wD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ho(n,n.charAt(0)=="/"?hL:dL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ho(n,pL)),t.join("")};function Cn(t){return new $r(t)}function Ju(t,e,n){t.j=n?$o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _D(t,e,n){e instanceof Zo?(t.i=e,gL(t.i,t.h)):(n||(e=Ho(e,fL)),t.i=new Zo(e,t.h))}function de(t,e,n){t.i.set(e,n)}function pl(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ho(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wD=/[#\/\?@]/g,dL=/[#\?:]/g,hL=/[#\?]/g,fL=/[#\?@]/g,pL=/#/g;function Zo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function er(t){t.g||(t.g=new Map,t.h=0,t.i&&uL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Zo.prototype;w.add=function(t,e){er(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tb(t,e){er(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nb(t,e){return er(t),e=ts(t,e),t.g.has(e)}w.forEach=function(t,e){er(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){er(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){er(this);let e=[];if(typeof t=="string")nb(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return er(this),this.i=null,t=ts(this,t),nb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rb(t,e,n){tb(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),Gg(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function gL(t,e){e&&!t.j&&(er(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tb(this,r),rb(this,i,n))},t)),t.j=e}var mL=class{constructor(t,e){this.g=t,this.map=e}};function ib(t){this.l=t||yL,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yL=10;function sb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ob(t){return t.h?1:t.g?t.g.size:0}function $g(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function om(t,e){t.g?t.g.add(e):t.h=e}function ab(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ib.prototype.cancel=function(){if(this.i=cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function cb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Gg(t.i)}var vL=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function _L(){this.g=new vL}function wL(t,e,n){let r=n||"";try{XD(t,function(i,s){let o=i;Xo(i)&&(o=Xg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function EL(t,e){let n=new ul;if(F.Image){let r=new Image;r.onload=zu(Yu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Yu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Yu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Yu,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sa(t){this.l=t.ec||null,this.j=t.ob||!1}ke(sa,rm);sa.prototype.g=function(){return new gl(this.l,this.j)};sa.prototype.i=function(t){return function(){return t}}({});function gl(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(gl,Oe);var am=0;w=gl.prototype;w.open=function(t,e){if(this.readyState!=am)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jo(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=am};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ub(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ub(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oa(this):Jo(this),this.readyState==3&&ub(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,oa(this))};w.Ya=function(t){this.g&&(this.response=t,oa(this))};w.ka=function(){this.g&&oa(this)};function oa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jo(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IL=F.JSON.parse;function ye(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lb,this.L=this.M=!1}ke(ye,Oe);var lb="",TL=/^https?$/i,DL=["POST","PUT"];w=ye.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vg.g(),this.C=this.u?vD(this.u):vD(Vg),this.g.onreadystatechange=qe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ED(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=CD(DL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fb(this),0<this.B&&((this.L=bL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.ua,this)):this.A=nm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ED(this,s)}};function bL(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function ED(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,db(t),ml(t)}function db(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),ml(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ml(this,!0)),ye.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?hb(this):this.kb())};w.kb=function(){hb(this)};function hb(t){if(t.h&&typeof zg<"u"&&(!t.C[1]||on(t)!=4||t.da()!=2)){if(t.v&&on(t)==4)nm(t.La,0,t);else if(je(t,"readystatechange"),on(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eb)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!TL.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var s=2<on(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",db(t)}}finally{ml(t)}}}}function ml(t,e){if(t.g){fb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function fb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function on(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IL(e)}};function ID(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function CL(t){let e={};t=(t.g&&2<=on(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zo(t[r]))continue;var n=JF(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}KF(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pb(t){let e="";return Kg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function jo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gb(t){this.Ga=0,this.j=[],this.l=new ul,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jo("baseRetryDelayMs",5e3,t),this.hb=jo("retryDelaySeedMs",1e4,t),this.eb=jo("forwardChannelMaxRetries",2,t),this.xa=jo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ib(t&&t.concurrentRequestLimit),this.Ja=new _L,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=gb.prototype;w.ra=8;w.H=1;function um(t){if(mb(t),t.H==3){var e=t.W++,n=Cn(t.I);if(de(n,"SID",t.K),de(n,"RID",e),de(n,"TYPE","terminate"),aa(t,n),e=new ra(t,t.l,e),e.L=2,e.A=pl(Cn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=Db(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ia(e)}Ib(t)}function yl(t){t.g&&(dm(t),t.g.cancel(),t.g=null)}function mb(t){yl(t),t.u&&(F.clearTimeout(t.u),t.u=null),el(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function vl(t){if(!sb(t.i)&&!t.m){t.m=!0;var e=t.Na;Wo||VD(),Ko||(Wo(),Ko=!0),em.add(e,t),t.C=0}}function SL(t,e){return ob(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ta(qe(t.Na,t,e),Eb(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ra(this,this.l,t),s=this.s;if(this.U&&(s?(s=MD(s),PD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yb(this,i,e),n=Cn(this.I),de(n,"RID",t),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),aa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pb(s)))+"&"+e:this.o&&cm(n,this.o,s)),om(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",e),de(n,"SID","null"),i.aa=!0,jg(i,n,null)):jg(i,n,e),this.H=2}}else this.H==3&&(t?TD(this,t):this.j.length==0||sb(this.i)||TD(this))};function TD(t,e){var n;e?n=e.m:n=t.W++;let r=Cn(t.I);de(r,"SID",t.K),de(r,"RID",n),de(r,"AID",t.V),aa(t,r),t.o&&t.s&&cm(r,t.o,t.s),n=new ra(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),om(t.i,n),jg(n,r,e)}function aa(t,e){t.na&&Kg(t.na,function(n,r){de(e,r,n)}),t.h&&XD({},function(n,r){de(e,r,n)})}function yb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?qe(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{wL(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wo||VD(),Ko||(Wo(),Ko=!0),em.add(e,t),t.A=0}}function lm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ta(qe(t.Ma,t),Eb(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,_b(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ta(qe(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),yl(this),_b(this))};function dm(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function _b(t){t.g=new ra(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cn(t.wa);de(e,"RID","rpc"),de(e,"SID",t.K),de(e,"AID",t.V),de(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&de(e,"TO",t.qa),de(e,"TYPE","xmlhttp"),aa(t,e),t.o&&t.s&&cm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pl(Cn(e)),n.u=null,n.S=!0,QD(n,t)}w.ib=function(){this.v!=null&&(this.v=null,yl(this),lm(this),Je(19))};function el(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function wb(t,e){var n=null;if(t.g==e){el(t),dm(t),t.g=null;var r=2}else if($g(t.i,e))n=e.F,ab(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ll(),je(r,new qD(r,n)),vl(t)}else vb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SL(t,e)||r==2&&lm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Br(t,5);break;case 4:Br(t,10);break;case 3:Br(t,6);break;default:Br(t,2)}}}function Eb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Br(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=qe(t.pb,t);n||(n=new $r("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||Ju(n,"https"),pl(n)),EL(n.toString(),r)}else Je(2);t.H=0,t.h&&t.h.za(e),Ib(t),mb(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function Ib(t){if(t.H=0,t.ma=[],t.h){let e=cb(t.i);(e.length!=0||t.j.length!=0)&&(pD(t.ma,e),pD(t.ma,t.j),t.i.i.length=0,Gg(t.j),t.j.length=0),t.h.ya()}}function Tb(t,e,n){var r=n instanceof $r?Cn(n):new $r(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xu(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $r(null);r&&Ju(s,r),e&&(s.g=e),i&&Xu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&de(r,n,e),de(r,"VER",t.ra),aa(t,r),r}function Db(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new sa({ob:n})):new ye(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function bb(){}w=bb.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function tl(){if(es&&!(10<=Number(qF)))throw Error("Environmental error: no available transport.")}tl.prototype.g=function(t,e){return new ut(t,e)};function ut(t,e){Oe.call(this),this.g=new gb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}ke(ut,Oe);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Je(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Tb(t,null,t.Y),vl(t)};ut.prototype.close=function(){um(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Xg(t),t=n);e.j.push(new mL(e.fb++,t)),e.H==3&&vl(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,um(this.g),delete this.g,ut.$.N.call(this)};function Cb(t){im.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(Cb,im);function Sb(){sm.call(this),this.status=1}ke(Sb,sm);function ns(t){this.g=t}ke(ns,bb);ns.prototype.Ba=function(){je(this.g,"a")};ns.prototype.Aa=function(t){je(this.g,new Cb(t))};ns.prototype.za=function(t){je(this.g,new Sb)};ns.prototype.ya=function(){je(this.g,"b")};function AL(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(Vt,AL);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ag(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ag(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ag(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ag(this,r),i=0;break}}this.h=i,this.i+=e};Vt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var RL={};function hm(t){return-128<=t&&128>t?BF(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function an(t){if(isNaN(t)||!isFinite(t))return Xi;if(0>t)return Ue(an(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hg;return new ae(e,0)}function Ab(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(Ab(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=an(Math.pow(e,8)),r=Xi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=an(Math.pow(e,s)),r=r.R(s).add(an(o))):(r=r.R(n),r=r.add(an(o)))}return r}var Hg=4294967296,Xi=hm(0),qg=hm(1),DD=hm(16777216);w=ae.prototype;w.ea=function(){if(St(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hg+r)*e,e*=Hg}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(bn(this))return"0";if(St(this))return"-"+Ue(this).toString(t);for(var e=an(Math.pow(t,6)),n=this,r="";;){var i=rl(n,e).g;n=nl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,bn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function bn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function St(t){return t.h==-1}w.X=function(t){return t=nl(this,t),St(t)?-1:bn(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(qg)}w.abs=function(){return St(this)?Ue(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function nl(t,e){return t.add(Ue(e))}w.R=function(t){if(bn(this)||bn(t))return Xi;if(St(this))return St(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(St(t))return Ue(this.R(Ue(t)));if(0>this.X(DD)&&0>t.X(DD))return an(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Zu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Zu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function Zu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bo(t,e){this.g=t,this.h=e}function rl(t,e){if(bn(e))throw Error("division by zero");if(bn(t))return new Bo(Xi,Xi);if(St(t))return e=rl(Ue(t),e),new Bo(Ue(e.g),Ue(e.h));if(St(e))return e=rl(t,Ue(e)),new Bo(Ue(e.g),e.h);if(30<t.g.length){if(St(t)||St(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qg,r=e;0>=r.X(t);)n=bD(n),r=bD(r);var i=Zi(n,1),s=Zi(r,1);for(r=Zi(r,2),n=Zi(n,2);!bn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zi(r,1),n=Zi(n,1)}return e=nl(t,i.R(e)),new Bo(i,e)}for(i=Xi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=an(n),o=s.R(e);St(o)||0<o.X(t);)n-=r,s=an(n),o=s.R(e);bn(s)&&(s=qg),i=i.add(s),t=nl(t,o)}return new Bo(i,t)}w.gb=function(t){return rl(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function bD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function Zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}tl.prototype.createWebChannel=tl.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;dl.NO_ERROR=0;dl.TIMEOUT=8;dl.HTTP_ERROR=6;zD.COMPLETE="complete";GD.EventType=na;na.OPEN="a";na.CLOSE="b";na.ERROR="c";na.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=an;ae.fromString=Ab;var Rb=Ut.createWebChannelTransport=function(){return new tl},Mb=Ut.getStatEventTarget=function(){return ll()},_l=Ut.ErrorCode=dl,Pb=Ut.EventType=zD,Nb=Ut.Event=Hr,fm=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},H5=Ut.FetchXmlHttpFactory=sa,ca=Ut.WebChannel=GD,xb=Ut.XhrIo=ye,Ob=Ut.Md5=Vt,qr=Ut.Integer=ae;var kb="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var Ts="10.7.0";var Qr=new Qn("@firebase/firestore");function ua(){return Qr.logLevel}function D(t,...e){if(Qr.logLevel<=Z.DEBUG){let n=e.map(zy);Qr.debug(`Firestore (${Ts}): ${t}`,...n)}}function An(t,...e){if(Qr.logLevel<=Z.ERROR){let n=e.map(zy);Qr.error(`Firestore (${Ts}): ${t}`,...n)}}function ds(t,...e){if(Qr.logLevel<=Z.WARN){let n=e.map(zy);Qr.warn(`Firestore (${Ts}): ${t}`,...n)}}function zy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function Se(t,e){t||j()}function re(t,e){return t}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},R=class extends Dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_m=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},wm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Em=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new Dl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Fe(e)}},Im=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Tm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Im(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Dm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function ML(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ML(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var At=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var H=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new At(0,0))}static max(){return new t(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ce=class t extends bl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new R(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},PL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends bl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return PL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new R(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new R(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new R(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};var Sm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Sm.UNKNOWN_ID=-1;function NL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Yr(i,x.empty(),e)}function xL(t){return new Yr(t.readTime,t.key,-1)}var Yr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(H.min(),x.empty(),-1)}static max(){return new t(H.max(),x.empty(),-1)}};function OL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var kL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Am=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gy(t){return m(this,null,function*(){if(t.code!==E.FAILED_PRECONDITION||t.message!==kL)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var v=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Aa(t){return t.name==="IndexedDbTransactionError"}var dC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Yl(t){return t==null}function Cl(t){return t===0&&1/t==-1/0}var FL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eG=[...FL,"documentOverlays"],LL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VL=LL,tG=[...VL,"indexConfiguration","indexState","indexEntries"];function Fb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UL(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _e=class t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},un=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class t{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sl(this.data.getIterator())}getIteratorFrom(e){return new Sl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zr=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new We(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Al=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xe=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Al("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xe.EMPTY_BYTE_STRING=new Xe("");var jL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(t){if(Se(!!t),typeof t=="string"){let e=0,n=jL.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rr(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}function Wy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ky(t){let e=t.mapValue.fields.__previous_value__;return Wy(e)?Ky(e):e}function ma(t){let e=nr(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}var Rm=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Rl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wy(t)?4:hC(t)?9007199254740991:10:j()}function dn(t,e){if(t===e)return!0;let n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=nr(i.timestampValue),a=nr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rr(i.bytesValue).isEqual(rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?Cl(o)===Cl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return hs(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fb(o)!==Fb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!dn(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function ya(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function fs(t,e){if(t===e)return 0;let n=Zr(t),r=Zr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Lb(t.timestampValue,e.timestampValue);case 4:return Lb(ma(t),ma(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=rr(s),c=rr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(ve(s.latitude),ve(o.latitude));return a!==0?a:se(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=fs(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wl.mapValue&&o===wl.mapValue)return 0;if(s===wl.mapValue)return 1;if(o===wl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=se(c[d],l[d]);if(h!==0)return h;let f=fs(a[c[d]],u[l[d]]);if(f!==0)return f}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw j()}}function Lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=nr(t),r=nr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function ps(t){return Mm(t)}function Mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Mm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Mm(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function Pm(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function Ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=da(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Sn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=da(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zl(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(da(this.value))}};var Bt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,H.min(),H.min(),H.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,H.min(),H.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,H.min(),H.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=fs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}var ms=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function BL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ml=class{},Re=class t extends Ml{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xm(e,n,r):n==="array-contains"?new Fm(e,r):n==="in"?new Lm(e,r):n==="not-in"?new Vm(e,r):n==="array-contains-any"?new Um(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Om(e,r):new km(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fs(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class t extends Ml{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return fC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function fC(t){return t.op==="and"}function pC(t){return $L(t)&&fC(t)}function $L(t){for(let e of t.filters)if(e instanceof hn)return!1;return!0}function Nm(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+ps(t.value);if(pC(t))return t.filters.map(e=>Nm(e)).join(",");{let e=t.filters.map(n=>Nm(n)).join(",");return`${t.op}(${e})`}}function gC(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&dn(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gC(o,i.filters[a]),!0):!1}(t,e):void j()}function mC(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${ps(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(mC).join(" ,")+"}"}(t):"Filter"}var xm=class extends Re{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},Om=class extends Re{constructor(e,n){super(e,"in",n),this.keys=yC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},km=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=yC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var Fm=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Qy(n)&&ya(n.arrayValue,this.value)}},Lm=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}},Vm=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}},Um=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}};var jm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function $b(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jm(t,e,n,r,i,s,o)}function Yy(t){let e=re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ps(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ps(r)).join(",")),e.ce=n}return e.ce}function Zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bb(t.startAt,e.startAt)&&Bb(t.endAt,e.endAt)}function Bm(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ys=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function HL(t,e,n,r,i,s,o,a){return new ys(t,e,n,r,i,s,o,a)}function Jy(t){return new ys(t)}function Hb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qL(t){return t.collectionGroup!==null}function ha(t){let e=re(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new We(jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ms(s,r))}),n.has(jt.keyField().canonicalString())||e.le.push(new ms(jt.keyField(),r))}return e.le}function ln(t){let e=re(t);return e.he||(e.he=zL(e,ha(t))),e.he}function zL(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ms(i.field,s)});let n=t.endAt?new gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gs(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e,n){return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return Zy(ln(t),ln(e))&&t.limitType===e.limitType}function vC(t){return`${Yy(ln(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mC(i)).join(", ")}]`),Yl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ps(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ps(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function Xl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=jb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ha(r),i)||r.endAt&&!function(o,a,c){let u=jb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ha(r),i))}(t,e)}function GL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _C(t){return(e,n)=>{let r=!1;for(let i of ha(t)){let s=WL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WL(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?fs(c,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var ir=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zl(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return UL(this.inner)}size(){return this.innerSize}};var KL=new _e(x.comparator);function sr(){return KL}var wC=new _e(x.comparator);function la(...t){let e=wC;for(let n of t)e=e.insert(n.key,n);return e}function QL(t){let e=wC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return fa()}function EC(){return fa()}function fa(){return new ir(t=>t.toString(),(t,e)=>t.isEqual(e))}var rG=new _e(x.comparator),YL=new We(x.comparator);function te(...t){let e=YL;for(let n of t)e=e.add(n);return e}var ZL=new We(se);function JL(){return ZL}function XL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cl(e)?"-0":e}}function eV(t){return{integerValue:""+t}}var vs=class{constructor(){this._=void 0}};function tV(t,e,n){return t instanceof va?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wy(s)&&(s=Ky(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof _s?IC(t,e):t instanceof ws?TC(t,e):function(i,s){let o=rV(i,s),a=qb(o)+qb(i.Ie);return Pm(o)&&Pm(i.Ie)?eV(a):XL(i.serializer,a)}(t,e)}function nV(t,e,n){return t instanceof _s?IC(t,e):t instanceof ws?TC(t,e):n}function rV(t,e){return t instanceof _a?function(r){return Pm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var va=class extends vs{},_s=class extends vs{constructor(e){super(),this.elements=e}};function IC(t,e){let n=DC(e);for(let r of t.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ws=class extends vs{constructor(e){super(),this.elements=e}};function TC(t,e){let n=DC(e);for(let r of t.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}var _a=class extends vs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function qb(t){return ve(t.integerValue||t.doubleValue)}function DC(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _s&&i instanceof _s||r instanceof ws&&i instanceof ws?hs(r.elements,i.elements,dn):r instanceof _a&&i instanceof _a?dn(r.Ie,i.Ie):r instanceof va&&i instanceof va}(t.transform,e.transform)}var pa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Il(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wa=class{};function bC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hm(t.key,pa.none()):new Ea(t.key,t.data,pa.none());{let n=t.data,r=Sn.empty(),i=new We(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Es(t.key,r,new zr(i.toArray()),pa.none())}}function sV(t,e,n){t instanceof Ea?function(i,s,o){let a=i.value.clone(),c=Gb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,o){if(!Il(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Gb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(CC(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ga(t,e,n,r){return t instanceof Ea?function(s,o,a,c){if(!Il(s.precondition,o))return a;let u=s.value.clone(),l=Wb(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,o,a,c){if(!Il(s.precondition,o))return a;let u=Wb(s.fieldTransforms,c,o),l=o.data;return l.setAll(CC(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Il(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hs(r,i,(s,o)=>iV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ea=class extends wa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Es=class extends wa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function CC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Gb(t,e,n){let r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nV(o,a,n[i]))}return r}function Wb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,tV(s,o,e))}return r}var Hm=class extends wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var qm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&sV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=EC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=bC(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(n,r)=>zb(n,r))&&hs(this.baseMutations,e.baseMutations,(n,r)=>zb(n,r))}};var zm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Gm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var De,X;function SC(t){if(t===void 0)return An("GRPC error has no .code"),E.UNKNOWN;switch(t){case De.OK:return E.OK;case De.CANCELLED:return E.CANCELLED;case De.UNKNOWN:return E.UNKNOWN;case De.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case De.INTERNAL:return E.INTERNAL;case De.UNAVAILABLE:return E.UNAVAILABLE;case De.UNAUTHENTICATED:return E.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case De.NOT_FOUND:return E.NOT_FOUND;case De.ALREADY_EXISTS:return E.ALREADY_EXISTS;case De.PERMISSION_DENIED:return E.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case De.ABORTED:return E.ABORTED;case De.OUT_OF_RANGE:return E.OUT_OF_RANGE;case De.UNIMPLEMENTED:return E.UNIMPLEMENTED;case De.DATA_LOSS:return E.DATA_LOSS;default:return j()}}(X=De||(De={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var Kb=null;function oV(){return new TextEncoder}var aV=new qr([4294967295,4294967295],0);function Qb(t){let e=oV().encode(t),n=new Ob;return n.update(e),new Uint8Array(n.digest())}function Yb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qr([n,r],0),new qr([i,s],0)]}var Wm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wr(`Invalid padding: ${n}`);if(r<0)throw new Wr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(qr.fromNumber(r)));return i.compare(aV)===1&&(i=new qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=Qb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=Qb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Wr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(H.min(),i,new _e(se),sr(),te())}},Ia=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,te(),te(),te())}};var as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Nl=class{constructor(e,n){this.targetId=e,this.fe=n}},xl=class{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ol=class{constructor(){this.ge=0,this.pe=Jb(),this.ye=Xe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=te(),n=te(),r=te();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Ia(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Jb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Se(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Km=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=sr(),this.Qe=Zb(),this.Ke=new _e(se)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Bm(s))if(r===0){let o=new x(s.path);this.We(n,o,Bt.newNoDocument(o,H.min()))}else Se(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}Kb?.tt(function(l,d,h,f,p){var g,y,I,A,P,L;let he={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},B=d.unchangedNames;return B&&(he.bloomFilter={applied:p===0,hashCount:(g=B?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(A=(I=(y=B?.bits)===null||y===void 0?void 0:y.bitmap)===null||I===void 0?void 0:I.length)!==null&&A!==void 0?A:0,padding:(L=(P=B?.bits)===null||P===void 0?void 0:P.padding)!==null&&L!==void 0?L:0,mightContain:ne=>{var we;return(we=f?.mightContain(ne))!==null&&we!==void 0&&we}}),he}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=rr(r).toUint8Array()}catch(c){if(c instanceof Al)return ds("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Wm(o,i,s)}catch(c){return ds(c instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Bm(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Bt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=te();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Pl(e,n,this.Ke,this.qe,r);return this.qe=sr(),this.Qe=Zb(),this.Ke=new _e(se),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ol,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new We(se),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ol),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Zb(){return new _e(x.comparator)}function Jb(){return new _e(x.comparator)}var cV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lV=(()=>({and:"AND",or:"OR"}))(),Qm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ym(t,e){return t.useProto3Json||Yl(e)?e:{value:e}}function dV(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cs(t){return Se(!!t),H.fromTimestamp(function(n){let r=nr(n);return new At(r.seconds,r.nanos)}(t))}function fV(t,e){return function(r){return new Ce(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function AC(t){let e=Ce.fromString(t);return Se(NC(e)),e}function gm(t,e){let n=AC(e);if(n.get(1)!==t.databaseId.projectId)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(RC(n))}function Zm(t,e){return fV(t.databaseId,e)}function pV(t){let e=AC(t);return e.length===4?Ce.emptyPath():RC(e)}function Xb(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RC(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Se(l===void 0||typeof l=="string"),Xe.fromBase64String(l||"")):(Se(l===void 0||l instanceof Uint8Array),Xe.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?E.UNKNOWN:SC(u.code);return new R(l,u.message||"")}(o);n=new xl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gm(t,r.document.name),s=cs(r.document.updateTime),o=r.document.createTime?cs(r.document.createTime):H.min(),a=new Sn({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new as(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gm(t,r.document),s=r.readTime?cs(r.readTime):H.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new as([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gm(t,r.document),s=r.removedTargetIds||[];n=new as([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Gm(i,s),a=r.targetId;n=new Nl(a,o)}}return n}function mV(t,e){return{documents:[Zm(t,e.path)]}}function yV(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Zm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return PC(hn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:is(d.field),direction:wV(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=Ym(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function vV(t){let e=pV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=MC(d);return h instanceof hn&&pC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new ms(ss(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Yl(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new gs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new gs(f,h)}(n.endAt)),HL(e,i,o,s,a,"F",c,u)}function _V(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ss(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ss(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ss(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ss(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>MC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function wV(t){return cV[t]}function EV(t){return uV[t]}function IV(t){return lV[t]}function is(t){return{fieldPath:t.canonicalString()}}function ss(t){return jt.fromServerFormat(t.fieldPath)}function PC(t){return t instanceof Re?function(n){if(n.op==="=="){if(Ub(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ub(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof hn?function(n){let r=n.getFilters().map(i=>PC(i));return r.length===1?r[0]:{compositeFilter:{op:IV(n.op),filters:r}}}(t):j()}function NC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ta=class t{constructor(e,n,r,i,s=H.min(),o=H.min(),a=Xe.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Jm=class{constructor(e){this.ut=e}};function TV(t){let e=vV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$m(e,e.limit,"L"):e}var kl=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Cl(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(rr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?hC(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):j()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),x.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};kl.St=new kl;var Xm=class{constructor(){this.on=new ey}addToCollectionParentIndex(e,n){return this.on.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Yr.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}},ey=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Ce.comparator)).toArray()}};var iG=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Da=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ty=class{constructor(){this.changes=new ir(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ny=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ry=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ga(r.mutation,i,zr.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){let i=Gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=la();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sr(),o=fa(),a=function(){return fa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Es)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ga(l.mutation,u,l.mutation.getFieldMask(),At.now())):o.set(u.key,zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new ny(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=fa(),i=new _e((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||zr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||te()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=EC();l.forEach(h=>{if(!s.has(h)){let f=bC(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Gr()),a=-1,c=s;return o.next(u=>v.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,te())).next(l=>({batchId:a,changes:QL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=la();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=la();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,c=>{let u=function(d,h){return new ys(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Bt.newInvalidDocument(l)))});let a=la();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ga(l.mutation,u,zr.empty(),At.now()),Xl(n,u)&&(a=a.insert(c,u))}),a})}};var iy=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return v.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}}(n)),v.resolve()}getNamedQuery(e,n){return v.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:TV(i.bundledQuery),readTime:cs(i.readTime)}}(n)),v.resolve()}};var sy=class{constructor(){this.overlays=new _e(x.comparator),this.lr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){let i=Gr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Gr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Gr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return v.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zm(n,r));let s=this.lr.get(n);s===void 0&&(s=te(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var ba=class{constructor(){this.hr=new We(be.Pr),this.Ir=new We(be.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new be(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new be(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new x(new Ce([])),r=new be(n,e),i=new be(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new x(new Ce([])),r=new be(n,e),i=new be(n,e+1),s=te();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new be(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},be=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return x.comparator(e.key,n.key)||se(e.gr,n.gr)}static Tr(e,n){return se(e.gr,n.gr)||x.comparator(e.key,n.key)}};var oy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new We(be.Pr)}checkEmpty(e){return v.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new qm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new be(n,0),i=new be(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(se);return n.forEach(i=>{let s=new be(i,0),o=new be(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),v.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new be(new x(s),0),a=new We(se);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),v.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return v.forEach(n.mutations,i=>{let s=new be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new be(n,0),i=this.yr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,v.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ay=class{constructor(e){this.Cr=e,this.docs=function(){return new _e(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sr(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||OL(xL(l),r)<=0||(i.has(l.key)||Xl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}vr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cy(this)}getSize(e){return v.resolve(this.size)}},cy=class extends ty{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var uy=class{constructor(e){this.persistence=e,this.Fr=new ir(n=>Yy(n),Zy),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ba,this.targetCount=0,this.Nr=Da.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),v.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.kn(n),v.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),v.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Or.containsKey(n))}};var ly=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new dC(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new uy(this),this.indexManager=new Xm,this.remoteDocumentCache=function(i){return new ay(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Jm(n),this.Kr=new iy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new oy(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);let i=new dy(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return v.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},dy=class extends Am{constructor(e){super(),this.currentSequenceNumber=e}},hy=class t{constructor(e){this.persistence=e,this.Gr=new ba,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw j()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),v.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Hr,r=>{let i=x.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,H.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return v.or([()=>v.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var fy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=te(),i=te();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var py=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gy=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new py;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ua()<=Z.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),v.resolve()):(ua()<=Z.DEBUG&&D("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ua()<=Z.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):v.resolve())}zi(e,n){if(Hb(n))return v.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$m(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=te(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,$m(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return Hb(n)||i.isEqual(H.min())?v.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?v.resolve(null):(ua()<=Z.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.Xi(e,o,n,NL(i,-1)).next(a=>a))})}Yi(e,n){let r=new We(_C(e));return n.forEach((i,s)=>{Xl(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ua()<=Z.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",rs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Yr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var my=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new _e(se),this.ns=new ir(s=>Yy(s),Zy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ry(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function DV(t,e,n,r){return new my(t,e,n,r)}function xC(t,e){return m(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=te();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function OC(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function bV(t,e){let n=re(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Xe.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(g,y,I){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=sr(),u=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(CV(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(H.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function CV(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sr();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function SV(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ta(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function yy(t,e,n){return m(this,null,function*(){let r=re(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Aa(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function eC(t,e,n){let r=re(t),i=H.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=re(c),h=d.ns.get(l);return h!==void 0?v.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:H.min(),n?s:te())).next(a=>(AV(r,GL(e),a),{documents:a,ls:s})))}function AV(t,e,n){let r=t.rs.get(e)||H.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var Fl=class{constructor(){this.activeTargetIds=JL()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vy=class{constructor(){this.eo=new Fl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Fl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _y=class{ro(e){}shutdown(){}};var Ll=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var El=null;function mm(){return El===null?El=function(){return 268435456+Math.round(2147483648*Math.random())}():El++,"0x"+El.toString(16)}var RV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Ge="WebChannelConnection",Ey=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=mm(),c=this.So(n,r);D("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(D("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ds("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ts}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=RV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=mm();return new Promise((o,a)=>{let c=new xb;c.setWithCredentials(!0),c.listenOnce(Pb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _l.NO_ERROR:let l=c.getResponseJson();D(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case _l.TIMEOUT:D(Ge,`RPC '${e}' ${s} timed out`),a(new R(E.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:let d=c.getStatus();if(D(Ge,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(y){let I=y.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(I)>=0?I:E.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new R(E.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{D(Ge,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);D(Ge,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=mm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rb(),a=Mb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");D(Ge,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,p=new wy({co:y=>{f?D(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(D(Ge,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Ge,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,I,A)=>{y.listen(I,P=>{try{A(P)}catch(L){setTimeout(()=>{throw L},0)}})};return g(d,ca.EventType.OPEN,()=>{f||D(Ge,`RPC '${e}' stream ${i} transport opened.`)}),g(d,ca.EventType.CLOSE,()=>{f||(f=!0,D(Ge,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,ca.EventType.ERROR,y=>{f||(f=!0,ds(Ge,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new R(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,ca.EventType.MESSAGE,y=>{var I;if(!f){let A=y.data[0];Se(!!A);let P=A,L=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(L){D(Ge,`RPC '${e}' stream ${i} received error:`,L);let he=L.status,B=function(Le){let Be=De[Le];if(Be!==void 0)return SC(Be)}(he),ne=L.message;B===void 0&&(B=E.INTERNAL,ne="Unknown error status: "+he+" with message "+L.message),f=!0,p.Ro(new R(B,ne)),d.close()}else D(Ge,`RPC '${e}' stream ${i} received:`,A),p.Vo(A)}}),g(a,Nb.STAT_EVENT,y=>{y.stat===fm.PROXY?D(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===fm.NOPROXY&&D(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}};function ym(){return typeof document<"u"?document:null}function kC(t){return new Qm(t,!0)}var Vl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Iy=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Vl(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return m(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return m(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return m(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new R(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>m(this,null,function*(){this.state=0,this.start()}))}o_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ty=class extends Iy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=gV(this.serializer,e),r=function(s){if(!("targetChange"in s))return H.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?H.min():o.readTime?cs(o.readTime):H.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Xb(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Bm(c)?{documents:mV(s,c)}:{query:yV(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hV(s,o.resumeToken);let u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(H.min())>0){a.readTime=dV(s,o.snapshotVersion.toTimestamp());let u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=_V(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Xb(this.serializer),n.removeTarget=e,this.e_(n)}};var Dy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(E.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(E.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var by=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(An(n),this.f_=!1):D("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Cy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Ma(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let u=re(c);u.C_.add(4),yield Ra(u),u.M_.set("Unknown"),u.C_.delete(4),yield ed(u)})}(this))}))}),this.M_=new by(r,i)}};function ed(t){return m(this,null,function*(){if(Ma(t))for(let e of t.v_)yield e(!0)})}function Ra(t){return m(this,null,function*(){for(let e of t.v_)yield e(!1)})}function FC(t,e){let n=re(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),tv(n)?ev(n):Ds(n).Ho()&&Xy(n,e))}function LC(t,e){let n=re(t),r=Ds(n);n.D_.delete(e),r.Ho()&&VC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Ma(n)&&n.M_.set("Unknown"))}function Xy(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ds(t).u_(e)}function VC(t,e){t.x_.Oe(e),Ds(t).c_(e)}function ev(t){t.x_=new Km({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ds(t).start(),t.M_.g_()}function tv(t){return Ma(t)&&!Ds(t).jo()&&t.D_.size>0}function Ma(t){return re(t).C_.size===0}function UC(t){t.x_=void 0}function MV(t){return m(this,null,function*(){t.D_.forEach((e,n)=>{Xy(t,e)})})}function PV(t,e){return m(this,null,function*(){UC(t),tv(t)?(t.M_.w_(e),ev(t)):t.M_.set("Unknown")})}function NV(t,e,n){return m(this,null,function*(){if(t.M_.set("Online"),e instanceof xl&&e.state===2&&e.cause)try{yield function(i,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tC(t,r)}else if(e instanceof as?t.x_.$e(e):e instanceof Nl?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(H.min()))try{let r=yield OC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(Xe.EMPTY_BYTE_STRING,l.snapshotVersion)),VC(s,c);let d=new Ta(l.target,c,u,l.sequenceNumber);Xy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield tC(t,r)}})}function tC(t,e,n){return m(this,null,function*(){if(!Aa(e))throw e;t.C_.add(1),yield Ra(t),t.M_.set("Offline"),n||(n=()=>OC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield ed(t)}))})}function nC(t,e){return m(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let r=Ma(n);n.C_.add(3),yield Ra(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ed(n)})}function xV(t,e){return m(this,null,function*(){let n=re(t);e?(n.C_.delete(2),yield ed(n)):e||(n.C_.add(2),yield Ra(n),n.M_.set("Unknown"))})}function Ds(t){return t.O_||(t.O_=function(n,r,i){let s=re(n);return s.A_(),new Ty(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:MV.bind(null,t),Io:PV.bind(null,t),a_:NV.bind(null,t)}),t.v_.push(e=>m(this,null,function*(){e?(t.O_.Yo(),tv(t)?ev(t):t.M_.set("Unknown")):(yield t.O_.stop(),UC(t))}))),t.O_}var Sy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jC(t,e){if(An("AsyncQueue",`${e}: ${t}`),Aa(t))return new R(E.UNAVAILABLE,`${e}: ${t}`);throw t}var Ul=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=la(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jl=class{constructor(){this.B_=new _e(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Is=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ul.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ay=class{constructor(){this.k_=void 0,this.listeners=[]}},Ry=class{constructor(){this.queries=new ir(e=>vC(e),Jl),this.onlineState="Unknown",this.q_=new Set}};function OV(t,e){return m(this,null,function*(){let n=re(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ay),i)try{s.k_=yield n.onListen(r)}catch(o){let a=jC(o,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&nv(n)})}function kV(t,e){return m(this,null,function*(){let n=re(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function FV(t,e){let n=re(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&nv(n)}function LV(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function nv(t){t.q_.forEach(e=>{e.next()})}var My=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Bl=class{constructor(e){this.key=e}},$l=class{constructor(e){this.key=e}},Py=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=te(),this.mutatedKeys=te(),this._a=_C(e),this.aa=new Ul(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new jl,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Xl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,p){let g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return g(f)-g(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Is(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new jl,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=te(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new $l(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Bl(r))}),n}da(e){this.ia=e.ls,this.oa=te();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Is.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Ny=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},xy=class{constructor(e){this.key=e,this.Ra=!1}},Oy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ir(a=>vC(a),Jl),this.fa=new Map,this.ga=new Set,this.pa=new _e(x.comparator),this.ya=new Map,this.wa=new ba,this.Sa={},this.ba=new Map,this.Da=Da.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function VV(t,e){return m(this,null,function*(){let n=zV(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield SV(n.localStore,ln(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield UV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&FC(n.remoteStore,o)}return i})}function UV(t,e,n,r,i){return m(this,null,function*(){t.va=(d,h,f)=>function(g,y,I,A){return m(this,null,function*(){let P=y.view.ca(I);P.Zi&&(P=yield eC(g.localStore,y.query,!1).then(({documents:ne})=>y.view.ca(ne,P)));let L=A&&A.targetChanges.get(y.targetId),he=A&&A.targetMismatches.get(y.targetId)!=null,B=y.view.applyChanges(P,g.isPrimaryClient,L,he);return iC(g,y.targetId,B.Ta),B.snapshot})}(t,d,h,f);let s=yield eC(t.localStore,e,!0),o=new Py(e,s.ls),a=o.ca(s.documents),c=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);iC(t,n,u.Ta);let l=new Ny(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function jV(t,e){return m(this,null,function*(){let n=re(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Jl(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),LC(n.remoteStore,r.targetId),ky(n,r.targetId)}).catch(Gy))):(ky(n,r.targetId),yield yy(n.localStore,r.targetId,!0))})}function BC(t,e){return m(this,null,function*(){let n=re(t);try{let r=yield bV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Se(o.Ra):i.removedDocuments.size>0&&(Se(o.Ra),o.Ra=!1))}),yield HC(n,r,e)}catch(r){yield Gy(r)}})}function rC(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=re(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&nv(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BV(t,e,n){return m(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new _e(x.comparator);o=o.insert(s,Bt.newNoDocument(s,H.min()));let a=te().add(s),c=new Pl(H.min(),new Map,new _e(se),o,a);yield BC(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),rv(r)}else yield yy(r.localStore,e,!1).then(()=>ky(r,e,n)).catch(Gy)})}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||$C(t,r)})}function $C(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(LC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),rv(t))}function iC(t,e,n){for(let r of n)r instanceof Bl?(t.wa.addReference(r.key,e),$V(t,r)):r instanceof $l?(D("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||$C(t,r.key)):j()}function $V(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ga.add(r),rv(t))}function rv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new x(Ce.fromString(e)),r=t.Da.next();t.ya.set(r,new xy(n)),t.pa=t.pa.insert(n,r),FC(t.remoteStore,new Ta(ln(Jy(n.path)),r,"TargetPurposeLimboResolution",dC._e))}}function HC(t,e,n){return m(this,null,function*(){let r=re(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=fy.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return m(this,null,function*(){let l=re(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(u,h=>v.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Aa(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);l.ts=l.ts.insert(h,g)}}})}(r.localStore,s))})}function HV(t,e){return m(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let r=yield xC(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new R(E.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield HC(n,r._s)}})}function qV(t,e){let n=re(t),r=n.ya.get(e);if(r&&r.Ra)return te().add(r.key);{let i=te(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function zV(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BV.bind(null,e),e.Va.a_=FV.bind(null,e.eventManager),e.Va.Fa=LV.bind(null,e.eventManager),e}var Hl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=kC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DV(this.persistence,new gy,e.initialUser,this.serializer)}createPersistence(e){return new ly(hy.jr,this.serializer)}createSharedClientState(e){return new vy}terminate(){return m(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fy=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HV.bind(null,this.syncEngine),yield xV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ry}()}createDatastore(e){let n=kC(e.databaseInfo.databaseId),r=function(s){return new Ey(s)}(e.databaseInfo);return function(s,o,a,c){return new Dy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Cy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rC(this.syncEngine,n,0),function(){return Ll.D()?new Ll:new _y}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Oy(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return m(this,null,function*(){let r=re(n);D("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Ra(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Ly=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Vy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){D("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return m(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=jC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vm(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield xC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sC(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WV(t);D("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>nC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nC(e.remoteStore,s)),t._onlineComponents=e})}function GV(t){return t.name==="FirebaseError"?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function WV(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!GV(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),yield vm(t,new Hl)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield vm(t,new Hl);return t._offlineComponents})}function KV(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield sC(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield sC(t,new Fy))),t._onlineComponents})}function oC(t){return m(this,null,function*(){let e=yield KV(t),n=e.eventManager;return n.onListen=VV.bind(null,e.syncEngine),n.onUnlisten=jV.bind(null,e.syncEngine),n})}function qC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aC=new Map;function QV(t,e,n){if(!n)throw new R(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YV(t,e,n,r){if(e===!0&&r===!0)throw new R(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cC(t){if(x.isDocumentKey(t))throw new R(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZV(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function Tl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ZV(t);throw new R(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ql=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new R(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ca=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ql({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ql(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _m;switch(r.type){case"firstParty":return new Tm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new R(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aC.get(n);r&&(D("ComponentProvider","Removing Datastore"),aC.delete(n),r.terminate())}(this),Promise.resolve()}};function zC(t,e,n,r={}){var i;let s=(t=Tl(t,Ca))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=NT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new R(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new wm(new Dl(a,c))}}var zl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Jr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},us=class t extends zl{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GC(t,e,...n){if(t=Kn(t),QV("collection","path",e),t instanceof Ca){let r=Ce.fromString(e,...n);return cC(r),new us(t,null,r)}{if(!(t instanceof Jr||t instanceof us))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return cC(r),new us(t.firestore,null,r)}}var Uy=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Vl(this,"async_queue_retry"),this.iu=()=>{let n=ym();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new tr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return m(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Aa(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Sy.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&j()}verifyOperationInProgress(){}uu(){return m(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function uC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Sa=class extends Ca{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Uy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KC(this),this._firestoreClient.terminate()}};function WC(t,e){let n=typeof t=="object"?t:xo(),r=typeof t=="string"?t:e||"(default)",i=og(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=MT("firestore");s&&zC(i,...s)}return i}function JV(t){return t._firestoreClient||KC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KC(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Rm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qC(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var jy=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xe.fromBase64String(e))}catch(n){throw new R(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var By=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var XV=new RegExp("[~\\*/\\[\\]]");function e2(t,e,n){if(e.search(XV)>=0)throw lC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gl(...e.split("."))._internalPath}catch{throw lC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lC(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new R(E.INVALID_ARGUMENT,a+t+c)}var Wl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(QC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},$y=class extends Wl{data(){return super.data()}};function QC(t,e){return typeof e=="string"?e2(t,e):e instanceof Gl?e._internalPath:e._delegate._internalPath}function t2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hy=class{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new By(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){let n=nr(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);Se(NC(r));let i=new Rl(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Kr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kl=class extends Wl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(QC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ls=class extends Kl{data(e={}){return super.data(e)}},qy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ls(this._firestore,this._userDataWriter,r.key,r,new Kr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:n2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function n2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}var Ql=class extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new jy(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,n)}};function iv(t,...e){var n,r,i;t=Kn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||uC(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(uC(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Jr)u=Tl(t.firestore,Sa),l=Jy(t._key.path),c={next:d=>{e[o]&&e[o](r2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Tl(t,zl);u=Tl(d.firestore,Sa),l=d._query;let h=new Ql(u);c={next:f=>{e[o]&&e[o](new qy(u,h,d,f))},error:e[o+1],complete:e[o+2]},t2(t._query)}return function(h,f,p,g){let y=new Ly(g),I=new My(f,y,p);return h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return OV(yield oC(h),I)})),()=>{y.Na(),h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return kV(yield oC(h),I)}))}}(JV(u),l,a,c)}function r2(t,e,n){let r=n.docs.get(e._key),i=new Ql(t);return new Kl(t,i,e._key,r,new Kr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ts=i})(Ki),Zn(new Ct("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Sa(new Em(r.getProvider("auth-internal")),new bm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new R(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xe(kb,"4.4.0",e),xe(kb,"4.4.0","esm2017")})();var td=function(){return td=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},td.apply(this,arguments)};var o2={includeMetadataChanges:!1};function YC(t,e){return e===void 0&&(e=o2),new Q(function(n){var r=iv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ZC(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:td(td({},r),(n={},n[e.idField]=t.id,n))}function JC(t){return YC(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function XC(t,e){return e===void 0&&(e={}),JC(t).pipe(J(function(n){return n.map(function(r){return ZC(r,e)})}))}var Xr=class{constructor(e){return e}},e0="firestore",sv=class{constructor(){return ko(e0)}};var ov=new q("angularfire2.firestore-instances");function a2(t,e){let n=ug(e0,t,e);return n&&new Xr(n)}function c2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xr(r)}}var u2={provide:sv,deps:[[new Lt,ov]]},l2={provide:Xr,useFactory:a2,deps:[[new Lt,ov],Lr]},d2=(()=>{class t{constructor(){xe("angularfire",Yi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=En({type:t});static \u0275inj=wn({providers:[l2,u2]})}return t})();function t0(t,...e){return{ngModule:d2,providers:[{provide:ov,useFactory:c2(t),multi:!0,deps:[ce,Jt,Fo,Lo,[new Lt,qu],[new Lt,Oo],...e]}]}}var n0=Fr(XC,!0);var av=Fr(GC,!0);var r0=Fr(WC,!0);var fn="*";function i0(t,e){return{type:7,name:t,definitions:e,options:{}}}function s0(t,e=null){return{type:4,styles:e,timings:t}}function o0(t,e=null){return{type:2,steps:t,options:e}}function bs(t){return{type:6,styles:t,offset:null}}function a0(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function c0(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function u0(t,e){return{type:12,timings:t,animation:e}}var or=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Pa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},nd="!";var h2=["container"];function f2(t,e){if(t&1){let n=fI();Ye(0,"div",4),ki("click",function(){Fw(n);let i=ro();return Lw(i.gotoMain())}),Ww(),Ye(1,"svg",5),Cr(2,"path",6),at()()}}function p2(t,e){if(t&1&&(Ye(0,"a",16),Sr(1,"Demo"),at()),t&2){let n=ro().$implicit;It("href",n.demoLink,Zc)}}function g2(t,e){if(t&1&&(Ye(0,"a",17),Sr(1,"Repo"),at()),t&2){let n=ro().$implicit;It("href",n.repoLink,Zc)}}var m2=t=>["projects",t];function y2(t,e){if(t&1&&(Ye(0,"a",18),Sr(1),at()),t&2){let n=ro().$implicit;It("routerLink",gI(2,m2,n.id)),Et(1),io("",n.routePath," List")}}function v2(t,e){if(t&1&&(Ye(0,"span",19),Sr(1),at()),t&2){let n=e.$implicit;Et(1),io(" #",n," ")}}function _2(t,e){if(t&1&&(Ye(0,"div")(1,"div",7)(2,"h3",8),Sr(3),at(),Ye(4,"div",9)(5,"p"),Sr(6),at()()(),Ye(7,"div",10),Oi(8,p2,2,1,"a",11)(9,g2,2,1,"a",12)(10,y2,2,4,"a",13),at(),Ye(11,"div",14),Oi(12,v2,2,1,"span",15),at()()),t&2){let n=e.$implicit;lI("w-full h-vh25 py-4 flex project-row justify-center ",n.routePath?"List"+n.routePath:n.stack[0],""),Et(3),ru(n.title),Et(3),ru(n.description),Et(2),It("ngIf",!!n.demoLink),Et(1),It("ngIf",!!n.repoLink),Et(1),It("ngIf",!!n.routePath),Et(2),It("ngForOf",n.stack)}}var w2=i0("listAnimation",[a0("* <=> *",[c0(":enter",[bs({opacity:0,transform:"translateX(-100%)"}),u0("50ms",s0("500ms ease-out",bs({opacity:1,transform:"translateX(0px)"})))],{optional:!0})])]),rd=(()=>{let e=class e{constructor(r,i,s,o){this.route=r,this.router=i,this.renderer=s,this.el=o,this.title="Projects",this.projects=[],this.showHome=!1,this.firestore=b(Xr),this.count=0}ngOnInit(){let r=this.route.snapshot.paramMap.get("id"),i;r?(i=av(this.firestore,`Records/${r}/Projects`),this.showHome=!0):i=av(this.firestore,"Records"),n0(i,{idField:"id"}).subscribe(s=>{s&&(this.projects=s.filter(o=>!!o.visible))})}captureDoneEvent(){this.containerRef&&this.projects.length&&this.containerRef.nativeElement.classList.add("container")}gotoMain(){this.router.navigate(["/"])}};e.\u0275fac=function(i){return new(i||e)(Ne(Tn),Ne(Ro),Ne(xi),Ne(Xt))},e.\u0275cmp=Ai({type:e,selectors:[["app-projects"]],viewQuery:function(i,s){if(i&1&&yI(h2,5),i&2){let o;Of(o=kf())&&(s.containerRef=o.first)}},standalone:!0,features:[Fi],decls:5,vars:3,consts:[[1,"flex","flex-col","h-screen","w-screen"],["container",""],["class","home",3,"click",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"home",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],[1,"flex-1","w-1/3","flex","flex-col","justify-center","text-center"],[1,"self-center","font-bold"],[1,"ml-4","overflow-auto"],[1,"flex-1","w-1/3","flex","flex-col","justify-center","items-center","overflow-auto"],["class","no-underline mb-3","target","_blank",3,"href",4,"ngIf"],["class","no-underline","target","_blank",3,"href",4,"ngIf"],["class","no-underline",3,"routerLink",4,"ngIf"],[1,"flex-1","w-1/3","flex","flex-wrap","justify-center","items-center","overflow-auto"],["class","stack font-bold m-2",4,"ngFor","ngForOf"],["target","_blank",1,"no-underline","mb-3",3,"href"],["target","_blank",1,"no-underline",3,"href"],[1,"no-underline",3,"routerLink"],[1,"stack","font-bold","m-2"]],template:function(i,s){i&1&&(Ye(0,"div",0,1),Oi(2,f2,3,0,"div",2),Ye(3,"div"),ki("@listAnimation.done",function(){return s.captureDoneEvent()}),Oi(4,_2,13,9,"div",3),at()()),i&2&&(Et(2),It("ngIf",s.showHome),Et(1),It("@listAnimation",s.projects.length),Et(1),It("ngForOf",s.projects))},dependencies:[ao,OI,kI,DT],styles:['.container[_ngcontent-%COMP%]{transition:background-color 1s ease-in;background-color:#111}.h-vh25[_ngcontent-%COMP%]{height:25vh;min-height:25vh}.project-row[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:center;background-size:200px;text-align:center;font-size:.875rem;line-height:1.25rem}.project-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-shadow:2px 2px 3px indigo;transition:1.5s cubic-bezier(.04,1.1,.51,.87);text-align:center;font-size:1.25rem;line-height:1.75rem}.project-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity));text-shadow:none}.VueJS[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity));background-image:url("./media/vuejs-B4D7CMZR.svg")}.VueJS[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.ReactJS[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity));background-image:url("./media/react-KM5TL6OV.svg")}.ReactJS[_ngcontent-%COMP%]   back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Python[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity));background-image:url("./media/python-UT5VPJST.svg")}.Python[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Angular[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity));background-image:url("./media/angular-3GO2XTG3.svg")}.Angular[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Laravel[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/laravel_new-MNEFXO4O.svg")}.Laravel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.Laravel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:none}.Blockchain[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));background-image:url("./media/blockchain-dark-JMFKFZPX.svg");background-size:250% 250%}.Blockchain[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));text-shadow:2px 2px 3px indigo}.Blockchain[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.ListAnimations[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(234 88 12 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/wave-ABDFD32L.svg");background-size:cover}.ListAnimations[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.ListAnimations[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:none}.ListBlockchain[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));opacity:1;background-color:#3b0202;background-size:20px 35px;background-repeat:repeat;background-image:linear-gradient(30deg,rgba(167,16,39,.8980392157) 12%,transparent 12.5%,transparent 87%,rgba(167,16,39,.8980392157) 87.5%,rgba(167,16,39,.8980392157)),linear-gradient(150deg,rgba(167,16,39,.8980392157) 12%,transparent 12.5%,transparent 87%,rgba(167,16,39,.8980392157) 87.5%,rgba(167,16,39,.8980392157)),linear-gradient(30deg,rgba(167,16,39,.8980392157) 12%,transparent 12.5%,transparent 87%,rgba(167,16,39,.8980392157) 87.5%,rgba(167,16,39,.8980392157)),linear-gradient(150deg,rgba(167,16,39,.8980392157) 12%,transparent 12.5%,transparent 87%,rgba(167,16,39,.8980392157) 87.5%,rgba(167,16,39,.8980392157)),linear-gradient(60deg,rgba(239,79,79,.3333333333) 25%,transparent 25.5%,transparent 75%,rgba(239,79,79,.3333333333) 75%,rgba(239,79,79,.3333333333)),linear-gradient(60deg,rgba(239,79,79,.3333333333) 25%,transparent 25.5%,transparent 75%,rgba(239,79,79,.3333333333) 75%,rgba(239,79,79,.3333333333));background-position:0 0,0 0,10px 18px,10px 18px,0 0,10px 18px}.ListBlockchain[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));text-shadow:2px 2px 3px indigo}.ListBlockchain[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.SVG[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(251 146 60 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/svg_vector-GAK7FH33.svg");background-origin:content-box;background-position-y:65%}.SVG[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.SVG[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));text-shadow:2px 2px 3px indigo}.SVG[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .SVG[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .SVG[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.home[_ngcontent-%COMP%]{position:absolute;right:1.25rem;top:1.25rem;display:flex;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity));width:30px;height:30px;cursor:pointer}.home[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}@media (min-width: 640px){.project-row[_ngcontent-%COMP%]{background-size:250px;font-size:1rem;line-height:1.5rem}.project-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.SVG[_ngcontent-%COMP%]{background-origin:content-box;background-position-y:65%}.ListBlockchain[_ngcontent-%COMP%]{background-size:20px 35px}.ListAnimations[_ngcontent-%COMP%]{background-size:cover}.Blockchain[_ngcontent-%COMP%]{background-size:250% 250%}}@media (min-width: 768px){.project-row[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(0,0,0,.1333333333);border-radius:1rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.3333333333);border-radius:1rem}'],data:{animation:[w2]}});let t=e;return t})();var l0=[{path:"",component:rd},{path:"projects/:id",component:rd},{path:"Portfolio/projects/:id",component:rd}];function d0(t){return new _(3e3,!1)}function E2(){return new _(3100,!1)}function I2(){return new _(3101,!1)}function T2(t){return new _(3001,!1)}function D2(t){return new _(3003,!1)}function b2(t){return new _(3004,!1)}function C2(t,e){return new _(3005,!1)}function S2(){return new _(3006,!1)}function A2(){return new _(3007,!1)}function R2(t,e){return new _(3008,!1)}function M2(t){return new _(3002,!1)}function P2(t,e,n,r,i){return new _(3010,!1)}function N2(){return new _(3011,!1)}function x2(){return new _(3012,!1)}function O2(){return new _(3200,!1)}function k2(){return new _(3202,!1)}function F2(){return new _(3013,!1)}function L2(t){return new _(3014,!1)}function V2(t){return new _(3015,!1)}function U2(t){return new _(3016,!1)}function j2(t,e){return new _(3404,!1)}function B2(t){return new _(3502,!1)}function $2(t){return new _(3503,!1)}function H2(){return new _(3300,!1)}function q2(t){return new _(3504,!1)}function z2(t){return new _(3301,!1)}function G2(t,e){return new _(3302,!1)}function W2(t){return new _(3303,!1)}function K2(t,e){return new _(3400,!1)}function Q2(t){return new _(3401,!1)}function Y2(t){return new _(3402,!1)}function Z2(t,e){return new _(3505,!1)}function ar(t){switch(t.length){case 0:return new or;case 1:return t[0];default:return new Pa(t)}}function b0(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==o,d=l&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),g){case nd:g=n.get(f);break;case fn:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i);break}d.set(p,g)}),l||s.push(d),a=d,o=u}),i.length)throw B2(i);return s}function Rv(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&cv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&cv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&cv(n,"destroy",t)));break}}function cv(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Mv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Mv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function dt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function h0(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var J2=(()=>typeof document>"u"?null:document.documentElement)();function Pv(t){let e=t.parentNode||t.host||null;return e===J2?null:e}function X2(t){return t.substring(1,6)=="ebkit"}var ei=null,f0=!1;function eU(t){ei||(ei=tU()||{},f0=ei.style?"WebkitAppearance"in ei.style:!1);let e=!0;return ei.style&&!X2(t)&&(e=t in ei.style,!e&&f0&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ei.style)),e}function tU(){return typeof document<"u"?document.body:null}function C0(t,e){for(;e;){if(e===t)return!0;e=Pv(e)}return!1}function S0(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Nv=(()=>{let e=class e{validateStyleProperty(r){return eU(r)}matchesElement(r,i){return!1}containsElement(r,i){return C0(r,i)}getParentElement(r){return Pv(r)}query(r,i,s){return S0(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,c=[],u){return new or(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=(()=>{let e=class e{};e.NOOP=new Nv;let t=e;return t})(),ri=class{};var nU=1e3,A0="{{",rU="}}",R0="ng-enter",pv="ng-leave",id="ng-trigger",ud=".ng-trigger",p0="ng-animating",gv=".ng-animating";function Rn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mv(parseFloat(e[1]),e[2])}function mv(t,e){switch(e){case"s":return t*nU;default:return t}}function ld(t,e,n){return t.hasOwnProperty("duration")?t:iU(t,e,n)}function iU(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(d0(t)),{duration:0,delay:0,easing:""};i=mv(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=mv(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(E2()),a=!0),s<0&&(e.push(I2()),a=!0),a&&e.splice(c,0,d0(t))}return{duration:i,delay:s,easing:o}}function Ua(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function M0(t){let e=new Map;return Object.keys(t).forEach(n=>{let r=t[n];e.set(n,r)}),e}function sU(t){return t.length?t[0]instanceof Map?t:t.map(e=>M0(e)):[]}function Ss(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function pn(t,e,n){e.forEach((r,i)=>{let s=xv(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function ni(t,e){e.forEach((n,r)=>{let i=xv(r);t.style[i]=""})}function Na(t){return Array.isArray(t)?t.length==1?t[0]:o0(t):t}function oU(t,e,n){let r=e.params||{},i=P0(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(T2(s))})}var yv=new RegExp(`${A0}\\s*(.+?)\\s*${rU}`,"g");function P0(t){let e=[];if(typeof t=="string"){let n;for(;n=yv.exec(t);)e.push(n[1]);yv.lastIndex=0}return e}function Oa(t,e,n){let r=t.toString(),i=r.replace(yv,(s,o)=>{let a=e[o];return a==null&&(n.push(D2(o)),a=""),a.toString()});return i==r?t:i}function dd(t){let e=[],n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}var aU=/-+([a-z0-9])/g;function xv(t){return t.replace(aU,(...e)=>e[1].toUpperCase())}function cU(t,e){return t===0||e===0}function uU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,N0(t,a)))}}return e}function lt(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw b2(e.type)}}function N0(t,e){return window.getComputedStyle(t)[e]}var lU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),hd=class extends ri{normalizePropertyName(e,n){return xv(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(lU.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(C2(e,r))}return o+s}};var fd="*";function dU(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>hU(r,n,e)):n.push(t),n}function hU(t,e,n){if(t[0]==":"){let c=fU(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(V2(t)),e;let i=r[1],s=r[2],o=r[3];e.push(g0(i,o));let a=i==fd&&o==fd;s[0]=="<"&&!a&&e.push(g0(o,i))}function fU(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(U2(t)),"* => *"}}var sd=new Set(["true","1"]),od=new Set(["false","0"]);function g0(t,e){let n=sd.has(t)||od.has(t),r=sd.has(e)||od.has(e);return(i,s)=>{let o=t==fd||t==i,a=e==fd||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?sd.has(t):od.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?sd.has(e):od.has(e)),o&&a}}var x0=":self",pU=new RegExp(`s*${x0}s*,?`,"g");function O0(t,e,n,r){return new vv(t).build(e,n,r)}var m0="",vv=class{constructor(e){this._driver=e}build(e,n,r){let i=new _v(n);return this._resetContextStyleTimingState(i),lt(this,Na(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=m0,e.collectedStyles=new Map,e.collectedStyles.set(m0,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(S2()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==0){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==1){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(A2())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};if(r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{P0(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size){let a=dd(s.values());n.errors.push(R2(e.name,a))}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=lt(this,Na(e.animation),n);return{type:1,matchers:dU(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ti(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>lt(this,r,n)),options:ti(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=lt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:ti(e.options)}}visitAnimate(e,n){let r=vU(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:bs({});if(s.type==5)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=bs(u)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===fn?r.push(a):n.errors.push(M2(a)):r.push(M0(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(A0)>=0){s=!0;break}}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(P2(c,l.startTime,l.endTime,s,i)),d=!1),s=l.startTime),d&&u.set(c,{startTime:s,endTime:i}),n.options&&oU(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(N2()),r;let i=1,s=0,o=[],a=!1,c=!1,u=0,l=e.steps.map(I=>{let A=this._makeStyleAst(I,n),P=A.offset!=null?A.offset:yU(A.styles),L=0;return P!=null&&(s++,L=A.offset=P),c=c||L<0||L>1,a=a||L<u,u=L,o.push(L),A});c&&n.errors.push(x2()),a&&n.errors.push(O2());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(k2()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,g=n.currentAnimateTimings,y=g.duration;return l.forEach((I,A)=>{let P=h>0?A==f?1:h*A:o[A],L=P*y;n.currentTime=p+g.delay+L,g.duration=L,this._validateStyleAst(I,n),I.offset=P,r.styles.push(I)}),r}visitReference(e,n){return{type:8,animation:lt(this,Na(e.animation),n),options:ti(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ti(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ti(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=gU(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,dt(n.collectedStyles,n.currentQuerySelector,new Map);let a=lt(this,Na(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ti(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(F2());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ld(e.timings,n.errors,!0);return{type:12,animation:lt(this,Na(e.animation),n),timings:r,options:null}}};function gU(t){let e=!!t.split(/\s*,\s*/).find(n=>n==x0);return e&&(t=t.replace(pU,"")),t=t.replace(/@\*/g,ud).replace(/@\w+/g,n=>ud+"-"+n.slice(1)).replace(/:animating/g,gv),[t,e]}function mU(t){return t?Ua(t):null}var _v=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function yU(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function vU(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=ld(t,e).duration;return uv(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=uv(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=ld(n,e);return uv(i.duration,i.delay,i.easing)}function ti(t){return t?(t=Ua(t),t.params&&(t.params=mU(t.params))):t={},t}function uv(t,e,n){return{duration:t,delay:e,easing:n}}function Ov(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var ka=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},_U=1,wU=":enter",EU=new RegExp(wU,"g"),IU=":leave",TU=new RegExp(IU,"g");function k0(t,e,n,r,i,s=new Map,o=new Map,a,c,u=[]){return new wv().buildKeyframes(t,e,n,r,i,s,o,a,c,u)}var wv=class{buildKeyframes(e,n,r,i,s,o,a,c,u,l=[]){u=u||new ka;let d=new Ev(e,n,u,i,s,l,[]);d.options=c;let h=c.delay?Rn(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),lt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){let y=f[g];if(y.element===n){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[Ov(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Rn(Oa(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Rn(r.duration):null,a=r.delay!=null?Rn(r.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),lt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pd);let o=Rn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>lt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Rn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),lt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Oa(r,n.params,n.errors):r;return ld(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==5?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Rn(i.delay):0;s&&(n.previousNode.type===6||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=pd);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let d=n.createSubContext(e.options,u);s&&d.delayNextStep(s),u===n.element&&(c=d.currentTimeline),lt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let d=l.currentTime;lt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},pd={},Ev=class t{constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new gd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Rn(r.duration)),r.delay!=null&&(i.delay=Rn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Oa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=pd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Iv(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(EU,"."+this._enterClassName),e=e.replace(TU,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(L2(n)),a}},gd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=_U,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||fn),this._currentKeyframe.set(n,fn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=DU(e,this._globalTimelineStyles);for(let[a,c]of o){let u=Oa(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??fn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=Ss(a,new Map,this._backFill);u.forEach((l,d)=>{l===nd?e.add(d):l===fn&&n.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});let s=e.size?dd(e.values()):[],o=n.size?dd(n.values()):[];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Ov(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Iv=class extends gd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,c=Ss(e[0]);c.set("offset",0),s.push(c);let u=Ss(e[0]);u.set("offset",y0(a)),s.push(u);let l=e.length-1;for(let d=1;d<=l;d++){let h=Ss(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",y0(p/o)),s.push(h)}r=o,n=0,i="",e=s}return Ov(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function y0(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function DU(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r=r||e.keys();for(let s of r)n.set(s,fn)}else Ss(i,n)}),n}function v0(t,e,n,r,i,s,o,a,c,u,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:h}}var lv={},md=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return bU(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,u,l){let d=[],h=this.ast.options&&this.ast.options.params||lv,f=a&&a.params||lv,p=this.buildStyles(r,f,d),g=c&&c.params||lv,y=this.buildStyles(i,g,d),I=new Set,A=new Map,P=new Map,L=i==="void",he={params:CU(g,h),delay:this.ast.options?.delay},B=l?[]:k0(e,n,this.ast.animation,s,o,p,y,he,u,d),ne=0;if(B.forEach(Le=>{ne=Math.max(Le.duration+Le.delay,ne)}),d.length)return v0(n,this._triggerName,r,i,L,p,y,[],[],A,P,ne,d);B.forEach(Le=>{let Be=Le.element,kv=dt(A,Be,new Set);Le.preStyleProps.forEach(cr=>kv.add(cr));let Rs=dt(P,Be,new Set);Le.postStyleProps.forEach(cr=>Rs.add(cr)),Be!==n&&I.add(Be)});let we=dd(I.values());return v0(n,this._triggerName,r,i,L,p,y,B,we,A,P,ne)}};function bU(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function CU(t,e){let n=Ua(e);for(let r in t)t.hasOwnProperty(r)&&t[r]!=null&&(n[r]=t[r]);return n}var Tv=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=Ua(this.defaultParams);return Object.keys(e).forEach(s=>{let o=e[s];o!==null&&(i[s]=o)}),this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Oa(o,i,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}};function SU(t,e,n){return new Dv(t,e,n)}var Dv=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Tv(i.style,s,r))}),_0(this.states,"true","1"),_0(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new md(e,i,this.states))}),this.fallbackTransition=AU(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function AU(t,e,n){let s={type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0};return new md(t,s,e)}function _0(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var RU=new ka,bv=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=O0(this._driver,n,r,i);if(r.length)throw $2(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=b0(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=k0(this._driver,n,s,R0,pv,new Map,new Map,r,RU,i),o.forEach(l=>{let d=dt(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(H2()),o=[]),i.length)throw q2(i);a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,fn))})});let c=o.map(l=>{let d=a.get(l.element);return this._buildPlayer(l,new Map,d)}),u=ar(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw z2(e);return n}listen(e,n,r,i){let s=Mv(n,"","","");return Rv(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},w0="ng-animate-queued",MU=".ng-animate-queued",dv="ng-animate-disabled",PU=".ng-animate-disabled",NU="ng-star-inserted",xU=".ng-star-inserted",OU=[],F0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$t="__ng_removed",Fa=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=LU(i),r){let s=Ua(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},xa="void",hv=new Fa(xa),Cv=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw G2(r,n);if(r==null||r.length==0)throw W2(n);if(!VU(r))throw K2(r,n);let s=dt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=dt(this._engine.statesByElement,e,new Map);return a.has(n)||(Rt(e,id),Rt(e,id+"-"+n),a.set(n,hv)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Q2(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new La(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Rt(e,id),Rt(e,id+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Fa(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=hv),!(u.value===xa)&&c.value===u.value){if(!BU(c.params,u.params)){let g=[],y=s.matchStyles(c.value,c.params,g),I=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ni(e,y),pn(e,I)})}return}let h=dt(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:u,player:o,isFallbackTransition:p}),p||(Rt(e,w0),o.onStart(()=>{Cs(e,w0)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let y=this._engine.playersByElement.get(e);if(y){let I=y.indexOf(o);I>=0&&y.splice(I,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ud,!0);r.forEach(i=>{if(i[$t])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,xa,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ar(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,u=r.get(o)||hv,l=new Fa(xa),d=new La(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[$t];(!s||s===F0)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Rt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=Mv(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Rv(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Sv=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Cv(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(ad(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!ad(n))return;let s=n[$t];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rt(e,dv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cs(e,dv))}removeNode(e,n,r){if(ad(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[$t]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return ad(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,ud,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,gv,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ar(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[$t];if(n&&n.setForRemoval){if(e[$t]=F0,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(dv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,PU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Rt(i,NU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ar(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Y2(e)}_flushAnimations(e,n){let r=new ka,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(T=>{l.add(T);let C=this.driver.query(T,MU,!0);for(let M=0;M<C.length;M++)l.add(C[M])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=T0(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((T,C)=>{let M=R0+g++;p.set(C,M),T.forEach(ee=>Rt(ee,M))});let y=[],I=new Set,A=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let C=this.collectedLeaveElements[T],M=C[$t];M&&M.setForRemoval&&(y.push(C),I.add(C),M.hasAnimation?this.driver.query(C,xU,!0).forEach(ee=>I.add(ee)):A.add(C))}let P=new Map,L=T0(h,Array.from(I));L.forEach((T,C)=>{let M=pv+g++;P.set(C,M),T.forEach(ee=>Rt(ee,M))}),e.push(()=>{f.forEach((T,C)=>{let M=p.get(C);T.forEach(ee=>Cs(ee,M))}),L.forEach((T,C)=>{let M=P.get(C);T.forEach(ee=>Cs(ee,M))}),y.forEach(T=>{this.processLeaveNode(T)})});let he=[],B=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(n).forEach(M=>{let ee=M.player,Me=M.element;if(he.push(ee),this.collectedEnterElements.length){let $e=Me[$t];if($e&&$e.setForMove){if($e.previousTriggersValues&&$e.previousTriggersValues.has(M.triggerName)){let ur=$e.previousTriggersValues.get(M.triggerName),ht=this.statesByElement.get(M.element);if(ht&&ht.has(M.triggerName)){let ja=ht.get(M.triggerName);ja.value=ur,ht.set(M.triggerName,ja)}}ee.destroy();return}}let Ht=!d||!this.driver.containsElement(d,Me),nt=P.get(Me),Mn=p.get(Me),fe=this._buildInstruction(M,r,Mn,nt,Ht);if(fe.errors&&fe.errors.length){B.push(fe);return}if(Ht){ee.onStart(()=>ni(Me,fe.fromStyles)),ee.onDestroy(()=>pn(Me,fe.toStyles)),i.push(ee);return}if(M.isFallbackTransition){ee.onStart(()=>ni(Me,fe.fromStyles)),ee.onDestroy(()=>pn(Me,fe.toStyles)),i.push(ee);return}let Vv=[];fe.timelines.forEach($e=>{$e.stretchStartingKeyframe=!0,this.disabledNodes.has($e.element)||Vv.push($e)}),fe.timelines=Vv,r.append(Me,fe.timelines);let H0={instruction:fe,player:ee,element:Me};o.push(H0),fe.queriedElements.forEach($e=>dt(a,$e,[]).push(ee)),fe.preStyleProps.forEach(($e,ur)=>{if($e.size){let ht=c.get(ur);ht||c.set(ur,ht=new Set),$e.forEach((ja,Ed)=>ht.add(Ed))}}),fe.postStyleProps.forEach(($e,ur)=>{let ht=u.get(ur);ht||u.set(ur,ht=new Set),$e.forEach((ja,Ed)=>ht.add(Ed))})});if(B.length){let T=[];B.forEach(C=>{T.push(Z2(C.triggerName,C.errors))}),he.forEach(C=>C.destroy()),this.reportError(T)}let ne=new Map,we=new Map;o.forEach(T=>{let C=T.element;r.has(C)&&(we.set(C,C),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,ne))}),i.forEach(T=>{let C=T.element;this._getPreviousPlayers(C,!1,T.namespaceId,T.triggerName,null).forEach(ee=>{dt(ne,C,[]).push(ee),ee.destroy()})});let Le=y.filter(T=>D0(T,c,u)),Be=new Map;I0(Be,this.driver,A,u,fn).forEach(T=>{D0(T,c,u)&&Le.push(T)});let Rs=new Map;f.forEach((T,C)=>{I0(Rs,this.driver,new Set(T),c,nd)}),Le.forEach(T=>{let C=Be.get(T),M=Rs.get(T);Be.set(T,new Map([...C?.entries()??[],...M?.entries()??[]]))});let cr=[],Fv=[],Lv={};o.forEach(T=>{let{element:C,player:M,instruction:ee}=T;if(r.has(C)){if(l.has(C)){M.onDestroy(()=>pn(C,ee.toStyles)),M.disabled=!0,M.overrideTotalTime(ee.totalTime),i.push(M);return}let Me=Lv;if(we.size>1){let nt=C,Mn=[];for(;nt=nt.parentNode;){let fe=we.get(nt);if(fe){Me=fe;break}Mn.push(nt)}Mn.forEach(fe=>we.set(fe,Me))}let Ht=this._buildAnimation(M.namespaceId,ee,ne,s,Rs,Be);if(M.setRealPlayer(Ht),Me===Lv)cr.push(M);else{let nt=this.playersByElement.get(Me);nt&&nt.length&&(M.parentPlayer=ar(nt)),i.push(M)}}else ni(C,ee.fromStyles),M.onDestroy(()=>pn(C,ee.toStyles)),Fv.push(M),l.has(C)&&i.push(M)}),Fv.forEach(T=>{let C=s.get(T.element);if(C&&C.length){let M=ar(C);T.setRealPlayer(M)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<y.length;T++){let C=y[T],M=C[$t];if(Cs(C,pv),M&&M.hasAnimation)continue;let ee=[];if(a.size){let Ht=a.get(C);Ht&&Ht.length&&ee.push(...Ht);let nt=this.driver.query(C,gv,!0);for(let Mn=0;Mn<nt.length;Mn++){let fe=a.get(nt[Mn]);fe&&fe.length&&ee.push(...fe)}}let Me=ee.filter(Ht=>!Ht.destroyed);Me.length?UU(this,C,Me):this.processLeaveNode(C)}return y.length=0,cr.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let C=this.players.indexOf(T);this.players.splice(C,1)}),T.play()}),cr}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==xa;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let u=c.element,l=u!==s,d=dt(r,u,[]);this._getPreviousPlayers(u,l,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ni(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,h=n.timelines.map(p=>{let g=p.element;l.add(g);let y=g[$t];if(y&&y.removedBeforeQueried)return new or(p.duration,p.delay);let I=g!==c,A=jU((r.get(g)||OU).map(ne=>ne.getRealPlayer())).filter(ne=>{let we=ne;return we.element?we.element===g:!1}),P=s.get(g),L=o.get(g),he=b0(this._normalizer,p.keyframes,P,L),B=this._buildPlayer(p,he,A);if(p.subTimeline&&i&&d.add(g),I){let ne=new La(e,a,g);ne.setRealPlayer(B),u.push(ne)}return B});u.forEach(p=>{dt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>FU(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Rt(p,p0));let f=ar(h);return f.onDestroy(()=>{l.forEach(p=>Cs(p,p0)),pn(c,n.toStyles)}),d.forEach(p=>{dt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new or(e.duration,e.delay)}},La=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new or,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Rv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){dt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function FU(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function LU(t){return t??null}function ad(t){return t&&t.nodeType===1}function VU(t){return t=="start"||t=="done"}function E0(t,e){let n=t.style.display;return t.style.display=e??"none",n}function I0(t,e,n,r,i){let s=[];n.forEach(c=>s.push(E0(c)));let o=[];r.forEach((c,u)=>{let l=new Map;c.forEach(d=>{let h=e.computeStyle(u,d,i);l.set(d,h),(!h||h.length==0)&&(u[$t]=kU,o.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>E0(c,s[a++])),o}function T0(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:i.has(u)?c=r:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&n.get(c).push(a)}),n}function Rt(t,e){t.classList?.add(e)}function Cs(t,e){t.classList?.remove(e)}function UU(t,e,n){ar(n).onDone(()=>t.processLeaveNode(e))}function jU(t){let e=[];return L0(t,e),e}function L0(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof Pa?L0(r.players,e):e.push(r)}}function BU(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function D0(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var As=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Sv(e.body,n,r),this._timelineEngine=new bv(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],u=[],l=O0(this._driver,s,c,u);if(c.length)throw j2(i,c);u.length&&void 0,a=SU(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=h0(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=h0(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function $U(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=fv(e[0]),e.length>1&&(r=fv(e[e.length-1]))):e instanceof Map&&(n=fv(e)),n||r?new HU(t,n,r):null}var HU=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(r);o||e.initialStylesByElement.set(r,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pn(this._element,this._initialStyles),this._endStyles&&(pn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ni(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ni(this._element,this._endStyles),this._endStyles=null),pn(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function fv(t){let e=null;return t.forEach((n,r)=>{qU(r)&&(e=e||new Map,e.set(r,n))}),e}function qU(t){return t==="display"||t==="position"}var yd=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:N0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},vd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return C0(e,n)}getParentElement(e){return Pv(e)}query(e,n,r){return S0(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let u=new Map,l=o.filter(f=>f instanceof yd);cU(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=sU(n).map(f=>Ss(f));d=uU(e,d,u);let h=$U(e,d);return new yd(e,d,c,h)}};var cd="@",V0="@.disabled",_d=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==cd&&n==V0?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Av=class extends _d{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==cd?n.charAt(1)=="."&&n==V0?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==cd){let i=zU(e),s=n.slice(1),o="";return s.charAt(0)!=cd&&([s,o]=GU(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function zU(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function GU(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var wd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(i);if(!l){let d=()=>u.delete(i);l=new _d(r,i,this.engine,d),u.set(i,l)}return l}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new Av(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var KU=(()=>{let e=class e extends As{constructor(r,i,s,o){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(k(Ze),k(Va),k(ri),k(Ar))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function QU(){return new hd}function YU(t,e,n){return new wd(t,e,n)}var U0=[{provide:ri,useFactory:QU},{provide:As,useClass:KU},{provide:Er,useFactory:YU,deps:[cu,As,ce]}],ZU=[{provide:Va,useFactory:()=>new vd},{provide:pf,useValue:"BrowserAnimations"},...U0],l6=[{provide:Va,useClass:Nv},{provide:pf,useValue:"NoopAnimations"},...U0];function j0(){return[...ZU]}var B0={providers:[bT(l0),Kc(ZT(()=>JT({projectId:"portfolio-17c2e",appId:"1:141443508328:web:8a76cad12971d3f300f3dd",databaseURL:"https://portfolio-17c2e.firebaseio.com",storageBucket:"portfolio-17c2e.appspot.com",apiKey:"AIzaSyD3xa0uea3BJmjVMGGLAM1AlNnSWk7T6es",authDomain:"portfolio-17c2e.firebaseapp.com",messagingSenderId:"141443508328",measurementId:"G-SK4CQX2R61"}))),Kc(t0(()=>r0())),j0()]};var $0=(()=>{let e=class e{constructor(){this.title="Portfolio"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ai({type:e,selectors:[["app-root"]],standalone:!0,features:[Fi],decls:1,vars:0,template:function(i,s){i&1&&Cr(0,"router-outlet")},dependencies:[ao,Pp]});let t=e;return t})();qI($0,B0).catch(t=>console.error(t));
