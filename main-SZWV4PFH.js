var sC=Object.defineProperty,oC=Object.defineProperties;var aC=Object.getOwnPropertyDescriptors;var $m=Object.getOwnPropertySymbols;var cC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable;var Hm=(t,e,n)=>e in t?sC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})cC.call(e,n)&&Hm(t,n,e[n]);if($m)for(var n of $m(e))uC.call(e,n)&&Hm(t,n,e[n]);return t},ce=(t,e)=>oC(t,aC(e));var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var qm=null;var fl=1;function ze(t){let e=qm;return qm=t,e}var zm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lC(t){if(!(ml(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fl)){if(!t.producerMustRecompute(t)&&!pl(t)){t.dirty=!1,t.lastCleanEpoch=fl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fl}}function Gm(t){return t&&(t.nextProducerIndex=0),ze(t)}function Wm(t,e){if(ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ml(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pl(t){Ko(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lC(n),r!==n.version))return!0}return!1}function Km(t){if(Ko(t),ml(t))for(let e=0;e<t.producerNode.length;e++)gl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gl(t,e){if(dC(t),Ko(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)gl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ko(i),i.producerIndexOfThis[r]=e}}function ml(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ko(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hC(){throw new Error}var fC=hC;function Qm(t){fC=t}function M(t){return typeof t=="function"}function br(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qo=br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(s){e=s instanceof Qo?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ym(s)}catch(o){e=e??[],o instanceof Qo?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ym(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vn(n,e)}remove(e){let{_finalizers:n}=this;n&&Vn(n,e),e instanceof t&&e._removeParent(this)}};fe.EMPTY=(()=>{let t=new fe;return t.closed=!0,t})();var yl=fe.EMPTY;function Yo(t){return t instanceof fe||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function Ym(t){M(t)?t():t.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Sr={setTimeout(t,e,...n){let{delegate:r}=Sr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Sr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zo(t){Sr.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(t);else throw t})}function $i(){}var Zm=(()=>vl("C",void 0,void 0))();function Jm(t){return vl("E",void 0,t)}function Xm(t){return vl("N",t,void 0)}function vl(t,e,n){return{kind:t,value:e,error:n}}var Un=null;function Ar(t){if(ht.useDeprecatedSynchronousErrorHandling){let e=!Un;if(e&&(Un={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Un;if(Un=null,n)throw r}}else t()}function ey(t){ht.useDeprecatedSynchronousErrorHandling&&Un&&(Un.errorThrown=!0,Un.error=t)}var jn=class extends fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yo(e)&&e.add(this)):this.destination=mC}static create(e,n,r){return new Gt(e,n,r)}next(e){this.isStopped?wl(Xm(e),this):this._next(e)}error(e){this.isStopped?wl(Jm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wl(Zm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pC=Function.prototype.bind;function _l(t,e){return pC.call(t,e)}var Il=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jo(r)}else Jo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jo(n)}}},Gt=class extends jn{constructor(e,n,r){super();let i;if(M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_l(e.next,s),error:e.error&&_l(e.error,s),complete:e.complete&&_l(e.complete,s)}):i=e}this.destination=new Il(i)}};function Jo(t){ht.useDeprecatedSynchronousErrorHandling?ey(t):Zo(t)}function gC(t){throw t}function wl(t,e){let{onStoppedNotification:n}=ht;n&&Sr.setTimeout(()=>n(t,e))}var mC={closed:!0,next:$i,error:gC,complete:$i};var Rr=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Ve(t){return t}function Xo(...t){return El(t)}function El(t){return t.length===0?Ve:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var B=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=vC(n)?n:new Gt(n,r,i);return Ar(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ty(r),new r((i,s)=>{let o=new Gt({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Rr](){return this}pipe(...n){return El(n)(this)}toPromise(n){return n=ty(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ty(t){var e;return(e=t??ht.Promise)!==null&&e!==void 0?e:Promise}function yC(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}function vC(t){return t&&t instanceof jn||yC(t)&&Yo(t)}function Tl(t){return M(t?.lift)}function V(t){return e=>{if(Tl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new Dl(t,e,n,r,i)}var Dl=class extends jn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xr(){return V((t,e)=>{let n=null;t._refCount++;let r=$(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Mr=class extends B{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fe;let n=this.getSubject();e.add(this.source.subscribe($(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fe.EMPTY)}return e}refCount(){return xr()(this)}};var ny=br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ea(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ny}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?yl:(this.currentObservers=null,s.push(n),new fe(()=>{this.currentObservers=null,Vn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return t.create=(e,n)=>new ea(e,n),t})(),ea=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yl}};var Ae=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cl={now(){return(Cl.delegate||Date).now()},delegate:void 0};var ta=class extends fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Hi={setInterval(t,e,...n){let{delegate:r}=Hi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Hi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Nr=class extends ta{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Hi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Hi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Pr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Pr.now=Cl.now;var Or=class extends Pr{constructor(e,n=Pr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bl=new Or(Nr);var na=class extends Nr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ra=class extends Or{};var Sl=new ra(na);var $e=new B(t=>t.complete());function ry(t){return t&&M(t.schedule)}function Al(t){return t[t.length-1]}function iy(t){return M(Al(t))?t.pop():void 0}function bt(t){return ry(Al(t))?t.pop():void 0}function sy(t,e){return typeof Al(t)=="number"?t.pop():e}function Rl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ay(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function oy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(t){return this instanceof Bn?(this.v=t,this):new Bn(t)}function cy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Bn?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function uy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oy=="function"?oy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ia=t=>t&&typeof t.length=="number"&&typeof t!="function";function sa(t){return M(t?.then)}function oa(t){return M(t[Rr])}function aa(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _C(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ua=_C();function la(t){return M(t?.[ua])}function da(t){return cy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Bn(n.read());if(i)return yield Bn(void 0);yield yield Bn(r)}}finally{n.releaseLock()}})}function ha(t){return M(t?.getReader)}function oe(t){if(t instanceof B)return t;if(t!=null){if(oa(t))return wC(t);if(ia(t))return IC(t);if(sa(t))return EC(t);if(aa(t))return ly(t);if(la(t))return TC(t);if(ha(t))return DC(t)}throw ca(t)}function wC(t){return new B(e=>{let n=t[Rr]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IC(t){return new B(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function EC(t){return new B(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zo)})}function TC(t){return new B(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ly(t){return new B(e=>{CC(t,e).catch(n=>e.error(n))})}function DC(t){return ly(da(t))}function CC(t,e){var n,r,i,s;return ay(this,void 0,void 0,function*(){try{for(n=uy(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function He(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function on(t,e=0){return V((n,r)=>{n.subscribe($(r,i=>He(r,t,()=>r.next(i),e),()=>He(r,t,()=>r.complete(),e),i=>He(r,t,()=>r.error(i),e)))})}function an(t,e=0){return V((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dy(t,e){return oe(t).pipe(an(e),on(e))}function hy(t,e){return oe(t).pipe(an(e),on(e))}function fy(t,e){return new B(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function py(t,e){return new B(n=>{let r;return He(n,e,()=>{r=t[ua](),He(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}function fa(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(n=>{He(n,e,()=>{let r=t[Symbol.asyncIterator]();He(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gy(t,e){return fa(da(t),e)}function my(t,e){if(t!=null){if(oa(t))return dy(t,e);if(ia(t))return fy(t,e);if(sa(t))return hy(t,e);if(aa(t))return fa(t,e);if(la(t))return py(t,e);if(ha(t))return gy(t,e)}throw ca(t)}function ue(t,e){return e?my(t,e):oe(t)}function R(...t){let e=bt(t);return ue(t,e)}function kr(t,e){let n=M(t)?t:()=>t,r=i=>i.error(n());return new B(e?i=>e.schedule(r,0,i):r)}function xl(t){return!!t&&(t instanceof B||M(t.lift)&&M(t.subscribe))}var Wt=br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function q(t,e){return V((n,r)=>{let i=0;n.subscribe($(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:bC}=Array;function SC(t,e){return bC(e)?t(...e):t(e)}function yy(t){return q(e=>SC(t,e))}var{isArray:AC}=Array,{getPrototypeOf:RC,prototype:xC,keys:MC}=Object;function vy(t){if(t.length===1){let e=t[0];if(AC(e))return{args:e,keys:null};if(NC(e)){let n=MC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NC(t){return t&&typeof t=="object"&&RC(t)===xC}function _y(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pa(...t){let e=bt(t),n=iy(t),{args:r,keys:i}=vy(t);if(r.length===0)return ue([],e);let s=new B(PC(r,e,i?o=>_y(i,o):Ve));return n?s.pipe(yy(n)):s}function PC(t,e,n=Ve){return r=>{wy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)wy(e,()=>{let u=ue(t[c],e),l=!1;u.subscribe($(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function wy(t,e,n){t?He(n,t,e):e()}function Iy(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let w=!1;oe(n(y,l++)).subscribe($(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){let T=c.shift();o?He(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe($(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return M(e)?_e((r,i)=>q((s,o)=>e(r,s,i,o))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),V((r,i)=>Iy(r,i,t,n)))}function qi(t=1/0){return _e(Ve,t)}function Ey(){return qi(1)}function Fr(...t){return Ey()(ue(t,bt(t)))}function ga(t){return new B(e=>{oe(t()).subscribe(e)})}function Ml(...t){let e=bt(t),n=sy(t,1/0),r=t;return r.length?r.length===1?oe(r[0]):qi(n)(ue(r,e)):$e}function Je(t,e){return V((n,r)=>{let i=0;n.subscribe($(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cn(t){return V((e,n)=>{let r=null,i=!1,s;r=e.subscribe($(n,void 0,void 0,o=>{s=oe(t(o,cn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ty(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe($(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Lr(t,e){return M(e)?_e(t,e,1):_e(t,1)}function un(t){return V((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Kt(t){return t<=0?()=>$e:V((e,n)=>{let r=0;e.subscribe($(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Nl(t){return q(()=>t)}function ma(t,e=Ve){return t=t??OC,V((n,r)=>{let i,s=!0;n.subscribe($(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function OC(t,e){return t===e}function ya(t=kC){return V((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kC(){return new Wt}function zi(t){return V((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function St(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,s)=>t(i,s,r)):Ve,Kt(1),n?un(e):ya(()=>new Wt))}function Vr(t){return t<=0?()=>$e:V((e,n)=>{let r=[];e.subscribe($(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Pl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,s)=>t(i,s,r)):Ve,Vr(1),n?un(e):ya(()=>new Wt))}function va(t,e){return V(Ty(t,e,arguments.length>=2,!0))}function _a(t={}){let{connector:e=()=>new Ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let y=o;f(),y?.unsubscribe()};return V((y,w)=>{u++,!d&&!l&&h();let T=c=c??e();w.add(()=>{u--,u===0&&!d&&!l&&(a=Ol(g,i))}),T.subscribe(w),!o&&u>0&&(o=new Gt({next:W=>T.next(W),error:W=>{d=!0,h(),a=Ol(f,n,W),T.error(W)},complete:()=>{l=!0,h(),a=Ol(f,r),T.complete()}}),oe(y).subscribe(o))})(s)}}function Ol(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Gt({next:()=>{r.unsubscribe(),t()}});return oe(e(...n)).subscribe(r)}function wa(...t){let e=bt(t);return V((n,r)=>{(e?Fr(t,n,e):Fr(t,n)).subscribe(r)})}function Ge(t,e){return V((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe($(r,c=>{i?.unsubscribe();let u=0,l=s++;oe(t(c,l)).subscribe(i=$(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function kl(t){return V((e,n)=>{oe(t).subscribe($(n,()=>n.complete(),$i)),!n.closed&&e.subscribe(n)})}function pe(t,e,n){let r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?V((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe($(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ve}function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function Ue(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ue).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ql(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var FC=ne({__forward_ref__:ne});function ov(t){return t.__forward_ref__=ov,t.toString=function(){return Ue(this())},t}function et(t){return av(t)?t():t}function av(t){return typeof t=="function"&&t.hasOwnProperty(FC)&&t.__forward_ref__===ov}function cv(t){return t&&!!t.\u0275providers}var uv="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(xd(e,n)),this.code=e}};function xd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var LC=ne({\u0275cmp:ne}),VC=ne({\u0275dir:ne}),UC=ne({\u0275pipe:ne}),jC=ne({\u0275mod:ne}),Ra=ne({\u0275fac:ne}),Gi=ne({__NG_ELEMENT_ID__:ne}),Dy=ne({__NG_ENV_ID__:ne});function Ka(t){return typeof t=="string"?t:t==null?"":String(t)}function BC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ka(t)}function $C(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}function Md(t,e){let n=e?` in ${e}`:"";throw new b(-201,!1)}function HC(t,e){t==null&&qC(e,t,null,"!=")}function qC(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qa(t){return Cy(t,dv)||Cy(t,hv)}function lv(t){return Qa(t)!==null}function Cy(t,e){return t.hasOwnProperty(e)?t[e]:null}function zC(t){let e=t&&(t[dv]||t[hv]);return e||null}function by(t){return t&&(t.hasOwnProperty(Sy)||t.hasOwnProperty(GC))?t[Sy]:null}var dv=ne({\u0275prov:ne}),Sy=ne({\u0275inj:ne}),hv=ne({ngInjectableDef:ne}),GC=ne({ngInjectorDef:ne}),U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{}),Yl;function WC(){return Yl}function Xe(t){let e=Yl;return Yl=t,e}function fv(t,e,n){let r=Qa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(e!==void 0)return e;Md(Ue(t),"Injector")}var $n=globalThis;var L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var KC={},Qi=KC,Zl="__NG_DI_FLAG__",xa="ngTempTokenPath",QC="ngTokenPath",YC=/\n/gm,ZC="\u0275",Ay="__source",Wi;function ln(t){let e=Wi;return Wi=t,e}function JC(t,e=U.Default){if(Wi===void 0)throw new b(-203,!1);return Wi===null?fv(t,void 0,e):Wi.get(t,e&U.Optional?null:void 0,e)}function F(t,e=U.Default){return(WC()||JC)(et(t),e)}function E(t,e=U.Default){return F(t,Ya(e))}function Ya(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jl(t){let e=[];for(let n=0;n<t.length;n++){let r=et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=U.Default;for(let o=0;o<r.length;o++){let a=r[o],c=XC(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function pv(t,e){return t[Zl]=e,t.prototype[Zl]=e,t}function XC(t){return t[Zl]}function eb(t,e,n,r){let i=t[xa];throw e[Ay]&&i.unshift(e[Ay]),t.message=tb(`
`+t.message,i,n,r),t[QC]=i,t[xa]=null,t}function tb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZC?t.slice(2):t;let i=Ue(e);if(Array.isArray(e))i=e.map(Ue).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ue(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YC,`
  `)}`}function as(t){return{toString:t}.toString()}var gv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gv||{}),xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xt||{}),Yi={},We=[];function mv(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xl(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];nb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function yv(t){return t===3||t===4||t===6}function nb(t){return t.charCodeAt(0)===64}function Nd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ry(t,n,i,null,e[++r]):Ry(t,n,i,null,null))}}return t}function Ry(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var vv="ng-template";function rb(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&mv(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function _v(t){return t.type===4&&t.value!==vv}function ib(t,e,n){let r=t.type===4&&!n?vv:t.value;return e===r}function sb(t,e,n){let r=4,i=t.attrs||[],s=cb(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ft(r)&&!ft(c))return!1;if(o&&ft(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!ib(t,c,n)||c===""&&e.length===1){if(ft(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!rb(t.attrs,u,n)){if(ft(r))return!1;o=!0}continue}let l=r&8?"class":c,d=ob(l,i,_v(t),n);if(d===-1){if(ft(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&mv(f,u,0)!==-1||r&2&&u!==h){if(ft(r))return!1;o=!0}}}}return ft(r)||o}function ft(t){return(t&1)===0}function ob(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return ub(e,t)}function ab(t,e,n=!1){for(let r=0;r<e.length;r++)if(sb(t,e[r],n))return!0;return!1}function cb(t){for(let e=0;e<t.length;e++){let n=t[e];if(yv(n))return e}return t.length}function ub(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xy(t,e){return t?":not("+e.trim()+")":e}function lb(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ft(o)&&(e+=xy(s,i),i=""),r=o,s=s||!ft(r);n++}return i!==""&&(e+=xy(s,i)),e}function db(t){return t.map(lb).join(",")}function hb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ft(i))break;i=s}r++}return{attrs:e,classes:n}}function Kr(t){return as(()=>{let e=Dv(t),n=ce(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,styles:t.styles||We,_:null,schemas:t.schemas||null,tView:null,id:""});Cv(n);let r=t.dependencies;return n.directiveDefs=Ny(r,!1),n.pipeDefs=Ny(r,!0),n.id=gb(n),n})}function fb(t){return qn(t)||wv(t)}function pb(t){return t!==null}function mn(t){return as(()=>({type:t.type,bootstrap:t.bootstrap||We,declarations:t.declarations||We,imports:t.imports||We,exports:t.exports||We,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function My(t,e){if(t==null)return Yi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Qr(t){return as(()=>{let e=Dv(t);return Cv(e),e})}function qn(t){return t[LC]||null}function wv(t){return t[VC]||null}function Iv(t){return t[UC]||null}function Ev(t){let e=qn(t)||wv(t)||Iv(t);return e!==null?e.standalone:!1}function Tv(t,e){let n=t[jC]||null;if(!n&&e===!0)throw new Error(`Type ${Ue(t)} does not have '\u0275mod' property.`);return n}function Dv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||We,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:My(t.inputs,e),outputs:My(t.outputs),debugInfo:null}}function Cv(t){t.features?.forEach(e=>e(t))}function Ny(t,e){if(!t)return null;let n=e?Iv:fb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pb)}function gb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Zt=0,z=1,x=2,we=3,mt=4,vt=5,Ma=6,Zi=7,nt=8,Hr=9,qr=10,Ee=11,Ji=12,Py=13,Yr=14,Mt=15,Za=16,Ur=17,Xi=18,Ja=19,bv=20,Ki=21,Fl=22,zn=23,hn=25,Sv=1;var Gn=7,Na=8,Pa=9,tt=10,zr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(zr||{});function dn(t){return Array.isArray(t)&&typeof t[Sv]=="object"}function yt(t){return Array.isArray(t)&&t[Sv]===!0}function Av(t){return(t.flags&4)!==0}function Xa(t){return t.componentOffset>-1}function Pd(t){return(t.flags&1)===1}function cs(t){return!!t.template}function mb(t){return(t[x]&512)!==0}function Gr(t,e){let n=t.hasOwnProperty(Ra);return n?t[Ra]:null}var ed=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function us(){return Rv}function Rv(t){return t.type.prototype.ngOnChanges&&(t.setInput=vb),yb}us.ngInherit=!0;function yb(){let t=Mv(this),e=t?.current;if(e){let n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vb(t,e,n,r){let i=this.declaredInputs[n],s=Mv(t)||_b(t,{previous:Yi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new ed(c&&c.currentValue,e,a===Yi),t[r]=e}var xv="__ngSimpleChanges__";function Mv(t){return t[xv]||null}function _b(t,e){return t[xv]=e}var Oy=null;var At=function(t,e,n){Oy?.(t,e,n)},Nv="svg",wb="math";function Nt(t){for(;Array.isArray(t);)t=t[Zt];return t}function Pv(t,e){return Nt(e[t])}function it(t,e){return Nt(e[t.index])}function Ov(t,e){return t.data[e]}function yn(t,e){let n=e[t];return dn(n)?n:n[Zt]}function Od(t){return(t[x]&128)===128}function Ib(t){return yt(t[we])}function Oa(t,e){return e==null?null:t[e]}function kv(t){t[Ur]=0}function Eb(t){t[x]&1024||(t[x]|=1024,Od(t)&&ec(t))}function Tb(t,e){for(;t>0;)e=e[Yr],t--;return e}function Fv(t){return t[x]&9216||t[zn]?.dirty}function Lv(t){Fv(t)&&ec(t)}function ec(t){let e=t[we];for(;e!==null&&!(yt(e)&&e[x]&zr.HasChildViewsToRefresh||dn(e)&&e[x]&8192);){if(yt(e))e[x]|=zr.HasChildViewsToRefresh;else if(e[x]|=8192,!Od(e))break;e=e[we]}}function Db(t,e){if((t[x]&256)===256)throw new b(911,!1);t[Ki]===null&&(t[Ki]=[]),t[Ki].push(e)}var j={lFrame:Gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cb(){return j.lFrame.elementDepthCount}function bb(){j.lFrame.elementDepthCount++}function Sb(){j.lFrame.elementDepthCount--}function Vv(){return j.bindingsEnabled}function Ab(){return j.skipHydrationRootTNode!==null}function Rb(t){return j.skipHydrationRootTNode===t}function xb(){j.skipHydrationRootTNode=null}function ae(){return j.lFrame.lView}function Jt(){return j.lFrame.tView}function Uv(t){return j.lFrame.contextLView=t,t[nt]}function jv(t){return j.lFrame.contextLView=null,t}function st(){let t=Bv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Bv(){return j.lFrame.currentTNode}function Mb(){let t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ls(t,e){let n=j.lFrame;n.currentTNode=t,n.isParent=e}function $v(){return j.lFrame.isParent}function Nb(){j.lFrame.isParent=!1}function Pb(){let t=j.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ob(t){return j.lFrame.bindingIndex=t}function kd(){return j.lFrame.bindingIndex++}function kb(t){let e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fb(){return j.lFrame.inI18n}function Lb(t,e){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,td(e)}function Vb(){return j.lFrame.currentDirectiveIndex}function td(t){j.lFrame.currentDirectiveIndex=t}function Ub(t){let e=j.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hv(t){j.lFrame.currentQueryIndex=t}function jb(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[vt]:null}function qv(t,e,n){if(n&U.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=jb(s),i===null||(s=s[Yr],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=j.lFrame=zv();return r.currentTNode=e,r.lView=t,!0}function Fd(t){let e=zv(),n=t[z];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zv(){let t=j.lFrame,e=t===null?null:t.child;return e===null?Gv(t):e}function Gv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Wv(){let t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Kv=Wv;function Ld(){let t=Wv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bb(t){return(j.lFrame.contextLView=Tb(t,j.lFrame.contextLView))[nt]}function Zr(){return j.lFrame.selectedIndex}function Wn(t){j.lFrame.selectedIndex=t}function Qv(){let t=j.lFrame;return Ov(t.tView,t.selectedIndex)}function Yv(){j.lFrame.currentNamespace=Nv}function $b(){return j.lFrame.currentNamespace}var Zv=!0;function Vd(){return Zv}function Ud(t){Zv=t}function Hb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Rv(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function jd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Da(t,e,n){Jv(t,e,3,n)}function Ca(t,e,n,r){(t[x]&3)===n&&Jv(t,e,n,r)}function Ll(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function Jv(t,e,n,r){let i=r!==void 0?t[Ur]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ur]+=65536),(a<s||s==-1)&&(qb(t,n,e,c),t[Ur]=(t[Ur]&4294901760)+c+2),c++}function ky(t,e){At(4,t,e);let n=ze(null);try{e.call(t)}finally{ze(n),At(5,t,e)}}function qb(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[x]>>14<t[Ur]>>16&&(t[x]&3)===e&&(t[x]+=16384,ky(a,s)):ky(a,s)}var $r=-1,es=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function zb(t){return t instanceof es}function Gb(t){return(t.flags&8)!==0}function Wb(t){return(t.flags&16)!==0}function Xv(t){return t!==$r}function ka(t){let e=t&32767;return t&32767}function Kb(t){return t>>16}function Fa(t,e){let n=Kb(t),r=e;for(;n>0;)r=r[Yr],n--;return r}var nd=!0;function Fy(t){let e=nd;return nd=t,e}var Qb=256,e_=Qb-1,t_=5,Yb=0,Rt={};function Zb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gi)&&(r=n[Gi]),r==null&&(r=n[Gi]=Yb++);let i=r&e_,s=1<<i;e.data[t+(i>>t_)]|=s}function n_(t,e){let n=r_(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Vl(r.data,t),Vl(e,null),Vl(r.blueprint,null));let i=Bd(t,e),s=t.injectorIndex;if(Xv(i)){let o=ka(i),a=Fa(i,e),c=a[z].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Vl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function r_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=c_(i),r===null)return $r;if(n++,i=i[Yr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return $r}function Jb(t,e,n){Zb(t,e,n)}function Xb(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(yv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function i_(t,e,n){if(n&U.Optional||t!==void 0)return t;Md(e,"NodeInjector")}function s_(t,e,n,r){if(n&U.Optional&&r===void 0&&(r=null),!(n&(U.Self|U.Host))){let i=t[Hr],s=Xe(void 0);try{return i?i.get(e,r,n&U.Optional):fv(e,r,n&U.Optional)}finally{Xe(s)}}return i_(r,e,n)}function o_(t,e,n,r=U.Default,i){if(t!==null){if(e[x]&2048&&!(r&U.Self)){let o=i0(t,e,n,r,Rt);if(o!==Rt)return o}let s=a_(t,e,n,r,Rt);if(s!==Rt)return s}return s_(e,n,r,i)}function a_(t,e,n,r,i){let s=n0(n);if(typeof s=="function"){if(!qv(e,t,r))return r&U.Host?i_(i,n,r):s_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&U.Optional))Md(n);else return o}finally{Kv()}}else if(typeof s=="number"){let o=null,a=r_(t,e),c=$r,u=r&U.Host?e[Mt][vt]:null;for((a===-1||r&U.SkipSelf)&&(c=a===-1?Bd(t,e):e[a+8],c===$r||!Vy(r,!1)?a=-1:(o=e[z],a=ka(c),e=Fa(c,e)));a!==-1;){let l=e[z];if(Ly(s,a,l.data)){let d=e0(a,e,n,o,r,u);if(d!==Rt)return d}c=e[a+8],c!==$r&&Vy(r,e[z].data[a+8]===u)&&Ly(s,a,e)?(o=l,a=ka(c),e=Fa(c,e)):a=-1}}return i}function e0(t,e,n,r,i,s){let o=e[z],a=o.data[t+8],c=r==null?Xa(a)&&nd:r!=o&&(a.type&3)!==0,u=i&U.Host&&s===a,l=t0(a,o,n,c,u);return l!==null?ts(e,o,l,a):Rt}function t0(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&cs(f)&&f.type===n)return c}return null}function ts(t,e,n,r){let i=t[n],s=e.data;if(zb(i)){let o=i;o.resolving&&$C(BC(s[n]));let a=Fy(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Xe(o.injectImpl):null,l=qv(t,r,U.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Hb(n,s[n],e)}finally{u!==null&&Xe(u),Fy(a),o.resolving=!1,Kv()}}return i}function n0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gi)?t[Gi]:void 0;return typeof e=="number"?e>=0?e&e_:r0:e}function Ly(t,e,n){let r=1<<t;return!!(n[e+(t>>t_)]&r)}function Vy(t,e){return!(t&U.Self)&&!(t&U.Host&&e)}var Hn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return o_(this._tNode,this._lView,e,Ya(r),n)}};function r0(){return new Hn(st(),ae())}function $d(t){return as(()=>{let e=t.prototype.constructor,n=e[Ra]||rd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ra]||rd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function rd(t){return av(t)?()=>{let e=rd(et(t));return e&&e()}:Gr(t)}function i0(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[x]&2048&&!(o[x]&512);){let a=a_(s,o,n,r|U.Self,Rt);if(a!==Rt)return a;let c=s.parent;if(!c){let u=o[bv];if(u){let l=u.get(n,Rt,r);if(l!==Rt)return l}c=c_(o),o=o[Yr]}s=c}return i}function c_(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[vt]:null}function Hd(t){return Xb(st(),t)}var Ia="__parameters__";function s0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function u_(t,e,n){return as(()=>{let r=s0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Ia)?c[Ia]:Object.defineProperty(c,Ia,{value:[]})[Ia];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function o0(t){return typeof t=="function"}function qd(t,e){t.forEach(n=>Array.isArray(n)?qd(n,e):e(n))}function l_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function La(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function a0(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function c0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zd(t,e,n){let r=ds(t,e);return r>=0?t[r|1]=n:(r=~r,c0(t,r,e,n)),r}function Ul(t,e){let n=ds(t,e);if(n>=0)return t[n|1]}function ds(t,e){return u0(t,e,1)}function u0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var _t=pv(u_("Optional"),8);var d_=pv(u_("SkipSelf"),4);var hs=new L("ENVIRONMENT_INITIALIZER"),h_=new L("INJECTOR",-1),f_=new L("INJECTOR_DEF_TYPES"),Va=class{get(e,n=Qi){if(n===Qi){let r=new Error(`NullInjectorError: No provider for ${Ue(e)}!`);throw r.name="NullInjectorError",r}return n}};function tc(t){return{\u0275providers:t}}function nc(...t){return{\u0275providers:p_(!0,t),\u0275fromNgModule:!0}}function p_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return qd(e,o=>{let a=o;id(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&g_(i,s),n}function g_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gd(i,s=>{e(s,r)})}}function id(t,e,n,r){if(t=et(t),!t)return!1;let i=null,s=by(t),o=!s&&qn(t);if(!s&&!o){let c=t.ngModule;if(s=by(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)id(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{qd(s.imports,l=>{id(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&g_(u,e)}if(!a){let u=Gr(i)||(()=>new i);e({provide:i,useFactory:u,deps:We},i),e({provide:f_,useValue:i,multi:!0},i),e({provide:hs,useValue:()=>F(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Gd(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Gd(t,e){for(let n of t)cv(n)&&(n=n.\u0275providers),Array.isArray(n)?Gd(n,e):e(n)}var l0=ne({provide:String,useValue:ne});function m_(t){return t!==null&&typeof t=="object"&&l0 in t}function d0(t){return!!(t&&t.useExisting)}function h0(t){return!!(t&&t.useFactory)}function sd(t){return typeof t=="function"}var rc=new L("Set Injector scope."),ba={},f0={},jl;function Wd(){return jl===void 0&&(jl=new Va),jl}var rt=class{},ns=class extends rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ad(e,o=>this.processProvider(o)),this.records.set(h_,jr(void 0,this)),i.has("environment")&&this.records.set(rt,jr(void 0,this));let s=this.records.get(rc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(f_,We,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ln(this),r=Xe(void 0),i;try{return e()}finally{ln(n),Xe(r)}}get(e,n=Qi,r=U.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dy))return e[Dy](this);r=Ya(r);let i,s=ln(this),o=Xe(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=_0(e)&&Qa(e);u&&this.injectableDefInScope(u)?c=jr(od(e),ba):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&U.Self?Wd():this.parent;return n=r&U.Optional&&n===Qi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xa]=a[xa]||[]).unshift(Ue(e)),s)throw a;return eb(a,e,"R3InjectorError",this.source)}else throw a}finally{Xe(o),ln(s)}}resolveInjectorInitializers(){let e=ln(this),n=Xe(void 0),r;try{let i=this.get(hs,We,U.Self);for(let s of i)s()}finally{ln(e),Xe(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ue(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=et(e);let n=sd(e)?e:et(e&&e.provide),r=g0(e);if(!sd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=jr(void 0,ba,!0),i.factory=()=>Jl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===ba&&(n.value=f0,n.value=n.factory()),typeof n.value=="object"&&n.value&&v0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function od(t){let e=Qa(t),n=e!==null?e.factory:Gr(t);if(n!==null)return n;if(t instanceof L)throw new b(204,!1);if(t instanceof Function)return p0(t);throw new b(204,!1)}function p0(t){let e=t.length;if(e>0){let r=a0(e,"?");throw new b(204,!1)}let n=zC(t);return n!==null?()=>n.factory(t):()=>new t}function g0(t){if(m_(t))return jr(void 0,t.useValue);{let e=m0(t);return jr(e,ba)}}function m0(t,e,n){let r;if(sd(t)){let i=et(t);return Gr(i)||od(i)}else if(m_(t))r=()=>et(t.useValue);else if(h0(t))r=()=>t.useFactory(...Jl(t.deps||[]));else if(d0(t))r=()=>F(et(t.useExisting));else{let i=et(t&&(t.useClass||t.provide));if(y0(t))r=()=>new i(...Jl(t.deps));else return Gr(i)||od(i)}return r}function jr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function y0(t){return!!t.deps}function v0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _0(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function ad(t,e){for(let n of t)Array.isArray(n)?ad(n,e):n&&cv(n)?ad(n.\u0275providers,e):e(n)}function Zn(t,e){t instanceof ns&&t.assertNotDestroyed();let n,r=ln(t),i=Xe(void 0);try{return e()}finally{ln(r),Xe(i)}}function Uy(t,e=null,n=null,r){let i=y_(t,e,n,r);return i.resolveInjectorInitializers(),i}function y_(t,e=null,n=null,r,i=new Set){let s=[n||We,nc(t)];return r=r||(typeof t=="object"?void 0:Ue(t)),new ns(s,e||Wd(),r||null,i)}var Pt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Uy({name:""},i,r,"");{let s=r.name??"";return Uy({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Qi,e.NULL=new Va,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>F(h_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var cd;function v_(t){cd=t}function w0(){if(cd!==void 0)return cd;if(typeof document<"u")return document;throw new b(210,!1)}var Kd=new L("AppId",{providedIn:"root",factory:()=>I0}),I0="ng",Qd=new L("Platform Initializer"),vn=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Yd=new L("CSP nonce",{providedIn:"root",factory:()=>w0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function __(t){return t instanceof Function?t():t}function w_(t){return(t.flags&128)===128}var Qt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qt||{});var I_=new Map,E0=0;function T0(){return E0++}function D0(t){I_.set(t[Ja],t)}function C0(t){I_.delete(t[Ja])}var jy="__ngContext__";function Kn(t,e){dn(e)?(t[jy]=e[Ja],D0(e)):t[jy]=e}var b0;function Zd(t,e){return b0(t,e)}function Jd(t){let e=t[we];return yt(e)?e[we]:e}function E_(t){return D_(t[Ji])}function T_(t){return D_(t[mt])}function D_(t){for(;t!==null&&!yt(t);)t=t[mt];return t}function Br(t,e,n,r,i){if(r!=null){let s,o=!1;yt(r)?s=r:dn(r)&&(o=!0,r=r[Zt]);let a=Nt(r);t===0&&n!==null?i==null?A_(e,n,a):Ua(e,n,a,i||null,!0):t===1&&n!==null?Ua(e,n,a,i||null,!0):t===2?q0(e,a,o):t===3&&e.destroyNode(a),s!=null&&G0(e,t,s,n,i)}}function S0(t,e){return t.createText(e)}function A0(t,e,n){t.setValue(e,n)}function C_(t,e,n){return t.createElement(e,n)}function R0(t,e){let n=e[Ee];fs(t,e,n,2,null,null),e[Zt]=null,e[vt]=null}function x0(t,e,n,r,i,s){r[Zt]=i,r[vt]=e,fs(t,r,n,1,i,s)}function M0(t,e){fs(t,e,e[Ee],2,null,null)}function N0(t){let e=t[Ji];if(!e)return Bl(t[z],t);for(;e;){let n=null;if(dn(e))n=e[Ji];else{let r=e[tt];r&&(n=r)}if(!n){for(;e&&!e[mt]&&e!==t;)dn(e)&&Bl(e[z],e),e=e[we];e===null&&(e=t),dn(e)&&Bl(e[z],e),n=e&&e[mt]}e=n}}function P0(t,e,n,r){let i=tt+r,s=n.length;r>0&&(n[i-1][mt]=e),r<s-tt?(e[mt]=n[i],l_(n,tt+r,e)):(n.push(e),e[mt]=null),e[we]=n;let o=e[Za];o!==null&&n!==o&&O0(o,e);let a=e[Xi];a!==null&&a.insertView(t),Lv(e),e[x]|=128}function O0(t,e){let n=t[Pa],i=e[we][we][Mt];e[Mt]!==i&&(t[x]|=zr.HasTransplantedViews),n===null?t[Pa]=[e]:n.push(e)}function b_(t,e){let n=t[Pa],r=n.indexOf(e),i=e[we];n.splice(r,1)}function ud(t,e){if(t.length<=tt)return;let n=tt+e,r=t[n];if(r){let i=r[Za];i!==null&&i!==t&&b_(i,r),e>0&&(t[n-1][mt]=r[mt]);let s=La(t,tt+e);R0(r[z],r);let o=s[Xi];o!==null&&o.detachView(s[z]),r[we]=null,r[mt]=null,r[x]&=-129}return r}function S_(t,e){if(!(e[x]&256)){let n=e[Ee];n.destroyNode&&fs(t,e,n,3,null,null),N0(e)}}function Bl(t,e){if(!(e[x]&256)){e[x]&=-129,e[x]|=256,e[zn]&&Km(e[zn]),F0(t,e),k0(t,e),e[z].type===1&&e[Ee].destroy();let n=e[Za];if(n!==null&&yt(e[we])){n!==e[we]&&b_(n,e);let r=e[Xi];r!==null&&r.detachView(t)}C0(e)}}function k0(t,e){let n=t.cleanup,r=e[Zi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Zi]=null);let i=e[Ki];if(i!==null){e[Ki]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function F0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof es)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];At(4,a,c);try{c.call(a)}finally{At(5,a,c)}}else{At(4,i,s);try{s.call(i)}finally{At(5,i,s)}}}}}function L0(t,e,n){return V0(t,e.parent,n)}function V0(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Zt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===xt.None||s===xt.Emulated)return null}return it(r,n)}}function Ua(t,e,n,r,i){t.insertBefore(e,n,r,i)}function A_(t,e,n){t.appendChild(e,n)}function By(t,e,n,r,i){r!==null?Ua(t,e,n,r,i):A_(t,e,n)}function U0(t,e,n,r){t.removeChild(e,n,r)}function Xd(t,e){return t.parentNode(e)}function j0(t,e){return t.nextSibling(e)}function B0(t,e,n){return H0(t,e,n)}function $0(t,e,n){return t.type&40?it(t,n):null}var H0=$0,$y;function eh(t,e,n,r){let i=L0(t,r,e),s=e[Ee],o=r.parent||e[vt],a=B0(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)By(s,i,n[c],a,!1);else By(s,i,n,a,!1);$y!==void 0&&$y(s,r,e,n,i)}function Sa(t,e){if(e!==null){let n=e.type;if(n&3)return it(e,t);if(n&4)return ld(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sa(t,r);{let i=t[e.index];return yt(i)?ld(-1,i):Nt(i)}}else{if(n&32)return Zd(e,t)()||Nt(t[e.index]);{let r=R_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jd(t[Mt]);return Sa(i,r)}else return Sa(t,e.next)}}}return null}function R_(t,e){if(e!==null){let r=t[Mt][vt],i=e.projection;return r.projection[i]}return null}function ld(t,e){let n=tt+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Sa(r,i)}return e[Gn]}function q0(t,e,n){let r=Xd(t,e);r&&U0(t,r,e,n)}function th(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Kn(Nt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)th(t,e,n.child,r,i,s,!1),Br(e,t,i,a,s);else if(c&32){let u=Zd(n,r),l;for(;l=u();)Br(e,t,i,l,s);Br(e,t,i,a,s)}else c&16?z0(t,e,r,n,i,s):Br(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fs(t,e,n,r,i,s){th(n,r,t.firstChild,e,i,s,!1)}function z0(t,e,n,r,i,s){let o=n[Mt],c=o[vt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Br(e,t,i,l,s)}else{let u=c,l=o[we];w_(r)&&(u.flags|=128),th(t,e,u,l,i,s,!0)}}function G0(t,e,n,r,i){let s=n[Gn],o=Nt(n);s!==o&&Br(e,t,r,s,i);for(let a=tt;a<n.length;a++){let c=n[a];fs(c[z],c,t,e,r,s)}}function W0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Qt.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qt.Important),t.setStyle(n,r,i,s))}}function K0(t,e,n){t.setAttribute(e,"style",n)}function x_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function M_(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Xl(t,e,r),i!==null&&x_(t,e,i),s!==null&&K0(t,e,s)}var Ea;function Q0(){if(Ea===void 0&&(Ea=null,$n.trustedTypes))try{Ea=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ea}function Hy(t){return Q0()?.createScriptURL(t)||t}var ja=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uv})`}};function ps(t){return t instanceof ja?t.changingThisBreaksApplicationSecurity:t}function nh(t,e){let n=Y0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${uv})`)}return n===e}function Y0(t){return t instanceof ja&&t.getTypeName()||null}var Z0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function N_(t){return t=String(t),t.match(Z0)?t:"unsafe:"+t}var ic=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ic||{});function sc(t){let e=O_();return e?e.sanitize(ic.URL,t)||"":nh(t,"URL")?ps(t):N_(Ka(t))}function J0(t){let e=O_();if(e)return Hy(e.sanitize(ic.RESOURCE_URL,t)||"");if(nh(t,"ResourceURL"))return Hy(ps(t));throw new b(904,!1)}function X0(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?J0:sc}function P_(t,e,n){return X0(e,n)(t)}function O_(){let t=ae();return t&&t[qr].sanitizer}var eS="h",tS="b";var nS=(t,e,n)=>null;function rh(t,e,n=!1){return nS(t,e,n)}var dd=class{},Ba=class{};function rS(t){let e=Error(`No component factory found for ${Ue(t)}.`);return e[iS]=t,e}var iS="ngComponent";var hd=class{resolveComponentFactory(e){throw rS(e)}},oc=(()=>{let e=class e{};e.NULL=new hd;let t=e;return t})();function sS(){return ac(st(),ae())}function ac(t,e){return new gs(it(t,e))}var gs=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sS;let t=e;return t})();var rs=class{},cc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>oS();let t=e;return t})();function oS(){let t=ae(),e=st(),n=yn(e.index,t);return(dn(n)?n:t)[Ee]}var aS=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),fn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},ih=new fn("17.0.6"),$l={};function k_(t){return uS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var fd=class{constructor(){}supports(e){return k_(e)}create(e){return new pd(e)}},lS=(t,e)=>e,pd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lS}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<qy(r,i,s)?n:r,a=qy(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!k_(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cS(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new gd(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $a),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gd=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},md=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$a=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new md,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zy(){return new sh([new fd])}var sh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zy()),deps:[[e,new d_,new _t]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new b(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:zy});let t=e;return t})();function Ha(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Nt(s)),yt(s)&&dS(s,r);let o=n.type;if(o&8)Ha(t,e,n.child,r);else if(o&32){let a=Zd(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=R_(e,n);if(Array.isArray(a))r.push(...a);else{let c=Jd(e[Mt]);Ha(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dS(t,e){for(let n=tt;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Ha(r[z],r,i,e)}t[Gn]!==t[Zt]&&e.push(t[Gn])}var F_=[];function hS(t){return t[zn]??fS(t)}function fS(t){let e=F_.pop()??Object.create(gS);return e.lView=t,e}function pS(t){t.lView[zn]!==t&&(t.lView=null,F_.push(t))}var gS=ce(D({},zm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ec(t.lView)},consumerOnSignalRead(){this.lView[zn]=this}}),mS="ngOriginalError";function Hl(t){return t[mS]}var Yt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hl(e);for(;n&&Hl(n);)n=Hl(n);return n||null}};var L_=!1,yS=new L("",{providedIn:"root",factory:()=>L_});var _n={};function Ot(t){V_(Jt(),ae(),Zr()+t,!1)}function V_(t,e,n,r){if(!r)if((e[x]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Da(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ca(e,s,0,n)}Wn(n)}function Pe(t,e=U.Default){let n=ae();if(n===null)return F(t,e);let r=st();return o_(r,n,et(t),e)}function vS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wn(~i);else{let s=i,o=n[++r],a=n[++r];Lb(o,s);let c=e[s];a(2,c)}}}finally{Wn(-1)}}function uc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Zt]=i,d[x]=r|4|128|8,(u!==null||t&&t[x]&2048)&&(d[x]|=2048),kv(d),d[we]=d[Yr]=t,d[nt]=n,d[qr]=o||t&&t[qr],d[Ee]=a||t&&t[Ee],d[Hr]=c||t&&t[Hr]||null,d[vt]=s,d[Ja]=T0(),d[Ma]=l,d[bv]=u,d[Mt]=e.type==2?t[Mt]:d,d}function lc(t,e,n,r,i){let s=t.data[e];if(s===null)s=_S(t,e,n,r,i),Fb()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Mb();s.injectorIndex=o===null?-1:o.injectorIndex}return ls(s,!0),s}function _S(t,e,n,r,i){let s=Bv(),o=$v(),a=o?s:s&&s.parent,c=t.data[e]=DS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function U_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function j_(t,e,n,r,i){let s=Zr(),o=r&2;try{Wn(-1),o&&e.length>hn&&V_(t,e,hn,!1),At(o?2:0,i),n(r,i)}finally{Wn(s),At(o?3:1,i)}}function B_(t,e,n){if(Av(e)){let r=ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ze(r)}}}function $_(t,e,n){Vv()&&(MS(t,e,n,it(n,e)),(n.flags&64)===64&&W_(t,e,n))}function H_(t,e,n=it){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function q_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=oh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oh(t,e,n,r,i,s,o,a,c,u,l){let d=hn+r,h=d+i,f=wS(d,h),g=typeof u=="function"?u():u;return f[z]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function wS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_n);return n}function IS(t,e,n,r){let s=r.get(yS,L_)||n===xt.ShadowDom,o=t.selectRootElement(e,s);return ES(o),o}function ES(t){TS(t)}var TS=t=>null;function DS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ab()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gy(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?Wy(n,e,i,s):r.hasOwnProperty(i)&&Wy(n,e,r[i],s)}return n}function Wy(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function CS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=Gy(d.inputs,l,c,f),u=Gy(d.outputs,l,u,g);let y=c!==null&&o!==null&&!_v(e)?$S(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function bS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function SS(t,e,n,r,i,s,o,a){let c=it(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(ah(t,n,l,r,i),Xa(e)&&AS(n,e.index)):e.type&3?(r=bS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function AS(t,e){let n=yn(e,t);n[x]&16||(n[x]|=64)}function z_(t,e,n,r){if(Vv()){let i=r===null?null:{"":-1},s=PS(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&G_(t,e,n,o,i,a),i&&OS(n,r,i)}n.mergedAttrs=Nd(n.mergedAttrs,n.attrs)}function G_(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Jb(n_(n,e),t,r[u].type);FS(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=U_(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Nd(n.mergedAttrs,l.hostAttrs),LS(t,n,e,c,l),kS(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}CS(t,n,s)}function RS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;xS(o)!=a&&o.push(a),o.push(n,r,s)}}function xS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MS(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xa(n)&&VS(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||n_(n,e),Kn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ts(e,t,a,n);if(Kn(u,e),o!==null&&BS(e,a-i,u,c,n,o),cs(c)){let l=yn(n.index,e);l[nt]=ts(e,t,a,n)}}}function W_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Vb();try{Wn(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];td(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&NS(c,u)}}finally{Wn(-1),td(o)}}function NS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function PS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ab(e,o.selectors,!1))if(r||(r=[]),cs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;yd(t,e,c)}else r.unshift(o),yd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function yd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function kS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cs(e)&&(n[""]=t)}}function FS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LS(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Gr(i.type,!0)),o=new es(s,cs(i),Pe);t.blueprint[r]=o,n[r]=o,RS(t,e,r,U_(t,n,i.hostVars,_n),i)}function VS(t,e,n){let r=it(e,t),i=q_(n),s=t[qr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=dc(t,uc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function US(t,e,n,r,i,s){let o=it(t,e);jS(e[Ee],o,s,t.value,n,r,i)}function jS(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ka(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function BS(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];K_(r,n,c,u,l)}}function K_(t,e,n,r,i){let s=ze(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{ze(s)}}function $S(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function Q_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Y_(t,e){let n=t.contentQueries;if(n!==null){let r=ze(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Hv(s),a.contentQueries(2,e[o],o)}}}finally{ze(r)}}}function dc(t,e){return t[Ji]?t[Py][mt]=e:t[Ji]=e,t[Py]=e,e}function vd(t,e,n){Hv(0);let r=ze(null);try{e(t,n)}finally{ze(r)}}function HS(t){return t[Zi]||(t[Zi]=[])}function qS(t){return t.cleanup||(t.cleanup=[])}function Z_(t,e){let n=t[Hr],r=n?n.get(Yt,null):null;r&&r.handleError(e)}function ah(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];K_(u,c,r,a,i)}}function zS(t,e,n){let r=Pv(e,t);A0(t[Ee],r,n)}var GS=100;function WS(t,e=!0){let n=t[qr],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[z],a=t[nt];J_(o,t,o.template,a),KS(t)}catch(o){throw e&&Z_(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function KS(t){let e=0;for(;Fv(t);){if(e===GS)throw new b(103,!1);e++,tw(t,1)}}function J_(t,e,n,r){let i=e[x];if((i&256)===256)return;let s=!1;!s&&e[qr].inlineEffectRunner?.flush(),Fd(e);let o=null,a=null;!s&&QS(t)&&(a=hS(e),o=Gm(a));try{kv(e),Ob(t.bindingStartIndex),n!==null&&j_(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Da(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ca(e,d,0,null),Ll(e,0)}if(YS(e),X_(e,0),t.contentQueries!==null&&Y_(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Da(e,d)}else{let d=t.contentHooks;d!==null&&Ca(e,d,1),Ll(e,1)}vS(t,e);let u=t.components;u!==null&&nw(e,u,0);let l=t.viewQuery;if(l!==null&&vd(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Da(e,d)}else{let d=t.viewHooks;d!==null&&Ca(e,d,2),Ll(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Fl]){for(let d of e[Fl])d();e[Fl]=null}s||(e[x]&=-73)}catch(c){throw ec(e),c}finally{a!==null&&(Wm(a,o),pS(a)),Ld()}}function QS(t){return t.type!==2}function X_(t,e){for(let n=E_(t);n!==null;n=T_(n)){n[x]&=~zr.HasChildViewsToRefresh;for(let r=tt;r<n.length;r++){let i=n[r];ew(i,e)}}}function YS(t){for(let e=E_(t);e!==null;e=T_(e)){if(!(e[x]&zr.HasTransplantedViews))continue;let n=e[Pa];for(let r=0;r<n.length;r++){let i=n[r],s=i[we];Eb(i)}}}function ZS(t,e,n){let r=yn(e,t);ew(r,n)}function ew(t,e){Od(t)&&tw(t,e)}function tw(t,e){let r=t[z],i=t[x],s=t[zn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&pl(s)),s&&(s.dirty=!1),t[x]&=-9217,o)J_(r,t,r.template,t[nt]);else if(i&8192){X_(t,1);let a=r.components;a!==null&&nw(t,a,1)}}function nw(t,e,n){for(let r=0;r<e.length;r++)ZS(t,e[r],n)}function ch(t){for(;t;){t[x]|=64;let e=Jd(t);if(mb(t)&&!e)return t;t=e}return null}var Qn=class{get rootNodes(){let e=this._lView,n=e[z];return Ha(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return(this._lView[x]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[we];if(yt(e)){let n=e[Na],r=n?n.indexOf(this):-1;r>-1&&(ud(e,r),La(n,r))}this._attachedToViewContainer=!1}S_(this._lView[z],this._lView)}onDestroy(e){Db(this._lView,e)}markForCheck(){ch(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){Lv(this._lView),this._lView[x]|=128}detectChanges(){WS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,M0(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}},hc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JS;let t=e;return t})();function JS(t){return XS(st(),ae(),(t&16)===16)}function XS(t,e,n){if(Xa(t)&&!n){let r=yn(t.index,e);return new Qn(r,r)}else if(t.type&47){let r=e[Mt];return new Qn(r,e)}return null}var Ky=new Set;function rw(t){Ky.has(t)||(Ky.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var _d=class extends Ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=ql(s),i&&(i=ql(i)),o&&(o=ql(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof fe&&e.add(a),a}};function ql(t){return e=>{setTimeout(t,void 0,e)}}var gt=_d;function Qy(...t){}function eA(){let t=typeof $n.requestAnimationFrame=="function",e=$n[t?"requestAnimationFrame":"setTimeout"],n=$n[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eA().nativeRequestAnimationFrame,rA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,tA,Qy,Qy);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tA={};function uh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wd(t),t.isCheckStableRunning=!0,uh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wd(t))}function rA(t){let e=()=>{nA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(iA(a))return n.invokeTask(i,s,o,a);try{return Yy(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Zy(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Yy(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zy(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,wd(t),uh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function wd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Yy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zy(t){t._nesting--,uh(t)}var iw=new L("",{providedIn:"root",factory:sw});function sw(){let t=E(ie),e=!0,n=new B(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new B(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Ml(n,r.pipe(_a()))}function iA(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var sA=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function oA(t,e){let n=yn(e,t),r=n[z];aA(r,n);let i=n[Zt];i!==null&&n[Ma]===null&&(n[Ma]=rh(i,n[Hr])),lh(r,n,n[nt])}function aA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lh(t,e,n){Fd(e);try{let r=t.viewQuery;r!==null&&vd(1,r,n);let i=t.template;i!==null&&j_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Y_(t,e),t.staticViewQueries&&vd(2,t.viewQuery,n);let s=t.components;s!==null&&cA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,Ld()}}function cA(t,e){for(let n=0;n<e.length;n++)oA(t,e[n])}function Id(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ql(i,a);else if(s==2){let c=a,u=e[++o];r=Ql(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var qa=class extends oc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qn(e);return new is(n,this.ngModule)}};function Jy(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function uA(t){let e=t.toLowerCase();return e==="svg"?Nv:e==="math"?wb:null}var Ed=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ya(r);let i=this.injector.get(e,$l,r);return i!==$l||n===$l?i:this.parentInjector.get(e,n,r)}},is=class extends Ba{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Jy(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Jy(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=db(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Ed(e,s):e,a=o.get(rs,null);if(a===null)throw new b(407,!1);let c=o.get(aS,null),u=o.get(sA,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?IS(d,r,this.componentDef.encapsulation,o):C_(d,h,uA(h)),g=4608,y=this.componentDef.onPush?576:528,w=this.componentDef.signals?g:y,T=null;f!==null&&(T=rh(f,o,!0));let W=oh(0,null,null,1,0,null,null,null,null,null,null),Q=uc(null,W,null,w,null,null,l,d,o,null,T);Fd(Q);let re,Se;try{let Z=this.componentDef,Me,Ct=null;Z.findHostDirectiveDefs?(Me=[],Ct=new Map,Z.findHostDirectiveDefs(Z,Me,Ct),Me.push(Z)):Me=[Z];let Ln=lA(Q,f),Cr=dA(Ln,f,Z,Me,Q,l,d);Se=Ov(W,hn),f&&pA(d,Z,f,r),n!==void 0&&gA(Se,this.ngContentSelectors,n),re=fA(Cr,Z,Me,Ct,Q,[mA]),lh(W,Q,null)}finally{Ld()}return new Td(this.componentType,re,ac(Se,Q),Q,Se)}},Td=class extends dd{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ah(s[z],s,i,e,n),this.previousInputValues.set(e,n);let o=yn(this._tNode.index,s);ch(o)}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lA(t,e){let n=t[z],r=hn;return t[r]=e,lc(n,r,2,"#host",null)}function dA(t,e,n,r,i,s,o){let a=i[z];hA(r,t,e,o);let c=null;e!==null&&(c=rh(e,i[Hr]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=uc(i,q_(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&yd(a,t,r.length-1),dc(i,d),i[t.index]=d}function hA(t,e,n,r){for(let i of t)e.mergedAttrs=Nd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Id(e,e.mergedAttrs,!0),n!==null&&M_(r,n,e))}function fA(t,e,n,r,i,s){let o=st(),a=i[z],c=it(o,i);G_(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ts(i,a,d,o);Kn(h,i)}W_(a,i,o),c&&Kn(c,i);let u=ts(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=u,s!==null)for(let l of s)l(u,e);return B_(a,o,t),u}function pA(t,e,n,r){if(r)Xl(t,n,["ng-version",ih.full]);else{let{attrs:i,classes:s}=hb(e.selectors[0]);i&&Xl(t,n,i),s&&s.length>0&&x_(t,n,s.join(" "))}}function gA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function mA(){let t=st();jd(ae()[z],t)}function dh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function yA(t,e,n){return t[e]=n}function ms(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hh(t,e,n,r){let i=ae(),s=kd();if(ms(i,s,e)){let o=Jt(),a=Qv();US(a,i,t,e,n,r)}return hh}function ow(t,e,n,r){return ms(t,kd(),n)?e+Ka(n)+r:_n}function Ta(t,e){return t<<17|e<<2}function Yn(t){return t>>17&32767}function vA(t){return(t&2)==2}function _A(t,e){return t&131071|e<<17}function Dd(t){return t|2}function Wr(t){return(t&131068)>>2}function zl(t,e){return t&-131069|e<<2}function wA(t){return(t&1)===1}function Cd(t){return t|1}function IA(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yn(o),c=Wr(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ds(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Yn(t[a+1]);t[r+1]=Ta(h,a),h!==0&&(t[h+1]=zl(t[h+1],r)),t[a+1]=_A(t[a+1],r)}else t[r+1]=Ta(a,0),a!==0&&(t[a+1]=zl(t[a+1],r)),a=r;else t[r+1]=Ta(c,0),a===0?a=r:t[c+1]=zl(t[c+1],r),c=r;u&&(t[r+1]=Dd(t[r+1])),Xy(t,l,r,!0,s),Xy(t,l,r,!1,s),EA(e,l,t,r,s),o=Ta(a,c),s?e.classBindings=o:e.styleBindings=o}function EA(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ds(s,e)>=0&&(n[r+1]=Cd(n[r+1]))}function Xy(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Yn(s):Wr(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];TA(u,e)&&(c=!0,t[a+1]=r?Cd(l):Dd(l)),a=r?Yn(l):Wr(l)}c&&(t[n+1]=r?Dd(s):Cd(s))}function TA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ds(t,e)>=0:!1}var pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DA(t){return t.substring(pt.key,pt.keyEnd)}function CA(t){return bA(t),aw(t,cw(t,0,pt.textEnd))}function aw(t,e){let n=pt.textEnd;return n===e?-1:(e=pt.keyEnd=SA(t,pt.key=e,n),cw(t,e,n))}function bA(t){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=t.length}function cw(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function SA(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function wt(t,e,n){let r=ae(),i=kd();if(ms(r,i,e)){let s=Jt(),o=Qv();SS(s,o,r,t,e,r[Ee],n,!1)}return wt}function bd(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ah(t,n,s[o],o,r)}function AA(t,e){for(let n=CA(e);n>=0;n=aw(e,n))zd(t,DA(e),!0)}function RA(t,e,n,r){let i=Jt(),s=kb(2);i.firstUpdatePass&&xA(i,null,s,r);let o=ae();if(n!==_n&&ms(o,s,n)){let a=i.data[Zr()];if(lw(a,r)&&!uw(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ql(c,n||"")),bd(i,a,o,n,r)}else FA(i,a,o,o[Ee],o[s+1],o[s+1]=kA(t,e,n),r,s)}}function uw(t,e){return e>=t.expandoStartIndex}function xA(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Zr()],o=uw(t,n);lw(s,r)&&e===null&&!o&&(e=!1),e=MA(i,s,e,r),IA(i,s,e,n,o,r)}}function MA(t,e,n,r){let i=Ub(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gl(null,t,e,n,r),n=ss(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Gl(i,t,e,n,r),s===null){let c=NA(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Gl(null,t,e,c[1],r),c=ss(c,e.attrs,r),PA(t,e,r,c))}else s=OA(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function NA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Wr(r)!==0)return t[Yn(r)]}function PA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yn(i)]=r}function OA(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ss(r,o,n)}return ss(r,e.attrs,n)}function Gl(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ss(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zd(t,o,n?!0:e[++s]))}return t===void 0?null:t}function kA(t,e,n){if(n==null||n==="")return We;let r=[],i=ps(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function FA(t,e,n,r,i,s,o,a){i===_n&&(i=We);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,y;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),g!==null&&LA(t,e,n,r,g,y,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function LA(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=wA(u)?ev(c,e,n,i,Wr(u),o):void 0;if(!za(l)){za(s)||vA(u)&&(s=ev(c,null,n,i,a,o));let d=Pv(Zr(),n);W0(r,o,d,i,s)}}function ev(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===_n&&(h=d?We:void 0);let f=d?Ul(h,r):l===r?h:void 0;if(u&&!za(f)&&(f=Ul(c,r)),za(f)&&(a=f,o))return a;let g=t[i+1];i=o?Yn(g):Wr(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ul(c,r))}return a}function za(t){return t!==void 0}function lw(t,e){return(t.flags&(e?8:16))!==0}function dw(t,e,n){let r=ae(),i=ow(r,t,e,n);RA(zd,AA,i,!0)}var r$=new RegExp(`^(\\d+)*(${tS}|${eS})*(.*)`);var VA=(t,e)=>null;function tv(t,e){return VA(t,e)}function UA(t,e,n,r){let i=e.tView,o=t[x]&4096?4096:16,a=uc(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Za]=c;let u=t[Xi];return u!==null&&(a[Xi]=u.createEmbeddedView(i)),lh(i,a,n),a}function nv(t,e){return!e||e.firstChild===null||w_(t)}function jA(t,e,n,r=!0){let i=e[z];if(P0(i,e,t,n),r){let o=ld(n,t),a=e[Ee],c=Xd(a,t[Gn]);c!==null&&x0(i,t[vt],a,e,c,o)}let s=e[Ma];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BA;let t=e;return t})();function BA(){let t=st();return HA(t,ae())}var $A=Jr,hw=class extends $A{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bd(this._hostTNode,this._hostLView);if(Xv(e)){let n=Fa(e,this._hostLView),r=ka(e),i=n[z].data[r+8];return new Hn(i,n)}else return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=tv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,nv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!o0(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new is(qn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(rt,null);y&&(s=y)}let l=qn(c.componentType??{}),d=tv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,nv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ib(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[we],u=new hw(c,c[vt],c[we]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return jA(o,i,s,r),e.attachToViewContainerRef(),l_(Wl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ud(this._lContainer,n);r&&(La(Wl(this._lContainer),n),S_(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=ud(this._lContainer,n);return r&&La(Wl(this._lContainer),n)!=null?new Qn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rv(t){return t[Na]}function Wl(t){return t[Na]||(t[Na]=[])}function HA(t,e){let n,r=e[t.index];return yt(r)?n=r:(n=Q_(r,e,null,t),e[t.index]=n,dc(e,n)),zA(n,e,t,r),new hw(n,t,e)}function qA(t,e){let n=t[Ee],r=n.createComment(""),i=it(e,t),s=Xd(n,i);return Ua(n,s,r,j0(n,i),!1),r}var zA=KA,GA=(t,e,n)=>!1;function WA(t,e,n){return GA(t,e,n)}function KA(t,e,n,r){if(t[Gn])return;let i;n.type&8?i=Nt(r):i=qA(e,n),t[Gn]=i}function QA(t,e,n,r,i,s,o,a,c){let u=e.consts,l=lc(e,t,4,o||null,Oa(u,a));z_(e,n,l,Oa(u,c)),jd(e,l);let d=l.tView=oh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ys(t,e,n,r,i,s,o,a){let c=ae(),u=Jt(),l=t+hn,d=u.firstCreatePass?QA(l,u,c,e,n,r,i,s,o):u.data[l];ls(d,!1);let h=YA(u,c,d,t);Vd()&&eh(u,c,h,d),Kn(h,c);let f=Q_(h,c,h,d);return c[l]=f,dc(c,f),WA(f,d,c),Pd(d)&&$_(u,c,d),o!=null&&H_(c,d,a),ys}var YA=ZA;function ZA(t,e,n,r){return Ud(!0),e[Ee].createComment("")}function JA(t,e,n,r,i,s){let o=e.consts,a=Oa(o,i),c=lc(e,t,2,r,a);return z_(e,n,c,Oa(o,s)),c.attrs!==null&&Id(c,c.attrs,!1),c.mergedAttrs!==null&&Id(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function qe(t,e,n,r){let i=ae(),s=Jt(),o=hn+t,a=i[Ee],c=s.firstCreatePass?JA(o,s,i,e,n,r):s.data[o],u=XA(s,i,c,a,e,t);i[o]=u;let l=Pd(c);return ls(c,!0),M_(a,u,c),(c.flags&32)!==32&&Vd()&&eh(s,i,u,c),Cb()===0&&Kn(u,i),bb(),l&&($_(s,i,c),B_(s,c,i)),r!==null&&H_(i,c),qe}function Ke(){let t=st();$v()?Nb():(t=t.parent,ls(t,!1));let e=t;Rb(e)&&xb(),Sb();let n=Jt();return n.firstCreatePass&&(jd(n,t),Av(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Gb(e)&&bd(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Wb(e)&&bd(n,e,ae(),e.stylesWithoutHost,!1),Ke}function Jn(t,e,n,r){return qe(t,e,n,r),Ke(),Jn}var XA=(t,e,n,r,i,s)=>(Ud(!0),C_(r,i,$b()));function fw(){return ae()}var Ga="en-US";var eR=Ga;function tR(t){HC(t,"Expected localeId to be defined"),typeof t=="string"&&(eR=t.toLowerCase().replace(/_/g,"-"))}function vs(t){return!!t&&typeof t.then=="function"}function pw(t){return!!t&&typeof t.subscribe=="function"}function _s(t,e,n,r){let i=ae(),s=Jt(),o=st();return rR(s,i,i[Ee],o,t,e,r),_s}function nR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Zi],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function rR(t,e,n,r,i,s,o){let a=Pd(r),u=t.firstCreatePass&&qS(t),l=e[nt],d=HS(e),h=!0;if(r.type&3||o){let y=it(r,e),w=o?o(y):y,T=d.length,W=o?re=>o(Nt(re[r.index])):r.index,Q=null;if(!o&&a&&(Q=nR(t,e,i,r.index)),Q!==null){let re=Q.__ngLastListenerFn__||Q;re.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,h=!1}else{s=sv(r,e,l,s,!1);let re=n.listen(w,i,s);d.push(s,re),u&&u.push(i,W,T,T+1)}}else s=sv(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let w=0;w<y;w+=2){let T=g[w],W=g[w+1],Se=e[T][W].subscribe(s),Z=d.length;d.push(s,Se),u&&u.push(i,r.index,Z,-(Z+1))}}}function iv(t,e,n,r){try{return At(6,e,n),n(r)!==!1}catch(i){return Z_(t,i),!1}finally{At(7,e,n)}}function sv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?yn(t.index,e):e;ch(a);let c=iv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=iv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function ws(t=1){return Bb(t)}function Xn(t,e=""){let n=ae(),r=Jt(),i=t+hn,s=r.firstCreatePass?lc(r,i,1,e,null):r.data[i],o=iR(r,n,s,e,t);n[i]=o,Vd()&&eh(r,n,o,s),ls(s,!1)}var iR=(t,e,n,r,i)=>(Ud(!0),S0(e[Ee],r));function fc(t){return pc("",t,""),fc}function pc(t,e,n){let r=ae(),i=ow(r,t,e,n);return i!==_n&&zS(r,Zr(),i),pc}var pn=class{},os=class{};var Sd=class extends pn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qa(this);let i=Tv(e);this._bootstrapComponents=__(i.bootstrap),this._r3Injector=y_(e,n,[{provide:pn,useValue:this},{provide:oc,useValue:this.componentFactoryResolver},...r],Ue(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ad=class extends os{constructor(e){super(),this.moduleType=e}create(e){return new Sd(this.moduleType,e,[])}};var Wa=class extends pn{constructor(e){super(),this.componentFactoryResolver=new qa(this),this.instance=null;let n=new ns([...e.providers,{provide:pn,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],e.parent||Wd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fh(t,e,n=null){return new Wa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var sR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=p_(!1,r.type),s=i.length>0?fh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(F(rt))});let t=e;return t})();function Xr(t){rw("NgStandalone"),t.getStandaloneInjector=e=>e.get(sR).getOrCreateStandaloneInjector(t)}function gw(t,e,n,r){return aR(ae(),Pb(),t,e,n,r)}function oR(t,e){let n=t[e];return n===_n?void 0:n}function aR(t,e,n,r,i,s){let o=e+n;return ms(t,o,i)?yA(t,o+1,s?r.call(s,i):r(i)):oR(t,o+1)}var gc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lR;let t=e;return t})(),cR=gc,uR=class extends cR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=UA(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Qn(i)}};function lR(){return dR(st(),ae())}function dR(t,e){return t.type&4?new uR(e,t,ac(t,e)):null}var mw=new L("Application Initializer"),yw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(mw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(vs(o))r.push(o);else if(pw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function hR(){return typeof $localize<"u"&&$localize.locale||Ga}var ph=new L("LocaleId",{providedIn:"root",factory:()=>E(ph,U.Optional|U.SkipSelf)||hR()});var gh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mh=(()=>{let e=class e{compileModuleSync(r){return new Ad(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Tv(r),o=__(s.declarations).reduce((a,c)=>{let u=qn(c);return u&&a.push(new is(u)),a},[]);return new Rd(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vw=new L("");var Aa=null;var _w=new L("PlatformDestroyListeners"),yh=new L("appBootstrapListener");function fR(){Qm(()=>{throw new b(600,!1)})}function pR(t){return t.isBoundToModule}function gR(t=[]){if(Aa)return Aa;let e=yR(t);return Aa=e,fR(),mR(e),e}function mR(t){t.get(Qd,null)?.forEach(n=>n())}function ww(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=gR(r),s=[TR(),...n||[]],a=new Wa({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ie);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Yt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(_w);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),_R(u,c,()=>{let f=a.get(yw);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(ph,Ga);tR(g||Ga);let y=a.get(Is);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function yR(t=[],e){return Pt.create({name:e,providers:[{provide:rc,useValue:"platform"},{provide:_w,useValue:new Set([()=>Aa=null])},...t]})}function vR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function _R(t,e,n){try{let r=n();return vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Is=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Iw),this.zoneIsStable=E(iw),this.componentTypes=[],this.components=[],this.isStable=E(gh).hasPendingTasks.pipe(Ge(r=>r?R(!1):this.zoneIsStable),ma(),_a()),this._injector=E(rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ba;if(!this._injector.get(yw).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&Ev(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new b(405,!1)}let a;s?a=r:a=this._injector.get(oc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=pR(a)?void 0:this._injector.get(pn),u=i||a.selector,l=a.create(Pt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(vw,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Kl(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Kl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(yh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Kl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Iw=new L("",{providedIn:"root",factory:()=>E(Yt).handleError.bind(void 0)});function wR(){let t=E(ie),e=E(Yt);return n=>t.runOutsideAngular(()=>e.handleError(n))}var IR=(()=>{let e=class e{constructor(){this.zone=E(ie),this.applicationRef=E(Is)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ER(t){return[{provide:ie,useFactory:t},{provide:hs,multi:!0,useFactory:()=>{let e=E(IR,{optional:!0});return()=>e.initialize()}},{provide:Iw,useFactory:wR},{provide:iw,useFactory:sw}]}function TR(t){let e=ER(()=>new ie(vR(t)));return tc([[],e])}function Es(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var vh=null;function ei(){return vh}function bw(t){vh||(vh=t)}var yc=class{},Qe=new L("DocumentToken"),Sw=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(DR))(),providedIn:"platform"});let t=e;return t})();var DR=(()=>{let e=class e extends Sw{constructor(){super(),this._doc=E(Qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(r){let i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Aw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ew(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function er(t){return t&&t[0]!=="?"?"?"+t:t}var ti=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(Rw))(),providedIn:"root"});let t=e;return t})(),CR=new L("appBaseHref"),Rw=(()=>{let e=class e extends ti{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Aw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+er(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(Sw),F(CR,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ts=(()=>{let e=class e{constructor(r){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=AR(Ew(Tw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+er(i))}normalize(r){return e.stripTrailingSlash(SR(this._basePath,Tw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+er(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+er(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=er,e.joinWithSlash=Aw,e.stripTrailingSlash=Ew,e.\u0275fac=function(i){return new(i||e)(F(ti))},e.\u0275prov=N({token:e,factory:()=>bR(),providedIn:"root"});let t=e;return t})();function bR(){return new Ts(F(ti))}function SR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Tw(t){return t.replace(/\/index.html$/,"")}function AR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function xw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var _h=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mw=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new _h(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),Dw(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Dw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Pe(Jr),Pe(gc),Pe(sh))},e.\u0275dir=Qr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Dw(t,e){t.context.$implicit=e.item}var Nw=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new wh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Cw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Cw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Pe(Jr),Pe(gc))},e.\u0275dir=Qr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),wh=class{constructor(){this.$implicit=null,this.ngIf=null}};function Cw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ue(e)}'.`)}var Ds=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mn({type:e}),e.\u0275inj=gn({});let t=e;return t})(),Pw="browser",RR="server";function Ih(t){return t===RR}var vc=class{};var Dh=class extends yc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ch=class t extends Dh{static makeCurrent(){bw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xR();return n==null?null:MR(n)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xw(document.cookie,e)}},Cs=null;function xR(){return Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null}function MR(t){return new URL(t,"http://a").pathname}var NR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),bh=new L("EventManagerPlugins"),Vw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(bh),F(ie))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),_c=class{constructor(e){this._doc=e}},Eh="ng-app-id",Uw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ih(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Eh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Eh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Eh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(Qe),F(Kd),F(Yd,8),F(vn))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ah=/%COMP%/g,jw="%COMP%",PR=`_nghost-${jw}`,OR=`_ngcontent-${jw}`,kR=!0,FR=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>kR});function LR(t){return OR.replace(Ah,t)}function VR(t){return PR.replace(Ah,t)}function Bw(t,e){return e.map(n=>n.replace(Ah,t))}var kw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ih(c),this.defaultRenderer=new bs(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xt.ShadowDom&&(i=ce(D({},i),{encapsulation:xt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof wc?s.applyToHost(r):s instanceof Ss&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case xt.Emulated:o=new wc(u,l,i,this.appId,d,a,c,h);break;case xt.ShadowDom:return new Sh(u,l,r,i,a,c,this.nonce,h);default:o=new Ss(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(Vw),F(Uw),F(Kd),F(FR),F(Qe),F(vn),F(ie),F(Yd))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),bs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Th[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Fw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Fw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Th[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Th[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qt.DashCase|Qt.Important)?e.style.setProperty(n,r,i&Qt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ei().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Fw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sh=class extends bs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Bw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ss=class extends bs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Bw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wc=class extends Ss{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=LR(u),this.hostAttr=VR(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},UR=(()=>{let e=class e extends _c{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(F(Qe))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Lw=["alt","control","meta","shift"],jR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$R=(()=>{let e=class e extends _c{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Lw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=jR[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Lw.forEach(a=>{if(a!==s){let c=BR[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(Qe))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function $w(t,e){return ww(D({rootComponent:t},HR(e)))}function HR(t){return{appProviders:[...KR,...t?.providers??[]],platformProviders:WR}}function qR(){Ch.makeCurrent()}function zR(){return new Yt}function GR(){return v_(document),document}var WR=[{provide:vn,useValue:Pw},{provide:Qd,useValue:qR,multi:!0},{provide:Qe,useFactory:GR,deps:[]}];var KR=[{provide:rc,useValue:"root"},{provide:Yt,useFactory:zR,deps:[]},{provide:bh,useClass:UR,multi:!0,deps:[Qe,ie,vn]},{provide:bh,useClass:$R,multi:!0,deps:[Qe]},kw,Uw,Vw,{provide:rs,useExisting:kw},{provide:vc,useClass:NR,deps:[]},[]];function QR(){return new Rh(F(Qe))}var Rh=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(Qe))},e.\u0275prov=N({token:e,factory:function(i){let s=null;return i?s=new i:s=QR(),s},providedIn:"root"});let t=e;return t})();var O="primary",$s=Symbol("RouteTitle"),Oh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function oi(t){return new Oh(t)}function ZR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function JR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kt(t[n],e[n]))return!1;return!0}function kt(t,e){let n=t?kh(t):void 0,r=e?kh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Kw(t[i],e[i]))return!1;return!0}function kh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Qw(t){return t.length>0?t[t.length-1]:null}function Dn(t){return xl(t)?t:vs(t)?ue(Promise.resolve(t)):R(t)}var XR={exact:Zw,subset:Jw},Yw={exact:ex,subset:tx,ignored:()=>!0};function Hw(t,e,n){return XR[n.paths](t.root,e.root,n.matrixParams)&&Yw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ex(t,e){return kt(t,e)}function Zw(t,e,n){if(!nr(t.segments,e.segments)||!Tc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Zw(t.children[r],e.children[r],n))return!1;return!0}function tx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kw(t[n],e[n]))}function Jw(t,e,n){return Xw(t,e,e.segments,n)}function Xw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!nr(i,n)||e.hasChildren()||!Tc(i,n,r))}else if(t.segments.length===n.length){if(!nr(t.segments,n)||!Tc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Jw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!nr(t.segments,i)||!Tc(t.segments,i,r)||!t.children[O]?!1:Xw(t.children[O],e,s,r)}}function Tc(t,e,n){return e.every((r,i)=>Yw[n](t[i].parameters,r.parameters))}var In=class{constructor(e=new J([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oi(this.queryParams)),this._queryParamMap}toString(){return ix.serialize(this)}},J=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dc(this)}},tr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=oi(this.parameters)),this._parameterMap}toString(){return tI(this)}};function nx(t,e){return nr(t,e)&&t.every((n,r)=>kt(n.parameters,e[r].parameters))}function nr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===O&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==O&&(n=n.concat(e(i,r)))}),n}var af=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new bc)(),providedIn:"root"});let t=e;return t})(),bc=class{parse(e){let n=new Lh(e);return new In(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${As(e.root,!0)}`,r=ax(e.queryParams),i=typeof e.fragment=="string"?`#${sx(e.fragment)}`:"";return`${n}${r}${i}`}},ix=new bc;function Dc(t){return t.segments.map(e=>tI(e)).join("/")}function As(t,e){if(!t.hasChildren())return Dc(t);if(e){let n=t.children[O]?As(t.children[O],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==O&&r.push(`${i}:${As(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rx(t,(r,i)=>i===O?[As(t.children[O],!1)]:[`${i}:${As(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${Dc(t)}/${n[0]}`:`${Dc(t)}/(${n.join("//")})`}}function eI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(t){return eI(t).replace(/%3B/gi,";")}function sx(t){return encodeURI(t)}function Fh(t){return eI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cc(t){return decodeURIComponent(t)}function qw(t){return Cc(t.replace(/\+/g,"%20"))}function tI(t){return`${Fh(t.path)}${ox(t.parameters)}`}function ox(t){return Object.keys(t).map(e=>`;${Fh(e)}=${Fh(t[e])}`).join("")}function ax(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Ic(n)}=${Ic(i)}`).join("&"):`${Ic(n)}=${Ic(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var cx=/^[^\/()?;#]+/;function xh(t){let e=t.match(cx);return e?e[0]:""}var ux=/^[^\/()?;=#]+/;function lx(t){let e=t.match(ux);return e?e[0]:""}var dx=/^[^=?&#]+/;function hx(t){let e=t.match(dx);return e?e[0]:""}var fx=/^[^&#]+/;function px(t){let e=t.match(fx);return e?e[0]:""}var Lh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[O]=new J(e,n)),r}parseSegment(){let e=xh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new tr(Cc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xh(this.remaining);i&&(r=i,this.capture(r))}e[Cc(n)]=Cc(r)}parseQueryParam(e){let n=hx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=px(this.remaining);o&&(r=o,this.capture(r))}let i=qw(n),s=qw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=O);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[O]:new J([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function nI(t){return t.segments.length>0?new J([],{[O]:t}):t}function rI(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=rI(i);if(r===O&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new J(t.segments,e);return gx(n)}function gx(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new J(t.segments.concat(e.segments),e.children)}return t}function ai(t){return t instanceof In}function mx(t,e,n=null,r=null){let i=iI(t);return sI(i,e,n,r)}function iI(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new J(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=nI(r);return e??i}function sI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Mh(i,i,i,n,r);let s=yx(e);if(s.toRoot())return Mh(i,i,new J([],{}),n,r);let o=vx(s,i,t),a=o.processChildren?Ms(o.segmentGroup,o.index,s.commands):aI(o.segmentGroup,o.index,s.commands);return Mh(i,o.segmentGroup,a,n,r)}function Sc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Os(t){return typeof t=="object"&&t!=null&&t.outlets}function Mh(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=oI(t,e,n);let a=nI(rI(o));return new In(a,s,i)}function oI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=oI(s,e,n)}),new J(t.segments,r)}var Ac=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Sc(r[0]))throw new b(4003,!1);let i=r.find(Os);if(i&&i!==Qw(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ac(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ac(n,e,r)}var ii=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vx(t,e,n){if(t.isAbsolute)return new ii(e,!0,0);if(!n)return new ii(e,!1,NaN);if(n.parent===null)return new ii(n,!0,0);let r=Sc(t.commands[0])?0:1,i=n.segments.length-1+r;return _x(n,i,t.numberOfDoubleDots)}function _x(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ii(r,!1,i-s)}function wx(t){return Os(t[0])?t[0].outlets:{[O]:t}}function aI(t,e,n){if(t||(t=new J([],{})),t.segments.length===0&&t.hasChildren())return Ms(t,e,n);let r=Ix(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new J(t.segments.slice(0,r.pathIndex),{});return s.children[O]=new J(t.segments.slice(r.pathIndex),t.children),Ms(s,0,i)}else return r.match&&i.length===0?new J(t.segments,{}):r.match&&!t.hasChildren()?Vh(t,e,n):r.match?Ms(t,0,i):Vh(t,e,n)}function Ms(t,e,n){if(n.length===0)return new J(t.segments,{});{let r=wx(n),i={};if(Object.keys(r).some(s=>s!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let s=Ms(t.children[O],e,n);return new J(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new J(t.segments,i)}}function Ix(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Os(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Gw(c,u,o))return s;r+=2}else{if(!Gw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Os(s)){let c=Ex(s.outlets);return new J(r,c)}if(i===0&&Sc(n[0])){let c=t.segments[e];r.push(new tr(c.path,zw(n[0]))),i++;continue}let o=Os(s)?s.outlets[O]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Sc(a)?(r.push(new tr(o,zw(a))),i+=2):(r.push(new tr(o,{})),i++)}return new J(r,{})}function Ex(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vh(new J([],{}),0,r))}),e}function zw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Gw(t,e,n){return t==n.path&&kt(e,n.parameters)}var Ns="imperative",ot=class{constructor(e,n){this.id=e,this.url=n}},ks=class extends ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=class extends ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Fs=class extends ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rc=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uh=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends ot{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bh=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qh=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zh=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gh=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wh=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kh=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ls=class{},Vs=class{constructor(e){this.url=e}};var Qh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kc,this.attachRef=null}},kc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Qh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Yh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Yh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zh(e,this._root).map(n=>n.value)}};function Yh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Yh(t,n);if(r)return r}return null}function Zh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zh(t,n);if(r.length)return r.unshift(e),r}return[]}var Ye=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ri(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mc=class extends xc{constructor(e,n){super(e),this.snapshot=n,uf(this,e)}toString(){return this.snapshot.toString()}};function cI(t,e){let n=Tx(t,e),r=new Ae([new tr("",{})]),i=new Ae({}),s=new Ae({}),o=new Ae({}),a=new Ae(""),c=new Xt(r,i,o,a,s,O,e,n.root);return c.snapshot=n.root,new Mc(new Ye(c,[]),n)}function Tx(t,e){let n={},r={},i={},s="",o=new Us([],n,i,s,r,O,e,null,{});return new Nc("",new Ye(o,[]))}var Xt=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(q(u=>u[$s]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(e=>oi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(e=>oi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:D(D({},t.data),t._resolvedData??{})},i&&lI(i)&&(r.resolve[$s]=i.title),r}var Us=class{get title(){return this.data?.[$s]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nc=class extends xc{constructor(e,n){super(n),this.url=e,uf(this,n)}toString(){return uI(this._root)}};function uf(t,e){e.value._routerState=t,e.children.forEach(n=>uf(t,n))}function uI(t){let e=t.children.length>0?` { ${t.children.map(uI).join(", ")} } `:"";return`${t.value}${e}`}function Nh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kt(e.params,n.params)||t.paramsSubject.next(n.params),JR(e.url,n.url)||t.urlSubject.next(n.url),kt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jh(t,e){let n=kt(t.params,e.params)&&nx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jh(t.parent,e.parent))}function lI(t){return typeof t.title=="string"||t.title===null}var lf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=O,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=E(kc),this.location=E(Jr),this.changeDetector=E(hc),this.environmentInjector=E(rt),this.inputBinder=E(df,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Xh(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[us]});let t=e;return t})(),Xh=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xt?this.route:e===kc?this.childContexts:this.parent.get(e,n)}},df=new L("");function Dx(t,e,n){let r=js(t,e._root,n?n._root:void 0);return new Mc(r,e)}function js(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Cx(t,e,n);return new Ye(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>js(t,a)),o}}let r=bx(e.value),i=e.children.map(s=>js(t,s));return new Ye(r,i)}}function Cx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return js(t,r,i);return js(t,r)})}function bx(t){return new Xt(new Ae(t.url),new Ae(t.params),new Ae(t.queryParams),new Ae(t.fragment),new Ae(t.data),t.outlet,t.component,t)}var dI="ngNavigationCancelingError";function hI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fI(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function fI(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[dI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Sx(t){return pI(t)&&ai(t.url)}function pI(t){return t&&t[dI]}var Ax=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Kr({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xr],decls:1,vars:0,template:function(i,s){i&1&&Jn(0,"router-outlet")},dependencies:[lf],encapsulation:2});let t=e;return t})();function Rx(t,e){return t.providers&&!t._injector&&(t._injector=fh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function hf(t){let e=t.children&&t.children.map(hf),n=e?ce(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=Ax),n}function Ft(t){return t.outlet||O}function xx(t,e){let n=t.filter(r=>Ft(r)===e);return n.push(...t.filter(r=>Ft(r)!==e)),n}function Hs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Mx=(t,e,n,r)=>q(i=>(new ef(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ef=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ri(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ri(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ri(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ri(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Gh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Nh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Hs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Pc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},si=class{constructor(e,n){this.component=e,this.route=n}};function Nx(t,e,n){let r=t._root,i=e?e._root:null;return Rs(r,i,n,[r.value])}function Px(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ui(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lv(t)?t:e.get(t):r}function Rs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ri(e);return t.children.forEach(o=>{Ox(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ps(a,n.getContext(o),i)),i}function Ox(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=kx(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Pc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rs(t,e,a?a.children:null,r,i):Rs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new si(a.outlet.component,o))}else o&&Ps(e,a,i),i.canActivateChecks.push(new Pc(r)),s.component?Rs(t,null,a?a.children:null,r,i):Rs(t,null,n,r,i);return i}function kx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nr(t.url,e.url)||!kt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(t,e)||!kt(t.queryParams,e.queryParams);case"paramsChange":default:return!Jh(t,e)}}function Ps(t,e,n){let r=ri(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ps(o,e.children.getContext(s),n):Ps(o,null,n):Ps(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new si(e.outlet.component,i)):n.canDeactivateChecks.push(new si(null,i)):n.canDeactivateChecks.push(new si(null,i))}function qs(t){return typeof t=="function"}function Fx(t){return typeof t=="boolean"}function Lx(t){return t&&qs(t.canLoad)}function Vx(t){return t&&qs(t.canActivate)}function Ux(t){return t&&qs(t.canActivateChild)}function jx(t){return t&&qs(t.canDeactivate)}function Bx(t){return t&&qs(t.canMatch)}function gI(t){return t instanceof Wt||t?.name==="EmptyError"}var Ec=Symbol("INITIAL_VALUE");function ci(){return Ge(t=>pa(t.map(e=>e.pipe(Kt(1),wa(Ec)))).pipe(q(e=>{for(let n of e)if(n!==!0){if(n===Ec)return Ec;if(n===!1||n instanceof In)return n}return!0}),Je(e=>e!==Ec),Kt(1)))}function $x(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?R(ce(D({},n),{guardsResult:!0})):Hx(o,r,i,t).pipe(_e(a=>a&&Fx(a)?qx(r,s,t,e):R(a)),q(a=>ce(D({},n),{guardsResult:a})))})}function Hx(t,e,n,r){return ue(t).pipe(_e(i=>Qx(i.component,i.route,n,e,r)),St(i=>i!==!0,!0))}function qx(t,e,n,r){return ue(e).pipe(Lr(i=>Fr(Gx(i.route.parent,r),zx(i.route,r),Kx(t,i.path,n),Wx(t,i.route,n))),St(i=>i!==!0,!0))}function zx(t,e){return t!==null&&e&&e(new Wh(t)),R(!0)}function Gx(t,e){return t!==null&&e&&e(new zh(t)),R(!0)}function Wx(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(s=>ga(()=>{let o=Hs(e)??n,a=ui(s,o),c=Vx(a)?a.canActivate(e,t):Zn(o,()=>a(e,t));return Dn(c).pipe(St())}));return R(i).pipe(ci())}function Kx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Px(o)).filter(o=>o!==null).map(o=>ga(()=>{let a=o.guards.map(c=>{let u=Hs(o.node)??n,l=ui(c,u),d=Ux(l)?l.canActivateChild(r,t):Zn(u,()=>l(r,t));return Dn(d).pipe(St())});return R(a).pipe(ci())}));return R(s).pipe(ci())}function Qx(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let o=s.map(a=>{let c=Hs(e)??i,u=ui(a,c),l=jx(u)?u.canDeactivate(t,e,n,r):Zn(c,()=>u(t,e,n,r));return Dn(l).pipe(St())});return R(o).pipe(ci())}function Yx(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let s=i.map(o=>{let a=ui(o,t),c=Lx(a)?a.canLoad(e,n):Zn(t,()=>a(e,n));return Dn(c)});return R(s).pipe(ci(),mI(r))}function mI(t){return Xo(pe(e=>{if(ai(e))throw hI(t,e)}),q(e=>e===!0))}function Zx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let s=i.map(o=>{let a=ui(o,t),c=Bx(a)?a.canMatch(e,n):Zn(t,()=>a(e,n));return Dn(c)});return R(s).pipe(ci(),mI(r))}var Bs=class{constructor(e){this.segmentGroup=e||null}},Oc=class extends Error{constructor(e){super(),this.urlTree=e}};function ni(t){return kr(new Bs(t))}function Jx(t){return kr(new b(4e3,!1))}function Xx(t){return kr(fI(!1,3))}var tf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[O])return Jx(e.redirectTo);i=i.children[O]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Oc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new In(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new J(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},nf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eM(t,e,n,r,i){let s=ff(t,e,n);return s.matched?(r=Rx(e,r),Zx(r,e,n,i).pipe(q(o=>o===!0?s:D({},nf)))):R(s)}function ff(t,e,n){if(e.path==="**")return tM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},nf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZR)(n,t,e);if(!i)return D({},nf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tM(t){return{matched:!0,parameters:t.length>0?Qw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ww(t,e,n,r){return n.length>0&&iM(t,n,r)?{segmentGroup:new J(e,rM(r,new J(n,t.children))),slicedSegments:[]}:n.length===0&&sM(t,n,r)?{segmentGroup:new J(t.segments,nM(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new J(t.segments,t.children),slicedSegments:n}}function nM(t,e,n,r,i){let s={};for(let o of r)if(Fc(t,n,o)&&!i[Ft(o)]){let a=new J([],{});s[Ft(o)]=a}return D(D({},i),s)}function rM(t,e){let n={};n[O]=e;for(let r of t)if(r.path===""&&Ft(r)!==O){let i=new J([],{});n[Ft(r)]=i}return n}function iM(t,e,n){return n.some(r=>Fc(t,e,r)&&Ft(r)!==O)}function sM(t,e,n){return n.some(r=>Fc(t,e,r))}function Fc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oM(t,e,n,r){return Ft(t)!==r&&(r===O||!Fc(e,n,t))?!1:ff(e,t,n).matched}function aM(t,e,n){return e.length===0&&!t.children[n]}var rf=class{};function cM(t,e,n,r,i,s,o="emptyOnly"){return new sf(t,e,n,r,i,o,s).recognize()}var uM=31,sf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new tf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,!1)}recognize(){let e=Ww(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(n=>{let r=new Us([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},O,this.rootComponentType,null,{}),i=new Ye(r,n),s=new Nc("",i),o=mx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,O).pipe(cn(r=>{if(r instanceof Oc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(q(s=>s instanceof Ye?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ue(i).pipe(Lr(s=>{let o=r.children[s],a=xx(n,s);return this.processSegmentGroup(e,a,o,s)}),va((s,o)=>(s.push(...o),s)),un(null),Pl(),_e(s=>{if(s===null)return ni(r);let o=yI(s);return lM(o),R(o)}))}processSegment(e,n,r,i,s,o){return ue(n).pipe(Lr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(cn(c=>{if(c instanceof Bs)return R(null);throw c}))),St(a=>!!a),cn(a=>{if(gI(a))return aM(r,i,s)?R(new rf):ni(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return oM(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ni(i):ni(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=ff(n,i,s);if(!a)return ni(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uM&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=eM(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Ge(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ge(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Us(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,hM(r),Ft(r),r.component??r._loadedComponent??null,r,fM(r)),{segmentGroup:g,slicedSegments:y}=Ww(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(q(T=>T===null?null:new Ye(f,T)));if(c.length===0&&y.length===0)return R(new Ye(f,[]));let w=Ft(r)===s;return this.processSegment(u,c,g,y,w?O:s,!0).pipe(q(T=>new Ye(f,T instanceof Ye?[T]:[])))}))):ni(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):Yx(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(pe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Xx(n))):R({routes:[],injector:e})}};function lM(t){t.sort((e,n)=>e.value.outlet===O?-1:n.value.outlet===O?1:e.value.outlet.localeCompare(n.value.outlet))}function dM(t){let e=t.value.routeConfig;return e&&e.path===""}function yI(t){let e=[],n=new Set;for(let r of t){if(!dM(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yI(r.children);e.push(new Ye(r.value,i))}return e.filter(r=>!n.has(r))}function hM(t){return t.data||{}}function fM(t){return t.resolve||{}}function pM(t,e,n,r,i,s){return _e(o=>cM(t,e,n,r,o.extractedUrl,i,s).pipe(q(({state:a,tree:c})=>ce(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function gM(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of vI(c))o.add(u);let a=0;return ue(o).pipe(Lr(c=>s.has(c)?mM(c,r,t,e):(c.data=cf(c,c.parent,t).resolve,R(void 0))),pe(()=>a++),Vr(1),_e(c=>a===o.size?R(n):$e))})}function vI(t){let e=t.children.map(n=>vI(n)).flat();return[t,...e]}function mM(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!lI(i)&&(s[$s]=i.title),yM(s,t,e,r).pipe(q(o=>(t._resolvedData=o,t.data=cf(t,t.parent,n).resolve,null)))}function yM(t,e,n,r){let i=kh(t);if(i.length===0)return R({});let s={};return ue(i).pipe(_e(o=>vM(t[o],e,n,r).pipe(St(),pe(a=>{s[o]=a}))),Vr(1),Nl(s),cn(o=>gI(o)?$e:kr(o)))}function vM(t,e,n,r){let i=Hs(e)??r,s=ui(t,i),o=s.resolve?s.resolve(e,n):Zn(i,()=>s(e,n));return Dn(o)}function Ph(t){return Ge(e=>{let n=t(e);return n?ue(n).pipe(q(()=>e)):R(e)})}var _I=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===O);return i}getResolvedTitleForRoute(r){return r.data[$s]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(_M))(),providedIn:"root"});let t=e;return t})(),_M=(()=>{let e=class e extends _I{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(Rh))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pf=new L("",{providedIn:"root",factory:()=>({})}),gf=new L("ROUTES"),wM=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(mh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Dn(r.loadComponent()).pipe(q(wI),pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),zi(()=>{this.componentLoaders.delete(r)})),s=new Mr(i,()=>new Ne).pipe(xr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=IM(i,this.compiler,r,this.onLoadEndListener).pipe(zi(()=>{this.childrenLoaders.delete(i)})),a=new Mr(o,()=>new Ne).pipe(xr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IM(t,e,n,r){return Dn(t.loadChildren()).pipe(q(wI),_e(i=>i instanceof os||Array.isArray(i)?R(i):ue(e.compileModuleAsync(i))),q(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(gf,[],{optional:!0,self:!0}).flat()),{routes:o.map(hf),injector:s}}))}function EM(t){return t&&typeof t=="object"&&"default"in t}function wI(t){return EM(t)?t.default:t}var mf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(TM))(),providedIn:"root"});let t=e;return t})(),TM=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DM=new L("");var CM=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=E(wM),this.environmentInjector=E(rt),this.urlSerializer=E(af),this.rootContexts=E(kc),this.location=E(Ts),this.inputBindingEnabled=E(df,{optional:!0})!==null,this.titleStrategy=E(_I),this.options=E(pf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(mf),this.createViewTransition=E(DM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Hh(s)),i=s=>this.events.next(new qh(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ce(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ae({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ns,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(o=>o.id!==0),q(o=>ce(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ge(o=>{this.currentTransition=o;let a=!1,c=!1;return R(o).pipe(pe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ge(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new rr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),$e}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return R(u).pipe(Ge(h=>{let f=this.transitions?.getValue();return this.events.next(new ks(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?$e:Promise.resolve(h)}),pM(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Rc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:w}=u,T=new ks(h,this.urlSerializer.serialize(f),g,y);this.events.next(T);let W=cI(f,this.rootComponentType).snapshot;return this.currentTransition=o=ce(D({},u),{targetSnapshot:W,urlAfterRedirects:f,extras:ce(D({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(o)}else{let h="";return this.events.next(new rr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),$e}}),pe(u=>{let l=new Uh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),q(u=>(this.currentTransition=o=ce(D({},u),{guards:Nx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),$x(this.environmentInjector,u=>this.events.next(u)),pe(u=>{if(o.guardsResult=u.guardsResult,ai(u.guardsResult))throw hI(this.urlSerializer,u.guardsResult);let l=new jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Je(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Ph(u=>{if(u.guards.canActivateChecks.length)return R(u).pipe(pe(l=>{let d=new Bh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ge(l=>{let d=!1;return R(l).pipe(gM(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),pe(l=>{let d=new $h(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ph(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(pe(f=>{d.component=f}),q(()=>{})));for(let f of d.children)h.push(...l(f));return h};return pa(l(u.targetSnapshot.root)).pipe(un(),Kt(1))}),Ph(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ue(d).pipe(q(()=>o)):R(o)}),q(u=>{let l=Dx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),pe(()=>{this.events.next(new Ls)}),Mx(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Kt(1),pe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),kl(this.transitionAbortSubject.pipe(pe(u=>{throw u}))),zi(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),cn(u=>{if(c=!0,pI(u))this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Sx(u)?this.events.next(new Vs(u.url)):o.resolve(!1);else{this.events.next(new Fs(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return $e}))}))}cancelNavigationTransition(r,i,s){let o=new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bM(t){return t!==Ns}var SM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(AM))(),providedIn:"root"});let t=e;return t})(),of=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AM=(()=>{let e=class e extends of{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=$d(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),II=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>E(RM))(),providedIn:"root"});let t=e;return t})(),RM=(()=>{let e=class e extends II{constructor(){super(...arguments),this.location=E(Ts),this.urlSerializer=E(af),this.options=E(pf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(mf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cI(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ks)this.stateMemento=this.createStateMemento();else if(r instanceof rr)this.rawUrlTree=i.initialUrl;else if(r instanceof Rc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ls?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Tn&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Fs?this.restoreHistory(i,!0):r instanceof En&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=$d(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xs||{});function xM(t,e){t.events.pipe(Je(n=>n instanceof En||n instanceof Tn||n instanceof Fs||n instanceof rr),q(n=>n instanceof En||n instanceof rr?xs.COMPLETE:(n instanceof Tn?n.code===0||n.code===1:!1)?xs.REDIRECTING:xs.FAILED),Je(n=>n!==xs.REDIRECTING),Kt(1)).subscribe(()=>{e()})}function MM(t){throw t}var NM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zs=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(mc),this.stateManager=E(II),this.options=E(pf,{optional:!0})||{},this.pendingTasks=E(gh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(CM),this.urlSerializer=E(af),this.location=E(Ts),this.urlHandlingStrategy=E(mf),this._events=new Ne,this.errorHandler=this.options.errorHandler||MM,this.navigated=!1,this.routeReuseStrategy=E(SM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(gf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(df,{optional:!0}),this.eventsSubscription=new fe,this.isNgZoneEnabled=E(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Tn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof En)this.navigated=!0;else if(i instanceof Vs){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bM(s.source)};this.scheduleNavigation(a,Ns,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}kM(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ns,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(hf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=iI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return sI(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ai(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ns,null,i)}navigate(r,i={skipLocationChange:!1}){return OM(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},NM):i===!1?s=D({},PM):s=i,ai(r))return Hw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Hw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return xM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OM(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function kM(t){return!(t instanceof Ls)&&!(t instanceof Vs)}var EI=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof En&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:P_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Pe(zs),Pe(Xt),Hd("tabindex"),Pe(cc),Pe(gs),Pe(ti))},e.\u0275dir=Qr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&_s("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hh("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Es],skipLocationChange:["skipLocationChange","skipLocationChange",Es],replaceUrl:["replaceUrl","replaceUrl",Es],routerLink:"routerLink"},standalone:!0,features:[dh,us]});let t=e;return t})();var FM=new L("");function TI(t,...e){return tc([{provide:gf,multi:!0,useValue:t},[],{provide:Xt,useFactory:LM,deps:[zs]},{provide:yh,multi:!0,useFactory:VM},e.map(n=>n.\u0275providers)])}function LM(t){return t.routerState.root}function VM(){let t=E(Pt);return e=>{let n=t.get(Is);if(e!==n.components[0])return;let r=t.get(zs),i=t.get(UM);t.get(jM)===1&&r.initialNavigation(),t.get(BM,null,U.Optional)?.setUpPreloading(),t.get(FM,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UM=new L("",{factory:()=>new Ne}),jM=new L("",{providedIn:"root",factory:()=>1});var BM=new L("");var CI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HM=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new vf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qM=function(t){let e=CI(t);return bI.encodeByteArray(e,!0)},Gs=function(t){return qM(t).replace(/\./g,"")},wf=function(t){try{return bI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GM=()=>zM().__FIREBASE_DEFAULTS__,WM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wf(t[1]);return e&&JSON.parse(e)},If=()=>{try{return GM()||WM()||KM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SI=t=>{var e,n;return(n=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AI=t=>{let e=SI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ef=()=>{var t;return(t=If())===null||t===void 0?void 0:t.config},RI=t=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${t}`]};var Lc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function xI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Gs(JSON.stringify(n)),Gs(JSON.stringify(o)),a].join(".")}function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function NI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tf(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var QM="FirebaseError",at=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QM,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}},en=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new at(i,a,r)}};function YM(t,e){return t.replace(ZM,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZM=/\{\$([^}]+)}/g;function li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(DI(s)&&DI(o)){if(!li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function DI(t){return t!==null&&typeof t=="object"}function Df(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kI(t,e){let n=new _f(t,e);return n.subscribe.bind(n)}var _f=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yf),i.error===void 0&&(i.error=yf),i.complete===void 0&&(i.complete=yf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JM(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yf(){}var AH=4*60*60*1e3;function Cn(t){return t&&t._delegate?t._delegate:t}var ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ir="[DEFAULT]";var Cf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eN(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ir){return this.instances.has(e)}getOptions(e=ir){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ir){return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XM(t){return t===ir?void 0:t}function eN(t){return t.instantiationMode==="EAGER"}var Vc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tN=[],H=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(H||{}),nN={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},rN=H.INFO,iN={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},sN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bn=class{constructor(e){this.name=e,this._logLevel=rN,this._logHandler=sN,this._userLogHandler=null,tN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}};var oN=(t,e)=>e.some(n=>t instanceof n),FI,LI;function aN(){return FI||(FI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var VI=new WeakMap,Sf=new WeakMap,UI=new WeakMap,bf=new WeakMap,Rf=new WeakMap;function uN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Lt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VI.set(n,t)}).catch(()=>{}),Rf.set(e,t),e}function lN(t){if(Sf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}var Af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jI(t){Af=t(Af)}function dN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Uc(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),Lt(r)}:cN().includes(t)?function(...e){return t.apply(Uc(this),e),Lt(VI.get(this))}:function(...e){return Lt(t.apply(Uc(this),e))}}function hN(t){return typeof t=="function"?dN(t):(t instanceof IDBTransaction&&lN(t),oN(t,aN())?new Proxy(t,Af):t)}function Lt(t){if(t instanceof IDBRequest)return uN(t);if(bf.has(t))return bf.get(t);let e=hN(t);return e!==t&&(bf.set(t,e),Rf.set(e,t)),e}var Uc=t=>Rf.get(t);function $I(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Lt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Lt(o.result),c.oldVersion,c.newVersion,Lt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var fN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],xf=new Map;function BI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=pN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fN.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return xf.set(e,s),s}jI(t=>ce(D({},t),{get:(e,n,r)=>BI(e,n)||t.get(e,n,r),has:(e,n)=>!!BI(e,n)||t.has(e,n)}));var Nf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gN(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function gN(t){let e=t.getComponent();return e?.type==="VERSION"}var Pf="@firebase/app",HI="0.9.25";var sr=new bn("@firebase/app"),mN="@firebase/app-compat",yN="@firebase/analytics-compat",vN="@firebase/analytics",_N="@firebase/app-check-compat",wN="@firebase/app-check",IN="@firebase/auth",EN="@firebase/auth-compat",TN="@firebase/database",DN="@firebase/database-compat",CN="@firebase/functions",bN="@firebase/functions-compat",SN="@firebase/installations",AN="@firebase/installations-compat",RN="@firebase/messaging",xN="@firebase/messaging-compat",MN="@firebase/performance",NN="@firebase/performance-compat",PN="@firebase/remote-config",ON="@firebase/remote-config-compat",kN="@firebase/storage",FN="@firebase/storage-compat",LN="@firebase/firestore",VN="@firebase/firestore-compat",UN="firebase",jN="10.7.1";var Of="[DEFAULT]",BN={[Pf]:"fire-core",[mN]:"fire-core-compat",[vN]:"fire-analytics",[yN]:"fire-analytics-compat",[wN]:"fire-app-check",[_N]:"fire-app-check-compat",[IN]:"fire-auth",[EN]:"fire-auth-compat",[TN]:"fire-rtdb",[DN]:"fire-rtdb-compat",[CN]:"fire-fn",[bN]:"fire-fn-compat",[SN]:"fire-iid",[AN]:"fire-iid-compat",[RN]:"fire-fcm",[xN]:"fire-fcm-compat",[MN]:"fire-perf",[NN]:"fire-perf-compat",[PN]:"fire-rc",[ON]:"fire-rc-compat",[kN]:"fire-gcs",[FN]:"fire-gcs-compat",[LN]:"fire-fst",[VN]:"fire-fst-compat","fire-js":"fire-js",[UN]:"fire-js-all"};var Ws=new Map,kf=new Map;function $N(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function An(t){let e=t.name;if(kf.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,t);for(let n of Ws.values())$N(n,t);return!0}function Uf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var HN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Sn=new en("app","Firebase",HN);var Ff=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}};var di=jN;function jf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sn.create("bad-app-name",{appName:String(i)});if(n||(n=Ef()),!n)throw Sn.create("no-options");let s=Ws.get(i);if(s){if(li(n,s.options)&&li(r,s.config))return s;throw Sn.create("duplicate-app",{appName:i})}let o=new Vc(i);for(let c of kf.values())o.addComponent(c);let a=new Ff(n,r,o);return Ws.set(i,a),a}function Qs(t=Of){let e=Ws.get(t);if(!e&&t===Of&&Ef())return jf();if(!e)throw Sn.create("no-app",{appName:t});return e}function jc(){return Array.from(Ws.values())}function Te(t,e,n){var r;let i=(r=BN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}An(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var qN="firebase-heartbeat-database",zN=1,Ks="firebase-heartbeat-store",Mf=null;function WI(){return Mf||(Mf=$I(qN,zN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ks)}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),Mf}function GN(t){return p(this,null,function*(){try{return yield(yield WI()).transaction(Ks).objectStore(Ks).get(KI(t))}catch(e){if(e instanceof at)sr.warn(e.message);else{let n=Sn.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}})}function qI(t,e){return p(this,null,function*(){try{let r=(yield WI()).transaction(Ks,"readwrite");yield r.objectStore(Ks).put(e,KI(t)),yield r.done}catch(n){if(n instanceof at)sr.warn(n.message);else{let r=Sn.create("idb-set",{originalErrorMessage:n?.message});sr.warn(r.message)}}})}function KI(t){return`${t.name}!${t.options.appId}`}var WN=1024,KN=30*24*60*60*1e3,Lf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=KN}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zI(),{heartbeatsToSend:r,unsentEntries:i}=QN(this._heartbeatsCache.heartbeats),s=Gs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function zI(){return new Date().toISOString().substring(0,10)}function QN(t,e=WN){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Tf()?OI().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function GI(t){return Gs(JSON.stringify({version:2,heartbeats:t})).length}function YN(t){An(new ut("platform-logger",e=>new Nf(e),"PRIVATE")),An(new ut("heartbeat",e=>new Lf(e),"PRIVATE")),Te(Pf,HI,t),Te(Pf,HI,"esm2017"),Te("fire-js","")}YN("");var ZN="firebase",JN="10.7.1";Te(ZN,JN,"app");var fi=new fn("ANGULARFIRE2_VERSION");function $f(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Zs=(t,e)=>{let n=e?[e]:jc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ys=class{constructor(){return Zs(XN)}},XN="app-check";function hi(){}var Bc=class{zone;delegate;constructor(e,n=Sl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Bf=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hi,{},hi,hi)),n.pipe(pe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Js=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bc(Zone.current)),this.insideAngular=n.run(()=>new Bc(Zone.current,bl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(F(ie))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $c(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eP(t){return $c().ngZone.runOutsideAngular(()=>t())}function or(t){return $c().ngZone.run(()=>t())}function tP(t){return nP($c())(t)}function nP(t){return function(n){return n=n.lift(new Bf(t.ngZone)),n.pipe(an(t.outsideAngular),on(t.insideAngular))}}var rP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),or(()=>t.apply(void 0,r))},ar=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=or(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hi,{},hi,hi))),r[s]=rP(r[s],n));let i=eP(()=>t.apply(this,r));if(!e)if(i instanceof B){let s=$c();return i.pipe(an(s.outsideAngular),on(s.insideAngular))}else return or(()=>i);return i instanceof B?i.pipe(tP):i instanceof Promise?or(()=>new Promise((s,o)=>i.then(a=>or(()=>s(a)),a=>or(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:or(()=>i)};var cr=class{constructor(e){return e}},Xs=class{constructor(){return jc()}};function iP(t){return t&&t.length===1?t[0]:new cr(Qs())}var Hf=new L("angularfire2._apps"),sP={provide:cr,useFactory:iP,deps:[[new _t,Hf]]},oP={provide:Xs,deps:[[new _t,Hf]]};function aP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new cr(r)}}var cP=(()=>{class t{constructor(n){Te("angularfire",fi.full,"core"),Te("angularfire",fi.full,"app"),Te("angular",ih.full,n.toString())}static \u0275fac=function(r){return new(r||t)(F(vn))};static \u0275mod=mn({type:t});static \u0275inj=gn({providers:[sP,oP]})}return t})();function QI(t,...e){return{ngModule:cP,providers:[{provide:Hf,useFactory:aP(t),multi:!0,deps:[ie,Pt,Js,...e]}]}}var YI=ar(jf,!0);function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iE=rE,sE=new en("auth","Firebase",rE());var zc=new bn("@firebase/auth");function lP(t,...e){zc.logLevel<=H.WARN&&zc.warn(`Auth (${di}): ${t}`,...e)}function qc(t,...e){zc.logLevel<=H.ERROR&&zc.error(`Auth (${di}): ${t}`,...e)}function ZI(t,...e){throw ep(t,...e)}function oE(t,...e){return ep(t,...e)}function dP(t,e,n){let r=Object.assign(Object.assign({},iE()),{[e]:n});return new en("auth","Firebase",r).create(e,{appName:t.name})}function ep(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sE.create(t,...e)}function ee(t,e,...n){if(!t)throw ep(e,...n)}function eo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function Gc(t,e){t||eo(e)}function hP(){return JI()==="http:"||JI()==="https:"}function JI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hP()||NI()||"connection"in navigator)?navigator.onLine:!0}function pP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var lr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gc(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||PI()}get(){return fP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gP(t,e){Gc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Wc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yP=new lr(3e4,6e4);function aE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function eu(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return cE(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Df(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Wc.fetch()(uE(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function cE(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mP),e);try{let i=new Gf(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hc(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dP(t,l,u);ZI(t,l)}}catch(i){if(i instanceof at)throw i;ZI(t,"network-request-failed",{message:String(i)})}})}function uE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?gP(t.config,i):`${t.config.apiScheme}://${i}`}var Gf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oE(this.auth,"network-request-failed")),yP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Hc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=oE(t,e,r);return i.customData._tokenResponse=n,i}function vP(t,e){return p(this,null,function*(){return eu(t,"POST","/v1/accounts:delete",e)})}function _P(t,e){return p(this,null,function*(){return eu(t,"POST","/v1/accounts:lookup",e)})}function to(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tp(t,e=!1){return p(this,null,function*(){let n=Cn(t),r=yield n.getIdToken(e),i=lE(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:to(qf(i.auth_time)),issuedAtTime:to(qf(i.iat)),expirationTime:to(qf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function qf(t){return Number(t)*1e3}function lE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{let i=wf(n);return i?JSON.parse(i):(qc("Failed to decode base64 JWT payload"),null)}catch(i){return qc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wP(t){let e=lE(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wf(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof at&&IP(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function IP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wf(t,_P(n,{idToken:r}));ee(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TP(s.providerUserInfo):[],a=EP(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kc(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function np(t){return p(this,null,function*(){let e=Cn(t);yield Qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TP(t){return t.map(e=>{var{providerId:n}=e,r=Rl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DP(t,e){return p(this,null,function*(){let n=yield cE(t,{},()=>p(this,null,function*(){let r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uE(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function CP(t,e){return p(this,null,function*(){return eu(t,"POST","/v2/accounts:revokeToken",aE(t,e))})}var Yc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield DP(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return eo("not implemented")}};function Rn(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Wf(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tp(this,e)}reload(){return np(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield Wf(this,vP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,W=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Q,emailVerified:re,isAnonymous:Se,providerData:Z,stsTokenManager:Me}=n;ee(Q&&Me,e,"internal-error");let Ct=Yc.fromJSON(this.name,Me);ee(typeof Q=="string",e,"internal-error"),Rn(d,e.name),Rn(h,e.name),ee(typeof re=="boolean",e,"internal-error"),ee(typeof Se=="boolean",e,"internal-error"),Rn(f,e.name),Rn(g,e.name),Rn(y,e.name),Rn(w,e.name),Rn(T,e.name),Rn(W,e.name);let Ln=new t({uid:Q,auth:e,email:h,emailVerified:re,displayName:d,isAnonymous:Se,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Ct,createdAt:T,lastLoginAt:W});return Z&&Array.isArray(Z)&&(Ln.providerData=Z.map(Cr=>Object.assign({},Cr))),w&&(Ln._redirectEventId=w),Ln}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qc(s),s})}};var XI=new Map;function ur(t){Gc(t instanceof Function,"Expected a class definition");let e=XI.get(t);return e?(Gc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XI.set(t,e),e)}var bP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qf=bP;function zf(t,e,n){return`firebase:${t}:${e}:${n}`}var Jc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=zf(this.userKey,i.apiKey,s),this.fullPersistenceKey=zf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(ur(Qf),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ur(Qf),o=zf(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Zc._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function eE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NP(e))return"Blackberry";if(PP(e))return"Webos";if(AP(e))return"Safari";if((e.includes("chrome/")||RP(e))&&!e.includes("edge/"))return"Chrome";if(MP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SP(t=ct()){return/firefox\//i.test(t)}function AP(t=ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RP(t=ct()){return/crios\//i.test(t)}function xP(t=ct()){return/iemobile/i.test(t)}function MP(t=ct()){return/android/i.test(t)}function NP(t=ct()){return/blackberry/i.test(t)}function PP(t=ct()){return/webos/i.test(t)}function dE(t,e=[]){let n;switch(t){case"Browser":n=eE(ct());break;case"Worker":n=`${eE(ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${di}/${r}`}var Yf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OP(n){return p(this,arguments,function*(t,e={}){return eu(t,"GET","/v2/passwordPolicy",aE(t,e))})}var kP=6,Zf=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xc(this),this.idTokenSubscription=new Xc(this),this.beforeStateQueue=new Yf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pP()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Cn(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield OP(this),n=new Zf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new en("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield CP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=yield Jc.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function FP(t){return Cn(t)}var Xc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kI(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function LP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function VP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Eq=LP("rcb"),Tq=new lr(3e4,6e4);var Dq=new lr(2e3,1e4);var Cq=10*60*1e3;var bq=new lr(3e4,6e4);var Sq=new lr(5e3,15e3);var Aq=encodeURIComponent("fac");var tE="@firebase/auth",nE="1.5.1";var Xf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function jP(t){An(new ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(t)},u=new Jf(r,i,s,c);return VP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),An(new ut("auth-internal",e=>{let n=FP(e.getProvider("auth").getImmediate());return(r=>new Xf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(tE,nE,UP(t)),Te(tE,nE,"esm2017")}var BP=5*60,Rq=RI("authIdTokenMaxAge")||BP;jP("Browser");var jO="auth";var tu=class{constructor(){return Zs(jO)}};var BO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Et={},v,Dp=Dp||{},A=BO||self;function gu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $O(t){return Object.prototype.hasOwnProperty.call(t,rp)&&t[rp]||(t[rp]=++HO)}var rp="closure_uid_"+(1e9*Math.random()>>>0),HO=0;function qO(t,e,n){return t.call.apply(t.bind,arguments)}function zO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Oe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Oe=qO:Oe=zO,Oe.apply(null,arguments)}function nu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ce(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xn(){this.s=this.s,this.o=this.o}var GO=0;xn.prototype.s=!1;xn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GO!=0)&&$O(this)};xn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var DE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Cp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(gu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ke(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var WO=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};A.addEventListener("test",n,e),A.removeEventListener("test",n,e)}catch{}return t}();function ao(t){return/^[\s\xa0]*$/.test(t)}function mu(){var t=A.navigator;return t&&(t=t.userAgent)?t:""}function Vt(t){return mu().indexOf(t)!=-1}function bp(t){return bp[" "](t),t}bp[" "]=function(){};function KO(t,e){var n=Fk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QO=Vt("Opera"),yi=Vt("Trident")||Vt("MSIE"),CE=Vt("Edge"),cp=CE||yi,bE=Vt("Gecko")&&!(mu().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),YO=mu().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge");function SE(){var t=A.document;return t?t.documentMode:void 0}var up;e:{if(ru="",iu=function(){var t=mu();if(bE)return/rv:([^\);]+)(\)|;)/.exec(t);if(CE)return/Edge\/([\d\.]+)/.exec(t);if(yi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YO)return/WebKit\/(\S+)/.exec(t);if(QO)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),iu&&(ru=iu?iu[1]:""),yi&&(su=SE(),su!=null&&su>parseFloat(ru))){up=String(su);break e}up=ru}var ru,iu,su,lp;A.document&&yi?(ip=SE(),lp=ip||parseInt(up,10)||void 0):lp=void 0;var ip,ZO=lp;function co(t,e){if(ke.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bE){e:{try{bp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:JO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&co.$.h.call(this)}}Ce(co,ke);var JO={2:"touch",3:"pen",4:"mouse"};co.prototype.h=function(){co.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yo="closure_listenable_"+(1e6*Math.random()|0),XO=0;function ek(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++XO,this.fa=this.ia=!1}function yu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sp(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function tk(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function AE(t){let e={};for(let n in t)e[n]=t[n];return e}var fE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<fE.length;s++)n=fE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vu(t){this.src=t,this.g={},this.h=0}vu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=hp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ek(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function dp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ap="closure_lm_"+(1e6*Math.random()|0),sp={};function xE(t,e,n,r,i){if(r&&r.once)return NE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xE(t,e[s],n,r,i);return null}return n=Mp(n),t&&t[yo]?t.O(e,n,mo(r)?!!r.capture:!!r,i):ME(t,e,n,!1,r,i)}function ME(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mo(i)?!!i.capture:!!i,a=xp(t);if(a||(t[Ap]=a=new vu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=nk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)WO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(OE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nk(){function t(n){return e.call(t.src,t.listener,n)}let e=rk;return t}function NE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NE(t,e[s],n,r,i);return null}return n=Mp(n),t&&t[yo]?t.P(e,n,mo(r)?!!r.capture:!!r,i):ME(t,e,n,!0,r,i)}function PE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PE(t,e[s],n,r,i);else r=mo(r)?!!r.capture:!!r,n=Mp(n),t&&t[yo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hp(s,n,r,i),-1<n&&(yu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=xp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hp(e,n,r,i)),(n=-1<t?e[t]:null)&&Rp(n))}function Rp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yo])dp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(OE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xp(e))?(dp(n,t),n.h==0&&(n.src=null,e[Ap]=null)):yu(t)}}}function OE(t){return t in sp?sp[t]:sp[t]="on"+t}function rk(t,e){if(t.fa)t=!0;else{e=new co(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rp(t),t=n.call(r,e)}return t}function xp(t){return t=t[Ap],t instanceof vu?t:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(t){return typeof t=="function"?t:(t[op]||(t[op]=function(e){return t.handleEvent(e)}),t[op])}function De(){xn.call(this),this.i=new vu(this),this.S=this,this.J=null}Ce(De,xn);De.prototype[yo]=!0;De.prototype.removeEventListener=function(t,e,n,r){PE(this,t,e,n,r)};function xe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ke(e,t);else if(e instanceof ke)e.target=e.target||t;else{var i=e;e=new ke(r,t),RE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ou(o,r,!0,e)&&i}if(o=e.g=t,i=ou(o,r,!0,e)&&i,i=ou(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ou(o,r,!1,e)&&i}De.prototype.N=function(){if(De.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yu(n[r]);delete t.g[e],t.h--}}this.J=null};De.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};De.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ou(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&dp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Np=A.JSON.stringify,fp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function ik(){var t=Pp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var pp=class{constructor(){this.h=this.g=null}add(e,n){let r=kE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},kE=new fp(()=>new gp,t=>t.reset()),gp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function sk(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ok(t){A.setTimeout(()=>{throw t},0)}var uo,lo=!1,Pp=new pp,FE=()=>{let t=A.Promise.resolve(void 0);uo=()=>{t.then(ak)}},ak=()=>{for(var t;t=ik();){try{t.h.call(t.g)}catch(n){ok(n)}var e=kE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lo=!1};function _u(t,e){De.call(this),this.h=t||1,this.g=e||A,this.j=Oe(this.qb,this),this.l=Date.now()}Ce(_u,De);v=_u.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xe(this,"tick"),this.ga&&(Op(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Op(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){_u.$.N.call(this),Op(this),delete this.g};function kp(t,e,n){if(typeof t=="function")n&&(t=Oe(t,n));else if(t&&typeof t.handleEvent=="function")t=Oe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function LE(t){t.g=kp(()=>{t.g=null,t.i&&(t.i=!1,LE(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var mp=class extends xn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LE(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ho(t){xn.call(this),this.h=t,this.g={}}Ce(ho,xn);var pE=[];function VE(t,e,n,r){Array.isArray(n)||(n&&(pE[0]=n.toString()),n=pE);for(var i=0;i<n.length;i++){var s=xE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function UE(t){Sp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rp(e)},t),t.g={}}ho.prototype.N=function(){ho.$.N.call(this),UE(this)};ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wu(){this.g=!0}wu.prototype.Ea=function(){this.g=!1};function ck(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function uk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function gi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dk(t,n)+(r?" "+r:"")})}function lk(t,e){t.info(function(){return"TIMEOUT: "+e})}wu.prototype.info=function(){};function dk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Np(n)}catch{return e}}var pr={},gE=null;function Iu(){return gE=gE||new De}pr.Ta="serverreachability";function jE(t){ke.call(this,pr.Ta,t)}Ce(jE,ke);function fo(t){let e=Iu();xe(e,new jE(e))}pr.STAT_EVENT="statevent";function BE(t,e){ke.call(this,pr.STAT_EVENT,t),this.stat=e}Ce(BE,ke);function je(t){let e=Iu();xe(e,new BE(e,t))}pr.Ua="timingevent";function $E(t,e){ke.call(this,pr.Ua,t),this.size=e}Ce($E,ke);function vo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}var Eu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fp(){}Fp.prototype.h=null;function mE(t){return t.h||(t.h=t.i())}function qE(){}var _o={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lp(){ke.call(this,"d")}Ce(Lp,ke);function Vp(){ke.call(this,"c")}Ce(Vp,ke);var yp;function Tu(){}Ce(Tu,Fp);Tu.prototype.g=function(){return new XMLHttpRequest};Tu.prototype.i=function(){return{}};yp=new Tu;function wo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ho(this),this.P=hk,t=cp?125:void 0,this.V=new _u(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zE}function zE(){this.i=null,this.g="",this.h=!1}var hk=45e3,GE={},vp={};v=wo.prototype;v.setTimeout=function(t){this.P=t};function _p(t,e,n){t.L=1,t.A=Cu(nn(e)),t.u=n,t.S=!0,WE(t,null)}function WE(t,e){t.G=Date.now(),Io(t),t.B=nn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),tT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new zE,t.g=ET(t.l,n?e:null,!t.u),0<t.O&&(t.M=new mp(Oe(t.Pa,t,t.g),t.O)),VE(t.U,t.g,"readystatechange",t.nb),e=t.I?AE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fo(),ck(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Ut(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Ut(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||cp||this.g&&(this.h.h||this.g.ja()||wE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?fo(3):fo(2)),Du(this);var n=this.g.da();this.ca=n;t:if(KE(this)){var r=wE(this.g);t="";var i=r.length,s=Ut(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),oo(this);var o="";break t}this.h.i=new A.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,uk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ao(a)){var u=a;break t}}u=null}if(n=u)gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wp(this,n);else{this.i=!1,this.s=3,je(12),dr(this),oo(this);break e}}this.S?(QE(this,l,o),cp&&this.i&&l==3&&(VE(this.U,this.V,"tick",this.mb),this.V.start())):(gi(this.j,this.m,o,null),wp(this,o)),l==4&&dr(this),this.i&&!this.J&&(l==4?vT(this.l,this):(this.i=!1,Io(this)))}else Pk(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),dr(this),oo(this)}}}catch{}finally{}};function KE(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function QE(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=fk(t,n),i==vp){e==4&&(t.s=4,je(14),r=!1),gi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==GE){t.s=4,je(15),gi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else gi(t.j,t.m,i,null),wp(t,i);KE(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,je(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qp(e),e.M=!0,je(11))):(gi(t.j,t.m,n,"[Invalid Chunked Response]"),dr(t),oo(t))}v.mb=function(){if(this.g){var t=Ut(this.g),e=this.g.ja();this.o<e.length&&(Du(this),QE(this,t,e),this.i&&t!=4&&Io(this))}};function fk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?vp:(n=Number(e.substring(n,r)),isNaN(n)?GE:(r+=1,r+n>e.length?vp:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,dr(this)};function Io(t){t.Y=Date.now()+t.P,YE(t,t.P)}function YE(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=vo(Oe(t.lb,t),e)}function Du(t){t.C&&(A.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(lk(this.j,this.B),this.L!=2&&(fo(),je(17)),dr(this),this.s=2,oo(this)):YE(this,this.Y-t)};function oo(t){t.l.H==0||t.J||vT(t.l,t)}function dr(t){Du(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Op(t.V),UE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ip(n.i,t))){if(!t.K&&Ip(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)du(n),Au(n);else break e;Hp(n),je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vo(Oe(n.ib,n),6e3));if(1>=iT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hr(n,11)}else if((t.K||n.g==t)&&du(n),!ao(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Up(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,se(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IT(r,r.J?r.pa:null,r.Y),o.K){sT(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Du(a),Io(a)),r.g=o}else mT(r);0<n.j.length&&Ru(n)}else u[0]!="stop"&&u[0]!="close"||hr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hr(n,7):$p(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fo(4)}catch{}}function pk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function ZE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gk(t),r=pk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var JE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fr){this.h=t.h,uu(this,t.j),this.s=t.s,this.g=t.g,lu(this,t.m),this.l=t.l;var e=t.i,n=new po;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yE(this,n),this.o=t.o}else t&&(e=String(t).match(JE))?(this.h=!1,uu(this,e[1]||"",!0),this.s=io(e[2]||""),this.g=io(e[3]||"",!0),lu(this,e[4]),this.l=io(e[5]||"",!0),yE(this,e[6]||"",!0),this.o=io(e[7]||"")):(this.h=!1,this.i=new po(null,this.h))}fr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(so(e,vE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(so(e,vE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(so(n,n.charAt(0)=="/"?_k:vk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",so(n,Ik)),t.join("")};function nn(t){return new fr(t)}function uu(t,e,n){t.j=n?io(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yE(t,e,n){e instanceof po?(t.i=e,Ek(t.i,t.h)):(n||(e=so(e,wk)),t.i=new po(e,t.h))}function se(t,e,n){t.i.set(e,n)}function Cu(t){return se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function io(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function so(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var vE=/[#\/\?@]/g,vk=/[#\?:]/g,_k=/[#\?]/g,wk=/[#\?@]/g,Ik=/#/g;function po(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mn(t){t.g||(t.g=new Map,t.h=0,t.i&&mk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=po.prototype;v.add=function(t,e){Mn(this),this.i=null,t=vi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function XE(t,e){Mn(t),e=vi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eT(t,e){return Mn(t),e=vi(t,e),t.g.has(e)}v.forEach=function(t,e){Mn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){Mn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){Mn(this);let e=[];if(typeof t=="string")eT(this,t)&&(e=e.concat(this.g.get(vi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return Mn(this),this.i=null,t=vi(this,t),eT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tT(t,e,n){XE(t,e),0<n.length&&(t.i=null,t.g.set(vi(t,e),Cp(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ek(t,e){e&&!t.j&&(Mn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(XE(this,r),tT(this,i,n))},t)),t.j=e}var Tk=class{constructor(t,e){this.g=t,this.map=e}};function nT(t){this.l=t||Dk,A.PerformanceNavigationTiming?(t=A.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(A.g&&A.g.Ka&&A.g.Ka()&&A.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dk=10;function rT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function iT(t){return t.h?1:t.g?t.g.size:0}function Ip(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Up(t,e){t.g?t.g.add(e):t.h=e}function sT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nT.prototype.cancel=function(){if(this.i=oT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function oT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Cp(t.i)}var Ck=class{stringify(t){return A.JSON.stringify(t,void 0)}parse(t){return A.JSON.parse(t,void 0)}};function bk(){this.g=new Ck}function Sk(t,e,n){let r=n||"";try{ZE(t,function(i,s){let o=i;mo(i)&&(o=Np(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ak(t,e){let n=new wu;if(A.Image){let r=new Image;r.onload=nu(au,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nu(au,n,r,"TestLoadImage: error",!1,e),r.onabort=nu(au,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nu(au,n,r,"TestLoadImage: timeout",!1,e),A.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function au(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Eo(t){this.l=t.ec||null,this.j=t.ob||!1}Ce(Eo,Fp);Eo.prototype.g=function(){return new bu(this.l,this.j)};Eo.prototype.i=function(t){return function(){return t}}({});function bu(t,e){De.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ce(bu,De);var jp=0;v=bu.prototype;v.open=function(t,e){if(this.readyState!=jp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,go(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||A).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=jp};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?To(this):go(this),this.readyState==3&&aT(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,To(this))};v.Ya=function(t){this.g&&(this.response=t,To(this))};v.ka=function(){this.g&&To(this)};function To(t){t.readyState=4,t.l=null,t.j=null,t.A=null,go(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function go(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Rk=A.JSON.parse;function le(t){De.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cT,this.L=this.M=!1}Ce(le,De);var cT="",xk=/^https?$/i,Mk=["POST","PUT"];v=le.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yp.g(),this.C=this.u?mE(this.u):mE(yp),this.g.onreadystatechange=Oe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){_E(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=A.FormData&&t instanceof A.FormData,!(0<=DE(Mk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dT(this),0<this.B&&((this.L=Nk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.ua,this)):this.A=kp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){_E(this,s)}};function Nk(t){return yi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof Dp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xe(this,"timeout"),this.abort(8))};function _E(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uT(t),Su(t)}function uT(t){t.F||(t.F=!0,xe(t,"complete"),xe(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xe(this,"complete"),xe(this,"abort"),Su(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Su(this,!0)),le.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?lT(this):this.kb())};v.kb=function(){lT(this)};function lT(t){if(t.h&&typeof Dp<"u"&&(!t.C[1]||Ut(t)!=4||t.da()!=2)){if(t.v&&Ut(t)==4)kp(t.La,0,t);else if(xe(t,"readystatechange"),Ut(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(JE)[1]||null;!i&&A.self&&A.self.location&&(i=A.self.location.protocol.slice(0,-1)),r=!xk.test(i?i.toLowerCase():"")}n=r}if(n)xe(t,"complete"),xe(t,"success");else{t.m=6;try{var s=2<Ut(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",uT(t)}}finally{Su(t)}}}}function Su(t,e){if(t.g){dT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xe(t,"ready");try{n.onreadystatechange=r}catch{}}}function dT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(A.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Ut(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Ut(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Rk(e)}};function wE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Pk(t){let e={};t=(t.g&&2<=Ut(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ao(t[r]))continue;var n=sk(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}tk(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hT(t){let e="";return Sp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):se(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fT(t){this.Ga=0,this.j=[],this.l=new wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=no("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=no("baseRetryDelayMs",5e3,t),this.hb=no("retryDelaySeedMs",1e4,t),this.eb=no("forwardChannelMaxRetries",2,t),this.xa=no("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nT(t&&t.concurrentRequestLimit),this.Ja=new bk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=fT.prototype;v.ra=8;v.H=1;function $p(t){if(pT(t),t.H==3){var e=t.W++,n=nn(t.I);if(se(n,"SID",t.K),se(n,"RID",e),se(n,"TYPE","terminate"),Do(t,n),e=new wo(t,t.l,e),e.L=2,e.A=Cu(nn(n)),n=!1,A.navigator&&A.navigator.sendBeacon)try{n=A.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&A.Image&&(new Image().src=e.A,n=!0),n||(e.g=ET(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Io(e)}wT(t)}function Au(t){t.g&&(qp(t),t.g.cancel(),t.g=null)}function pT(t){Au(t),t.u&&(A.clearTimeout(t.u),t.u=null),du(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&A.clearTimeout(t.m),t.m=null)}function Ru(t){if(!rT(t.i)&&!t.m){t.m=!0;var e=t.Na;uo||FE(),lo||(uo(),lo=!0),Pp.add(e,t),t.C=0}}function Ok(t,e){return iT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vo(Oe(t.Na,t,e),_T(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new wo(this,this.l,t),s=this.s;if(this.U&&(s?(s=AE(s),RE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gT(this,i,e),n=nn(this.I),se(n,"RID",t),se(n,"CVER",22),this.F&&se(n,"X-HTTP-Session-Id",this.F),Do(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(hT(s)))+"&"+e:this.o&&Bp(n,this.o,s)),Up(this.i,i),this.bb&&se(n,"TYPE","init"),this.P?(se(n,"$req",e),se(n,"SID","null"),i.aa=!0,_p(i,n,null)):_p(i,n,e),this.H=2}}else this.H==3&&(t?IE(this,t):this.j.length==0||rT(this.i)||IE(this))};function IE(t,e){var n;e?n=e.m:n=t.W++;let r=nn(t.I);se(r,"SID",t.K),se(r,"RID",n),se(r,"AID",t.V),Do(t,r),t.o&&t.s&&Bp(r,t.o,t.s),n=new wo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Up(t.i,n),_p(n,r,e)}function Do(t,e){t.na&&Sp(t.na,function(n,r){se(e,r,n)}),t.h&&ZE({},function(n,r){se(e,r,n)})}function gT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Oe(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Sk(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function mT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;uo||FE(),lo||(uo(),lo=!0),Pp.add(e,t),t.A=0}}function Hp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vo(Oe(t.Ma,t),_T(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,yT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vo(Oe(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,je(10),Au(this),yT(this))};function qp(t){t.B!=null&&(A.clearTimeout(t.B),t.B=null)}function yT(t){t.g=new wo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=nn(t.wa);se(e,"RID","rpc"),se(e,"SID",t.K),se(e,"AID",t.V),se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&se(e,"TO",t.qa),se(e,"TYPE","xmlhttp"),Do(t,e),t.o&&t.s&&Bp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cu(nn(e)),n.u=null,n.S=!0,WE(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Au(this),Hp(this),je(19))};function du(t){t.v!=null&&(A.clearTimeout(t.v),t.v=null)}function vT(t,e){var n=null;if(t.g==e){du(t),qp(t),t.g=null;var r=2}else if(Ip(t.i,e))n=e.F,sT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Iu(),xe(r,new $E(r,n)),Ru(t)}else mT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Ok(t,e)||r==2&&Hp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hr(t,5);break;case 4:hr(t,10);break;case 3:hr(t,6);break;default:hr(t,2)}}}function _T(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Oe(t.pb,t);n||(n=new fr("//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||uu(n,"https"),Cu(n)),Ak(n.toString(),r)}else je(2);t.H=0,t.h&&t.h.za(e),wT(t),pT(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),je(2)):(this.l.info("Failed to ping google.com"),je(1))};function wT(t){if(t.H=0,t.ma=[],t.h){let e=oT(t.i);(e.length!=0||t.j.length!=0)&&(hE(t.ma,e),hE(t.ma,t.j),t.i.i.length=0,Cp(t.j),t.j.length=0),t.h.ya()}}function IT(t,e,n){var r=n instanceof fr?nn(n):new fr(n);if(r.g!="")e&&(r.g=e+"."+r.g),lu(r,r.m);else{var i=A.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fr(null);r&&uu(s,r),e&&(s.g=e),i&&lu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&se(r,n,e),se(r,"VER",t.ra),Do(t,r),r}function ET(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new le(new Eo({ob:n})):new le(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function TT(){}v=TT.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function hu(){if(yi&&!(10<=Number(ZO)))throw Error("Environmental error: no available transport.")}hu.prototype.g=function(t,e){return new Ze(t,e)};function Ze(t,e){De.call(this),this.g=new fT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ao(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ao(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _i(this)}Ce(Ze,De);Ze.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;je(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IT(t,null,t.Y),Ru(t)};Ze.prototype.close=function(){$p(this.g)};Ze.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Np(t),t=n);e.j.push(new Tk(e.fb++,t)),e.H==3&&Ru(e)};Ze.prototype.N=function(){this.g.h=null,delete this.j,$p(this.g),delete this.g,Ze.$.N.call(this)};function DT(t){Lp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ce(DT,Lp);function CT(){Vp.call(this),this.status=1}Ce(CT,Vp);function _i(t){this.g=t}Ce(_i,TT);_i.prototype.Ba=function(){xe(this.g,"a")};_i.prototype.Aa=function(t){xe(this.g,new DT(t))};_i.prototype.za=function(t){xe(this.g,new CT)};_i.prototype.ya=function(){xe(this.g,"b")};function kk(){this.blockSize=-1}function It(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ce(It,kk);It.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ap(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}It.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ap(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ap(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ap(this,r),i=0;break}}this.h=i,this.i+=e};It.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Fk={};function zp(t){return-128<=t&&128>t?KO(t,function(e){return new te([e|0],0>e?-1:0)}):new te([t|0],0>t?-1:0)}function jt(t){if(isNaN(t)||!isFinite(t))return mi;if(0>t)return Re(jt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ep;return new te(e,0)}function bT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Re(bT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jt(Math.pow(e,8)),r=mi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=jt(Math.pow(e,s)),r=r.R(s).add(jt(o))):(r=r.R(n),r=r.add(jt(o)))}return r}var Ep=4294967296,mi=zp(0),Tp=zp(1),EE=zp(16777216);v=te.prototype;v.ea=function(){if(lt(this))return-Re(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ep+r)*e,e*=Ep}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(tn(this))return"0";if(lt(this))return"-"+Re(this).toString(t);for(var e=jt(Math.pow(t,6)),n=this,r="";;){var i=pu(n,e).g;n=fu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,tn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function tn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lt(t){return t.h==-1}v.X=function(t){return t=fu(this,t),lt(t)?-1:tn(t)?0:1};function Re(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new te(n,~t.h).add(Tp)}v.abs=function(){return lt(this)?Re(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new te(n,n[n.length-1]&-2147483648?-1:0)};function fu(t,e){return t.add(Re(e))}v.R=function(t){if(tn(this)||tn(t))return mi;if(lt(this))return lt(t)?Re(this).R(Re(t)):Re(Re(this).R(t));if(lt(t))return Re(this.R(Re(t)));if(0>this.X(EE)&&0>t.X(EE))return jt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,cu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,cu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new te(n,0)};function cu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ro(t,e){this.g=t,this.h=e}function pu(t,e){if(tn(e))throw Error("division by zero");if(tn(t))return new ro(mi,mi);if(lt(t))return e=pu(Re(t),e),new ro(Re(e.g),Re(e.h));if(lt(e))return e=pu(t,Re(e)),new ro(Re(e.g),e.h);if(30<t.g.length){if(lt(t)||lt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tp,r=e;0>=r.X(t);)n=TE(n),r=TE(r);var i=pi(n,1),s=pi(r,1);for(r=pi(r,2),n=pi(n,2);!tn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pi(r,1),n=pi(n,1)}return e=fu(t,i.R(e)),new ro(i,e)}for(i=mi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=jt(n),o=s.R(e);lt(o)||0<o.X(t);)n-=r,s=jt(n),o=s.R(e);tn(s)&&(s=Tp),i=i.add(s),t=fu(t,o)}return new ro(i,t)}v.gb=function(t){return pu(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new te(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new te(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new te(n,this.h^t.h)};function TE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new te(n,t.h)}function pi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new te(i,t.h)}hu.prototype.createWebChannel=hu.prototype.g;Ze.prototype.send=Ze.prototype.u;Ze.prototype.open=Ze.prototype.m;Ze.prototype.close=Ze.prototype.close;Eu.NO_ERROR=0;Eu.TIMEOUT=8;Eu.HTTP_ERROR=6;HE.COMPLETE="complete";qE.EventType=_o;_o.OPEN="a";_o.CLOSE="b";_o.ERROR="c";_o.MESSAGE="d";De.prototype.listen=De.prototype.O;le.prototype.listenOnce=le.prototype.P;le.prototype.getLastError=le.prototype.Sa;le.prototype.getLastErrorCode=le.prototype.Ia;le.prototype.getStatus=le.prototype.da;le.prototype.getResponseJson=le.prototype.Wa;le.prototype.getResponseText=le.prototype.ja;le.prototype.send=le.prototype.ha;le.prototype.setWithCredentials=le.prototype.Oa;It.prototype.digest=It.prototype.l;It.prototype.reset=It.prototype.reset;It.prototype.update=It.prototype.j;te.prototype.add=te.prototype.add;te.prototype.multiply=te.prototype.R;te.prototype.modulo=te.prototype.gb;te.prototype.compare=te.prototype.X;te.prototype.toNumber=te.prototype.ea;te.prototype.toString=te.prototype.toString;te.prototype.getBits=te.prototype.D;te.fromNumber=jt;te.fromString=bT;var ST=Et.createWebChannelTransport=function(){return new hu},AT=Et.getStatEventTarget=function(){return Iu()},xu=Et.ErrorCode=Eu,RT=Et.EventType=HE,xT=Et.Event=pr,Gp=Et.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_4=Et.FetchXmlHttpFactory=Eo,Co=Et.WebChannel=qE,MT=Et.XhrIo=le,NT=Et.Md5=It,gr=Et.Integer=te;var PT="@firebase/firestore";var be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");var ji="10.7.0";var wr=new bn("@firebase/firestore");function bo(){return wr.logLevel}function I(t,...e){if(wr.logLevel<=H.DEBUG){let n=e.map(Dm);wr.debug(`Firestore (${ji}): ${t}`,...n)}}function sn(t,...e){if(wr.logLevel<=H.ERROR){let n=e.map(Dm);wr.error(`Firestore (${ji}): ${t}`,...n)}}function Ai(t,...e){if(wr.logLevel<=H.WARN){let n=e.map(Dm);wr.warn(`Firestore (${ji}): ${t}`,...n)}}function Dm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${ji}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function ve(t,e){t||P()}function Y(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends at{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ku=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}},Xp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eg=class{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new ku(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new be(e)}},tg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ng=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ig=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new rg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Lk(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var sg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Lk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function X(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var k=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Fu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Vk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends Fu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Vk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var S=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var og=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};og.UNKNOWN_ID=-1;function Uk(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=k.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Ir(i,S.empty(),e)}function jk(t){return new Ir(t.readTime,t.key,-1)}var Ir=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(k.min(),S.empty(),-1)}static max(){return new t(k.max(),S.empty(),-1)}};function Bk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=S.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}var $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ag=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cm(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==$k)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var m=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function zo(t){return t.name==="IndexedDbTransactionError"}var uD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function al(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}var Hk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x4=[...Hk,"documentOverlays"],qk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zk=qk,M4=[...zk,"indexConfiguration","indexState","indexEntries"];function OT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var he=class t{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ti(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ti(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ti(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ti(this.root,e,this.comparator,!0)}},Ti=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$t=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Le=class t{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vu(this.data.getIterator())}getIteratorFrom(e){return new Vu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mr=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Le(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Uu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Be=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Uu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Be.EMPTY_BYTE_STRING=new Be("");var Wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pn(t){if(ve(!!t),typeof t=="string"){let e=0,n=Wk.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(t.seconds),nanos:de(t.nanos)}}function de(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function On(t){return typeof t=="string"?Be.fromBase64String(t):Be.fromUint8Array(t)}function bm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sm(t){let e=t.mapValue.fields.__previous_value__;return bm(e)?Sm(e):e}function Po(t){let e=Pn(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var cg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},ju=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bm(t)?4:lD(t)?9007199254740991:10:P()}function qt(t,e){if(t===e)return!0;let n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Pn(i.timestampValue),a=Pn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return On(i.bytesValue).isEqual(On(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return de(i.geoPointValue.latitude)===de(s.geoPointValue.latitude)&&de(i.geoPointValue.longitude)===de(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return de(i.integerValue)===de(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=de(i.doubleValue),a=de(s.doubleValue);return o===a?Lu(o)===Lu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],qt);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(OT(o)!==OT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!qt(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function Oo(t,e){return(t.values||[]).find(n=>qt(n,e))!==void 0}function xi(t,e){if(t===e)return 0;let n=Er(t),r=Er(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=de(s.integerValue||s.doubleValue),c=de(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return kT(t.timestampValue,e.timestampValue);case 4:return kT(Po(t),Po(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(s,o){let a=On(s),c=On(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=X(a[u],c[u]);if(l!==0)return l}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=X(de(s.latitude),de(o.latitude));return a!==0?a:X(de(s.longitude),de(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=xi(a[u],c[u]);if(l)return l}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Mu.mapValue&&o===Mu.mapValue)return 0;if(s===Mu.mapValue)return 1;if(o===Mu.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=X(c[d],l[d]);if(h!==0)return h;let f=xi(a[c[d]],u[l[d]]);if(f!==0)return f}return X(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function kT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=Pn(t),r=Pn(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function Mi(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Pn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return On(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return S.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ug(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ug(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function lg(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function FT(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wp(t){return!!t&&"mapValue"in t}function Ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ao(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ao(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cl(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ao(this.value))}};var Dt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,k.min(),k.min(),k.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,k.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,k.min(),k.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,k.min(),k.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(k.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=k.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ni=class{constructor(e,n){this.position=e,this.inclusive=n}};function VT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=S.comparator(S.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qt(t.position[n],e.position[n]))return!1;return!0}var Pi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Kk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Bu=class{},Ie=class t extends Bu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hg(e,n,r):n==="array-contains"?new gg(e,r):n==="in"?new mg(e,r):n==="not-in"?new yg(e,r):n==="array-contains-any"?new vg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fg(e,r):new pg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xi(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends Bu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return dD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function dD(t){return t.op==="and"}function hD(t){return Qk(t)&&dD(t)}function Qk(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function dg(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(hD(t))return t.filters.map(e=>dg(e)).join(",");{let e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function fD(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&qt(r.value,i.value)}(t,e):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fD(o,i.filters[a]),!0):!1}(t,e):void P()}function pD(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(pD).join(" ,")+"}"}(t):"Filter"}var hg=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){let n=S.comparator(e.key,this.key);return this.matchesComparison(n)}},fg=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=gD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},pg=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=gD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}var gg=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Am(n)&&Oo(n.arrayValue,this.value)}},mg=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}},yg=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Oo(this.value.arrayValue,n)}},vg=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oo(this.value.arrayValue,r))}};var _g=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function jT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _g(t,e,n,r,i,s,o)}function Rm(t){let e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),al(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.ce=n}return e.ce}function xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function wg(t){return S.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Oi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Yk(t,e,n,r,i,s,o,a){return new Oi(t,e,n,r,i,s,o,a)}function Mm(t){return new Oi(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zk(t){return t.collectionGroup!==null}function Ro(t){let e=Y(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Le(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Pi(s,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Pi(Tt.keyField(),r))}return e.le}function Ht(t){let e=Y(t);return e.he||(e.he=Jk(e,Ro(t))),e.he}function Jk(t,e){if(t.limitType==="F")return jT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Pi(i.field,s)});let n=t.endAt?new Ni(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ni(t.startAt.position,t.startAt.inclusive):null;return jT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ig(t,e,n){return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ul(t,e){return xm(Ht(t),Ht(e))&&t.limitType===e.limitType}function mD(t){return`${Rm(Ht(t))}|lt:${t.limitType}`}function wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pD(i)).join(", ")}]`),al(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mi(i)).join(",")),`Target(${r})`}(Ht(t))}; limitType=${t.limitType})`}function ll(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):S.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ro(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=VT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ro(r),i)||r.endAt&&!function(o,a,c){let u=VT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ro(r),i))}(t,e)}function Xk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yD(t){return(e,n)=>{let r=!1;for(let i of Ro(t)){let s=e1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function e1(t,e,n){let r=t.field.isKeyField()?S.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?xi(c,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}};var t1=new he(S.comparator);function Fn(){return t1}var vD=new he(S.comparator);function So(...t){let e=vD;for(let n of t)e=e.insert(n.key,n);return e}function n1(t){let e=vD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yr(){return xo()}function _D(){return xo()}function xo(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var P4=new he(S.comparator),r1=new Le(S.comparator);function K(...t){let e=r1;for(let n of t)e=e.add(n);return e}var i1=new Le(X);function s1(){return i1}function o1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function a1(t){return{integerValue:""+t}}var ki=class{constructor(){this._=void 0}};function c1(t,e,n){return t instanceof ko?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bm(s)&&(s=Sm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Fi?wD(t,e):t instanceof Li?ID(t,e):function(i,s){let o=l1(i,s),a=$T(o)+$T(i.Ie);return lg(o)&&lg(i.Ie)?a1(a):o1(i.serializer,a)}(t,e)}function u1(t,e,n){return t instanceof Fi?wD(t,e):t instanceof Li?ID(t,e):n}function l1(t,e){return t instanceof Fo?function(r){return lg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ko=class extends ki{},Fi=class extends ki{constructor(e){super(),this.elements=e}};function wD(t,e){let n=ED(e);for(let r of t.elements)n.some(i=>qt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Li=class extends ki{constructor(e){super(),this.elements=e}};function ID(t,e){let n=ED(e);for(let r of t.elements)n=n.filter(i=>!qt(i,r));return{arrayValue:{values:n}}}var Fo=class extends ki{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function $T(t){return de(t.integerValue||t.doubleValue)}function ED(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fi&&i instanceof Fi||r instanceof Li&&i instanceof Li?Ri(r.elements,i.elements,qt):r instanceof Fo&&i instanceof Fo?qt(r.Ie,i.Ie):r instanceof ko&&i instanceof ko}(t.transform,e.transform)}var Mo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Lo=class{};function TD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eg(t.key,Mo.none()):new Vo(t.key,t.data,Mo.none());{let n=t.data,r=rn.empty(),i=new Le(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new mr(i.toArray()),Mo.none())}}function h1(t,e,n){t instanceof Vo?function(i,s,o){let a=i.value.clone(),c=qT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!Pu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=qT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(DD(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function No(t,e,n,r){return t instanceof Vo?function(s,o,a,c){if(!Pu(s.precondition,o))return a;let u=s.value.clone(),l=zT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,a,c){if(!Pu(s.precondition,o))return a;let u=zT(s.fieldTransforms,c,o),l=o.data;return l.setAll(DD(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Pu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ri(r,i,(s,o)=>d1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vo=class extends Lo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Vi=class extends Lo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function DD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function qT(t,e,n){let r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,u1(o,a,n[i]))}return r}function zT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,c1(s,o,e))}return r}var Eg=class extends Lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Tg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&h1(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=No(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=No(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=_D();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=TD(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(k.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Ri(this.mutations,e.mutations,(n,r)=>HT(n,r))&&Ri(this.baseMutations,e.baseMutations,(n,r)=>HT(n,r))}};var Dg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ge,G;function CD(t){if(t===void 0)return sn("GRPC error has no .code"),_.UNKNOWN;switch(t){case ge.OK:return _.OK;case ge.CANCELLED:return _.CANCELLED;case ge.UNKNOWN:return _.UNKNOWN;case ge.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ge.INTERNAL:return _.INTERNAL;case ge.UNAVAILABLE:return _.UNAVAILABLE;case ge.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ge.NOT_FOUND:return _.NOT_FOUND;case ge.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ge.ABORTED:return _.ABORTED;case ge.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ge.DATA_LOSS:return _.DATA_LOSS;default:return P()}}(G=ge||(ge={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var GT=null;function f1(){return new TextEncoder}var p1=new gr([4294967295,4294967295],0);function WT(t){let e=f1().encode(t),n=new NT;return n.update(e),new Uint8Array(n.digest())}function KT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gr([n,r],0),new gr([i,s],0)]}var bg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vr(`Invalid padding: ${n}`);if(r<0)throw new vr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=gr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(gr.fromNumber(r)));return i.compare(p1)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=WT(e),[r,i]=KT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=WT(e),[r,i]=KT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $u=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Uo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(k.min(),i,new he(X),Fn(),K())}},Uo=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,K(),K(),K())}};var Di=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Hu=class{constructor(e,n){this.targetId=e,this.fe=n}},qu=class{constructor(e,n,r=Be.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},zu=class{constructor(){this.ge=0,this.pe=YT(),this.ye=Be.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=K(),n=K(),r=K();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Uo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=YT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Sg=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Fn(),this.Qe=QT(),this.Ke=new he(X)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(wg(s))if(r===0){let o=new S(s.path);this.We(n,o,Dt.newNoDocument(o,k.min()))}else ve(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}GT?.tt(function(l,d,h,f,g){var y,w,T,W,Q,re;let Se={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},Z=d.unchangedNames;return Z&&(Se.bloomFilter={applied:g===0,hashCount:(y=Z?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(W=(T=(w=Z?.bits)===null||w===void 0?void 0:w.bitmap)===null||T===void 0?void 0:T.length)!==null&&W!==void 0?W:0,padding:(re=(Q=Z?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&re!==void 0?re:0,mightContain:Me=>{var Ct;return(Ct=f?.mightContain(Me))!==null&&Ct!==void 0&&Ct}}),Se}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=On(r).toUint8Array()}catch(c){if(c instanceof Uu)return Ai("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new bg(o,i,s)}catch(c){return Ai(c instanceof vr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&wg(a.target)){let c=new S(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Dt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=K();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new $u(e,n,this.Ke,this.qe,r);return this.qe=Fn(),this.Qe=QT(),this.Ke=new he(X),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new zu,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Le(X),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zu),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function QT(){return new he(S.comparator)}function YT(){return new he(S.comparator)}var g1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),y1=(()=>({and:"AND",or:"OR"}))(),Ag=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Rg(t,e){return t.useProto3Json||al(e)?e:{value:e}}function v1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ci(t){return ve(!!t),k.fromTimestamp(function(n){let r=Pn(n);return new dt(r.seconds,r.nanos)}(t))}function w1(t,e){return function(r){return new ye(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function bD(t){let e=ye.fromString(t);return ve(xD(e)),e}function Kp(t,e){let n=bD(e);if(n.get(1)!==t.databaseId.projectId)throw new C(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(SD(n))}function xg(t,e){return w1(t.databaseId,e)}function I1(t){let e=bD(t);return e.length===4?ye.emptyPath():SD(e)}function ZT(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SD(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E1(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ve(l===void 0||typeof l=="string"),Be.fromBase64String(l||"")):(ve(l===void 0||l instanceof Uint8Array),Be.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?_.UNKNOWN:CD(u.code);return new C(l,u.message||"")}(o);n=new qu(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Kp(t,r.document.name),s=Ci(r.document.updateTime),o=r.document.createTime?Ci(r.document.createTime):k.min(),a=new rn({mapValue:{fields:r.document.fields}}),c=Dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Di(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Kp(t,r.document),s=r.readTime?Ci(r.readTime):k.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Di([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Kp(t,r.document),s=r.removedTargetIds||[];n=new Di([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Cg(i,s),a=r.targetId;n=new Hu(a,o)}}return n}function T1(t,e){return{documents:[xg(t,e.path)]}}function D1(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return RD(zt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Ii(d.field),direction:S1(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=Rg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function C1(t){let e=I1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=AD(d);return h instanceof zt&&hD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Pi(Ei(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,al(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ni(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Ni(f,h)}(n.endAt)),Yk(e,i,o,s,a,"F",c,u)}function b1(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ei(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ei(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ei(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ei(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Ei(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>AD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function S1(t){return g1[t]}function A1(t){return m1[t]}function R1(t){return y1[t]}function Ii(t){return{fieldPath:t.canonicalString()}}function Ei(t){return Tt.fromServerFormat(t.fieldPath)}function RD(t){return t instanceof Ie?function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NAN"}};if(FT(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NOT_NAN"}};if(FT(n.value))return{unaryFilter:{field:Ii(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(n.field),op:A1(n.op),value:n.value}}}(t):t instanceof zt?function(n){let r=n.getFilters().map(i=>RD(i));return r.length===1?r[0]:{compositeFilter:{op:R1(n.op),filters:r}}}(t):P()}function xD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var jo=class t{constructor(e,n,r,i,s=k.min(),o=k.min(),a=Be.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mg=class{constructor(e){this.ut=e}};function x1(t){let e=C1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}var Gu=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(de(e.integerValue));else if("doubleValue"in e){let r=de(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Lu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(On(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?lD(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):P()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),S.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Gu.St=new Gu;var Ng=class{constructor(){this.on=new Pg}addToCollectionParentIndex(e,n){return this.on.add(n),m.resolve()}getCollectionParents(e,n){return m.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return m.resolve()}deleteFieldIndex(e,n){return m.resolve()}deleteAllFieldIndexes(e){return m.resolve()}createTargetIndexes(e,n){return m.resolve()}getDocumentsMatchingTarget(e,n){return m.resolve(null)}getIndexType(e,n){return m.resolve(0)}getFieldIndexes(e,n){return m.resolve([])}getNextCollectionGroupToUpdate(e){return m.resolve(null)}getMinOffset(e,n){return m.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return m.resolve(Ir.min())}updateCollectionGroup(e,n,r){return m.resolve()}updateIndexEntries(e,n){return m.resolve()}},Pg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ye.comparator)).toArray()}};var O4=new Uint8Array(0);var Bt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(41943040,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);var Bo=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Og=class{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?m.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Fg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&No(r.mutation,i,mr.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){let i=yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=So();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fn(),o=xo(),a=function(){return xo()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Vi)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),No(l.mutation,u,l.mutation.getFieldMask(),dt.now())):o.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new kg(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=xo(),i=new he((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||mr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||K()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=_D();l.forEach(h=>{if(!s.has(h)){let f=TD(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return m.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return S.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):m.resolve(yr()),a=-1,c=s;return o.next(u=>m.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?m.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,K())).next(l=>({batchId:a,changes:n1(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=So();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=So();return this.indexManager.getCollectionParents(e,s).next(a=>m.forEach(a,c=>{let u=function(d,h){return new Oi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Dt.newInvalidDocument(l)))});let a=So();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&No(l.mutation,u,mr.empty(),dt.now()),ll(n,u)&&(a=a.insert(c,u))}),a})}};var Lg=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return m.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ci(i.createTime)}}(n)),m.resolve()}getNamedQuery(e,n){return m.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:x1(i.bundledQuery),readTime:Ci(i.readTime)}}(n)),m.resolve()}};var Vg=class{constructor(){this.overlays=new he(S.comparator),this.lr=new Map}getOverlay(e,n){return m.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yr();return m.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),m.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),m.resolve()}getOverlaysForCollection(e,n,r){let i=yr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return m.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new he((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=yr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=yr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return m.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dg(n,r));let s=this.lr.get(n);s===void 0&&(s=K(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var $o=class{constructor(){this.hr=new Le(me.Pr),this.Ir=new Le(me.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new me(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new me(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new S(new ye([])),r=new me(n,e),i=new me(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new S(new ye([])),r=new me(n,e),i=new me(n,e+1),s=K();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new me(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},me=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return S.comparator(e.key,n.key)||X(e.gr,n.gr)}static Tr(e,n){return X(e.gr,n.gr)||S.comparator(e.key,n.key)}};var Ug=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Le(me.Pr)}checkEmpty(e){return m.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Tg(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new me(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return m.resolve(o)}lookupMutationBatch(e,n){return m.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return m.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return m.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return m.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new me(n,0),i=new me(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),m.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(X);return n.forEach(i=>{let s=new me(i,0),o=new me(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),m.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;S.isDocumentKey(s)||(s=s.child(""));let o=new me(new S(s),0),a=new Le(X);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),m.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return m.forEach(n.mutations,i=>{let s=new me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new me(n,0),i=this.yr.firstAfterOrEqual(r);return m.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,m.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var jg=class{constructor(e){this.Cr=e,this.docs=function(){return new he(S.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return m.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),m.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fn(),o=n.path,a=new S(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Bk(jk(l),r)<=0||(i.has(l.key)||ll(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return m.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}vr(e,n){return m.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bg(this)}getSize(e){return m.resolve(this.size)}},Bg=class extends Og{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),m.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var $g=class{constructor(e){this.persistence=e,this.Fr=new kn(n=>Rm(n),xm),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $o,this.targetCount=0,this.Nr=Bo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),m.resolve()}getLastRemoteSnapshotVersion(e){return m.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return m.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),m.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),m.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,m.resolve()}updateTargetData(e,n){return this.kn(n),m.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,m.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),m.waitFor(s).next(()=>i)}getTargetCount(e){return m.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return m.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),m.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),m.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),m.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return m.resolve(r)}containsKey(e,n){return m.resolve(this.Or.containsKey(n))}};var Hg=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new uD(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $g(this),this.indexManager=new Ng,this.remoteDocumentCache=function(i){return new jg(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Mg(n),this.Kr=new Lg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ug(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);let i=new qg(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return m.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},qg=class extends ag{constructor(e){super(),this.currentSequenceNumber=e}},zg=class t{constructor(e){this.persistence=e,this.Gr=new $o,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw P()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),m.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),m.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),m.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return m.forEach(this.Hr,r=>{let i=S.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,k.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return m.or([()=>m.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Gg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=K(),i=K();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Wg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Kg=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Wg;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(bo()<=H.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),m.resolve()):(bo()<=H.DEBUG&&I("QueryEngine","Query:",wi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(bo()<=H.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ht(n))):m.resolve())}zi(e,n){if(BT(n))return m.resolve(null);let r=Ht(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ig(n,null,"F"),r=Ht(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=K(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Ig(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return BT(n)||i.isEqual(k.min())?m.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?m.resolve(null):(bo()<=H.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wi(n)),this.Xi(e,o,n,Uk(i,-1)).next(a=>a))})}Yi(e,n){let r=new Le(yD(e));return n.forEach((i,s)=>{ll(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return bo()<=H.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",wi(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ir.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Qg=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new he(X),this.ns=new kn(s=>Rm(s),xm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fg(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function M1(t,e,n,r){return new Qg(t,e,n,r)}function MD(t,e){return p(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=K();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function ND(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function N1(t,e){let n=Y(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Be.EMPTY_BYTE_STRING,k.min()).withLastLimboFreeSnapshotVersion(k.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,w,T){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=Fn(),u=K();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(P1(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(k.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return m.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function P1(t,e,n){let r=K(),i=K();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(k.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function O1(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,m.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new jo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Yg(t,e,n){return p(this,null,function*(){let r=Y(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zo(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function JT(t,e,n){let r=Y(t),i=k.min(),s=K();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=Y(c),h=d.ns.get(l);return h!==void 0?m.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,Ht(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:k.min(),n?s:K())).next(a=>(k1(r,Xk(e),a),{documents:a,ls:s})))}function k1(t,e,n){let r=t.rs.get(e)||k.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var Wu=class{constructor(){this.activeTargetIds=s1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Zg=class{constructor(){this.eo=new Wu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jg=class{ro(e){}shutdown(){}};var Ku=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nu=null;function Qp(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}var F1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xg=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Fe="WebChannelConnection",em=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Qp(),c=this.So(n,r);I("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(I("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Ai("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ji}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=F1[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Qp();return new Promise((o,a)=>{let c=new MT;c.setWithCredentials(!0),c.listenOnce(RT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xu.NO_ERROR:let l=c.getResponseJson();I(Fe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case xu.TIMEOUT:I(Fe,`RPC '${e}' ${s} timed out`),a(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:let d=c.getStatus();if(I(Fe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(w){let T=w.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(T)>=0?T:_.UNKNOWN}(f.status);a(new C(g,f.message))}else a(new C(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(_.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{I(Fe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);I(Fe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=Qp(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ST(),a=AT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");I(Fe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new Xg({co:w=>{f?I(Fe,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(I(Fe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Fe,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),y=(w,T,W)=>{w.listen(T,Q=>{try{W(Q)}catch(re){setTimeout(()=>{throw re},0)}})};return y(d,Co.EventType.OPEN,()=>{f||I(Fe,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Co.EventType.CLOSE,()=>{f||(f=!0,I(Fe,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),y(d,Co.EventType.ERROR,w=>{f||(f=!0,Ai(Fe,`RPC '${e}' stream ${i} transport errored:`,w),g.Ro(new C(_.UNAVAILABLE,"The operation could not be completed")))}),y(d,Co.EventType.MESSAGE,w=>{var T;if(!f){let W=w.data[0];ve(!!W);let Q=W,re=Q.error||((T=Q[0])===null||T===void 0?void 0:T.error);if(re){I(Fe,`RPC '${e}' stream ${i} received error:`,re);let Se=re.status,Z=function(Ln){let Cr=ge[Ln];if(Cr!==void 0)return CD(Cr)}(Se),Me=re.message;Z===void 0&&(Z=_.INTERNAL,Me="Unknown error status: "+Se+" with message "+re.message),f=!0,g.Ro(new C(Z,Me)),d.close()}else I(Fe,`RPC '${e}' stream ${i} received:`,W),g.Vo(W)}}),y(a,xT.STAT_EVENT,w=>{w.stat===Gp.PROXY?I(Fe,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Gp.NOPROXY&&I(Fe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function Yp(){return typeof document<"u"?document:null}function PD(t){return new Ag(t,!0)}var Qu=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var tm=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Qu(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new C(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nm=class extends tm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=E1(this.serializer,e),r=function(s){if(!("targetChange"in s))return k.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?k.min():o.readTime?Ci(o.readTime):k.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=ZT(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=wg(c)?{documents:T1(s,c)}:{query:D1(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_1(s,o.resumeToken);let u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(k.min())>0){a.readTime=v1(s,o.snapshotVersion.toTimestamp());let u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=b1(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=ZT(this.serializer),n.removeTarget=e,this.e_(n)}};var rm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new C(_.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(_.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(_.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var im=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(sn(n),this.f_=!1):I("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var sm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Wo(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=Y(c);u.C_.add(4),yield Go(u),u.M_.set("Unknown"),u.C_.delete(4),yield dl(u)})}(this))}))}),this.M_=new im(r,i)}};function dl(t){return p(this,null,function*(){if(Wo(t))for(let e of t.v_)yield e(!0)})}function Go(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function OD(t,e){let n=Y(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Om(n)?Pm(n):Bi(n).Ho()&&Nm(n,e))}function kD(t,e){let n=Y(t),r=Bi(n);n.D_.delete(e),r.Ho()&&FD(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Wo(n)&&n.M_.set("Unknown"))}function Nm(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(k.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bi(t).u_(e)}function FD(t,e){t.x_.Oe(e),Bi(t).c_(e)}function Pm(t){t.x_=new Sg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bi(t).start(),t.M_.g_()}function Om(t){return Wo(t)&&!Bi(t).jo()&&t.D_.size>0}function Wo(t){return Y(t).C_.size===0}function LD(t){t.x_=void 0}function L1(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{Nm(t,e)})})}function V1(t,e){return p(this,null,function*(){LD(t),Om(t)?(t.M_.w_(e),Pm(t)):t.M_.set("Unknown")})}function U1(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof qu&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield XT(t,r)}else if(e instanceof Di?t.x_.$e(e):e instanceof Hu?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(k.min()))try{let r=yield ND(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(Be.EMPTY_BYTE_STRING,l.snapshotVersion)),FD(s,c);let d=new jo(l.target,c,u,l.sequenceNumber);Nm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield XT(t,r)}})}function XT(t,e,n){return p(this,null,function*(){if(!zo(e))throw e;t.C_.add(1),yield Go(t),t.M_.set("Offline"),n||(n=()=>ND(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield dl(t)}))})}function eD(t,e){return p(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let r=Wo(n);n.C_.add(3),yield Go(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield dl(n)})}function j1(t,e){return p(this,null,function*(){let n=Y(t);e?(n.C_.delete(2),yield dl(n)):e||(n.C_.add(2),yield Go(n),n.M_.set("Unknown"))})}function Bi(t){return t.O_||(t.O_=function(n,r,i){let s=Y(n);return s.A_(),new nm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:L1.bind(null,t),Io:V1.bind(null,t),a_:U1.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.O_.Yo(),Om(t)?Pm(t):t.M_.set("Unknown")):(yield t.O_.stop(),LD(t))}))),t.O_}var om=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VD(t,e){if(sn("AsyncQueue",`${e}: ${t}`),zo(t))return new C(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Yu=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=So(),this.sortedSet=new he(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Zu=class{constructor(){this.B_=new he(S.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):P():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ui=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Yu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var am=class{constructor(){this.k_=void 0,this.listeners=[]}},cm=class{constructor(){this.queries=new kn(e=>mD(e),ul),this.onlineState="Unknown",this.q_=new Set}};function B1(t,e){return p(this,null,function*(){let n=Y(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new am),i)try{s.k_=yield n.onListen(r)}catch(o){let a=VD(o,`Initialization of query '${wi(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&km(n)})}function $1(t,e){return p(this,null,function*(){let n=Y(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function H1(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&km(n)}function q1(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function km(t){t.q_.forEach(e=>{e.next()})}var um=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ui(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ui.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ju=class{constructor(e){this.key=e}},Xu=class{constructor(e){this.key=e}},lm=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=K(),this.mutatedKeys=K(),this._a=yD(e),this.aa=new Yu(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Zu,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=ll(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),w=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),w=!0):this.ha(h,f)||(r.track({type:2,doc:f}),w=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(c||u)&&(a=!0)),w&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,g){let y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return y(f)-y(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Ui(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Zu,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=K(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Xu(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ju(r))}),n}da(e){this.ia=e.ls,this.oa=K();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ui.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},dm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},hm=class{constructor(e){this.key=e,this.Ra=!1}},fm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new kn(a=>mD(a),ul),this.fa=new Map,this.ga=new Set,this.pa=new he(S.comparator),this.ya=new Map,this.wa=new $o,this.Sa={},this.ba=new Map,this.Da=Bo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function z1(t,e){return p(this,null,function*(){let n=J1(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield O1(n.localStore,Ht(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield G1(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&OD(n.remoteStore,o)}return i})}function G1(t,e,n,r,i){return p(this,null,function*(){t.va=(d,h,f)=>function(y,w,T,W){return p(this,null,function*(){let Q=w.view.ca(T);Q.Zi&&(Q=yield JT(y.localStore,w.query,!1).then(({documents:Me})=>w.view.ca(Me,Q)));let re=W&&W.targetChanges.get(w.targetId),Se=W&&W.targetMismatches.get(w.targetId)!=null,Z=w.view.applyChanges(Q,y.isPrimaryClient,re,Se);return nD(y,w.targetId,Z.Ta),Z.snapshot})}(t,d,h,f);let s=yield JT(t.localStore,e,!0),o=new lm(e,s.ls),a=o.ca(s.documents),c=Uo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);nD(t,n,u.Ta);let l=new dm(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function W1(t,e){return p(this,null,function*(){let n=Y(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!ul(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kD(n.remoteStore,r.targetId),pm(n,r.targetId)}).catch(Cm))):(pm(n,r.targetId),yield Yg(n.localStore,r.targetId,!0))})}function UD(t,e){return p(this,null,function*(){let n=Y(t);try{let r=yield N1(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ve(o.Ra):i.removedDocuments.size>0&&(ve(o.Ra),o.Ra=!1))}),yield BD(n,r,e)}catch(r){yield Cm(r)}})}function tD(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Y(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&km(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function K1(t,e,n){return p(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new he(S.comparator);o=o.insert(s,Dt.newNoDocument(s,k.min()));let a=K().add(s),c=new $u(k.min(),new Map,new he(X),o,a);yield UD(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),Fm(r)}else yield Yg(r.localStore,e,!1).then(()=>pm(r,e,n)).catch(Cm)})}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||jD(t,r)})}function jD(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(kD(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Fm(t))}function nD(t,e,n){for(let r of n)r instanceof Ju?(t.wa.addReference(r.key,e),Q1(t,r)):r instanceof Xu?(I("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||jD(t,r.key)):P()}function Q1(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(I("SyncEngine","New document in limbo: "+n),t.ga.add(r),Fm(t))}function Fm(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new S(ye.fromString(e)),r=t.Da.next();t.ya.set(r,new hm(n)),t.pa=t.pa.insert(n,r),OD(t.remoteStore,new jo(Ht(Mm(n.path)),r,"TargetPurposeLimboResolution",uD._e))}}function BD(t,e,n){return p(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Gg.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=Y(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>m.forEach(u,h=>m.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>m.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!zo(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,y)}}})}(r.localStore,s))})}function Y1(t,e){return p(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let r=yield MD(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new C(_.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield BD(n,r._s)}})}function Z1(t,e){let n=Y(t),r=n.ya.get(e);if(r&&r.Ra)return K().add(r.key);{let i=K(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function J1(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K1.bind(null,e),e.Va.a_=H1.bind(null,e.eventManager),e.Va.Fa=q1.bind(null,e.eventManager),e}var el=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=PD(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return M1(this.persistence,new Kg,e.initialUser,this.serializer)}createPersistence(e){return new Hg(zg.jr,this.serializer)}createSharedClientState(e){return new Zg}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gm=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y1.bind(null,this.syncEngine),yield j1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new cm}()}createDatastore(e){let n=PD(e.databaseInfo.databaseId),r=function(s){return new em(s)}(e.databaseInfo);return function(s,o,a,c){return new rm(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sm(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tD(this.syncEngine,n,0),function(){return Ku.D()?new Ku:new Jg}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new fm(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=Y(n);I("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Go(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var mm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var ym=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){I("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=VD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Zp(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield MD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rD(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield eF(t);I("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>eD(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>eD(e.remoteStore,s)),t._onlineComponents=e})}function X1(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function eF(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!X1(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),yield Zp(t,new el)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Zp(t,new el);return t._offlineComponents})}function tF(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield rD(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield rD(t,new gm))),t._onlineComponents})}function iD(t){return p(this,null,function*(){let e=yield tF(t),n=e.eventManager;return n.onListen=z1.bind(null,e.syncEngine),n.onUnlisten=W1.bind(null,e.syncEngine),n})}function $D(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var sD=new Map;function nF(t,e,n){if(!n)throw new C(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rF(t,e,n,r){if(e===!0&&r===!0)throw new C(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oD(t){if(S.isDocumentKey(t))throw new C(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function Ou(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=iF(t);throw new C(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var tl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$D((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ho=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jp;switch(r.type){case"firstParty":return new ng(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=sD.get(n);r&&(I("ComponentProvider","Removing Datastore"),sD.delete(n),r.terminate())}(this),Promise.resolve()}};function HD(t,e,n,r={}){var i;let s=(t=Ou(t,Ho))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=be.MOCK_USER;else{a=xI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new be(u)}t._authCredentials=new Xp(new ku(a,c))}}var nl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Tr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},bi=class t extends nl{constructor(e,n,r){super(e,n,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new S(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function qD(t,e,...n){if(t=Cn(t),nF("collection","path",e),t instanceof Ho){let r=ye.fromString(e,...n);return oD(r),new bi(t,null,r)}{if(!(t instanceof Tr||t instanceof bi))throw new C(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return oD(r),new bi(t.firestore,null,r)}}var vm=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Qu(this,"async_queue_retry"),this.iu=()=>{let n=Yp();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=Yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=Yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Nn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!zo(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=om.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&P()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function aD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var qo=class extends Ho{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GD(this),this._firestoreClient.terminate()}};function zD(t,e){let n=typeof t=="object"?t:Qs(),r=typeof t=="string"?t:e||"(default)",i=Uf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=AI("firestore");s&&HD(i,...s)}return i}function sF(t){return t._firestoreClient||GD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GD(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new cg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$D(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ym(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var _m=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Be.fromBase64String(e))}catch(n){throw new C(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var rl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wm=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}};var oF=new RegExp("[~\\*/\\[\\]]");function aF(t,e,n){if(e.search(oF)>=0)throw cD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rl(...e.split("."))._internalPath}catch{throw cD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cD(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(_.INVALID_ARGUMENT,a+t+c)}var il=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(WD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Im=class extends il{data(){return super.data()}};function WD(t,e){return typeof e=="string"?aF(t,e):e instanceof rl?e._internalPath:e._delegate._internalPath}function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Em=class{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(On(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return cl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new wm(de(e.latitude),de(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){let n=Pn(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ye.fromString(e);ve(xD(r));let i=new ju(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var _r=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sl=class extends il{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Si(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(WD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Si=class extends sl{data(e={}){return super.data(e)}},Tm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _r(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Si(this._firestore,this._userDataWriter,r.key,r,new _r(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Si(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _r(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Si(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _r(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:uF(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}var ol=class extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new _m(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}};function Lm(t,...e){var n,r,i;t=Cn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||aD(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(aD(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Tr)u=Ou(t.firestore,qo),l=Mm(t._key.path),c={next:d=>{e[o]&&e[o](lF(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Ou(t,nl);u=Ou(d.firestore,qo),l=d._query;let h=new ol(u);c={next:f=>{e[o]&&e[o](new Tm(u,h,d,f))},error:e[o+1],complete:e[o+2]},cF(t._query)}return function(h,f,g,y){let w=new mm(y),T=new um(f,w,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return B1(yield iD(h),T)})),()=>{w.Na(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return $1(yield iD(h),T)}))}}(sF(u),l,a,c)}function lF(t,e,n){let r=n.docs.get(e._key),i=new ol(t);return new sl(t,i,e._key,r,new _r(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ji=i})(di),An(new ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new qo(new eg(r.getProvider("auth-internal")),new ig(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(PT,"4.4.0",e),Te(PT,"4.4.0","esm2017")})();var hl=function(){return hl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hl.apply(this,arguments)};var fF={includeMetadataChanges:!1};function KD(t,e){return e===void 0&&(e=fF),new B(function(n){var r=Lm(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function QD(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:hl(hl({},r),(n={},n[e.idField]=t.id,n))}function YD(t){return KD(t,{includeMetadataChanges:!0}).pipe(q(function(e){return e.docs}))}function ZD(t,e){return e===void 0&&(e={}),YD(t).pipe(q(function(n){return n.map(function(r){return QD(r,e)})}))}var Dr=class{constructor(e){return e}},JD="firestore",Vm=class{constructor(){return Zs(JD)}};var Um=new L("angularfire2.firestore-instances");function pF(t,e){let n=$f(JD,t,e);return n&&new Dr(n)}function gF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Dr(r)}}var mF={provide:Vm,deps:[[new _t,Um]]},yF={provide:Dr,useFactory:pF,deps:[[new _t,Um],cr]},vF=(()=>{class t{constructor(){Te("angularfire",fi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mn({type:t});static \u0275inj=gn({providers:[yF,mF]})}return t})();function XD(t,...e){return{ngModule:vF,providers:[{provide:Um,useFactory:gF(t),multi:!0,deps:[ie,Pt,Js,Xs,[new _t,tu],[new _t,Ys],...e]}]}}var eC=ar(ZD,!0);var jm=ar(qD,!0);var tC=ar(zD,!0);function _F(t,e){if(t&1){let n=fw();qe(0,"div",3),_s("click",function(){Uv(n);let i=ws();return jv(i.gotoMain())}),Yv(),qe(1,"svg",4),Jn(2,"path",5),Ke()()}}function wF(t,e){if(t&1&&(qe(0,"a",15),Xn(1,"Demo"),Ke()),t&2){let n=ws().$implicit;wt("href",n.demoLink,sc)}}function IF(t,e){if(t&1&&(qe(0,"a",16),Xn(1,"Repo"),Ke()),t&2){let n=ws().$implicit;wt("href",n.repoLink,sc)}}var EF=t=>["projects",t];function TF(t,e){if(t&1&&(qe(0,"a",17),Xn(1,"List"),Ke()),t&2){let n=ws().$implicit;wt("routerLink",gw(1,EF,n.id))}}function DF(t,e){if(t&1&&(qe(0,"span",18),Xn(1),Ke()),t&2){let n=e.$implicit;Ot(1),pc(" #",n," ")}}function CF(t,e){if(t&1&&(qe(0,"div")(1,"div",6)(2,"h3",7),Xn(3),Ke(),qe(4,"div",8)(5,"p"),Xn(6),Ke()()(),qe(7,"div",9),ys(8,wF,2,1,"a",10)(9,IF,2,1,"a",11)(10,TF,2,3,"a",12),Ke(),qe(11,"div",13),ys(12,DF,2,1,"span",14),Ke()()),t&2){let n=e.$implicit;dw("w-full h-vh25 py-4 ",n.routePath?"List":n.stack[0]," project-row flex justify-center"),Ot(3),fc(n.title),Ot(3),fc(n.description),Ot(2),wt("ngIf",!!n.demoLink),Ot(1),wt("ngIf",!!n.repoLink),Ot(1),wt("ngIf",!!n.routePath),Ot(2),wt("ngForOf",n.stack)}}var Bm=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.title="Projects",this.projects=[],this.showHome=!1,this.firestore=E(Dr)}ngOnInit(){let r=this.route.snapshot.paramMap.get("id"),i;r?(i=jm(this.firestore,`Records/${r}/Projects`),this.showHome=!0):i=jm(this.firestore,"Records"),eC(i,{idField:"id"}).subscribe(s=>{s&&(console.log(s),this.projects=s.filter(o=>!!o.visible))})}gotoMain(){this.router.navigate(["/"])}};e.\u0275fac=function(i){return new(i||e)(Pe(Xt),Pe(zs))},e.\u0275cmp=Kr({type:e,selectors:[["app-projects"]],standalone:!0,features:[Xr],decls:3,vars:2,consts:[[1,"flex","flex-wrap","h-screen","w-screen"],["class","home",3,"click",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"home",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],[1,"flex-1","w-1/3","flex","flex-col","justify-center","text-center"],[1,"self-center","font-bold"],[1,"ml-4","overflow-auto"],[1,"flex-1","w-1/3","flex","flex-col","justify-center","items-center","text-2xl"],["class","no-underline mb-3","target","_blank",3,"href",4,"ngIf"],["class","no-underline","target","_blank",3,"href",4,"ngIf"],["class","no-underline",3,"routerLink",4,"ngIf"],[1,"flex-1","w-1/3","flex","flex-wrap","justify-center","items-center","overflow-auto"],["class","stack font-bold m-2",4,"ngFor","ngForOf"],["target","_blank",1,"no-underline","mb-3",3,"href"],["target","_blank",1,"no-underline",3,"href"],[1,"no-underline",3,"routerLink"],[1,"stack","font-bold","m-2"]],template:function(i,s){i&1&&(qe(0,"div",0),ys(1,_F,3,0,"div",1)(2,CF,13,9,"div",2),Ke()),i&2&&(Ot(1),wt("ngIf",s.showHome),Ot(1),wt("ngForOf",s.projects))},dependencies:[Ds,Mw,Nw,EI],styles:['.h-vh25[_ngcontent-%COMP%]{height:25vh;min-height:100px}.project-row[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:center;background-size:200px}.project-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-shadow:2px 2px 3px indigo;transition:1.5s cubic-bezier(.04,1.1,.51,.87)}.project-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity));text-shadow:none}@media (min-width: 640px){.project-row[_ngcontent-%COMP%]{background-size:250px}}.VueJS[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity));background-image:url("./media/vuejs-B4D7CMZR.svg")}.VueJS[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.ReactJS[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity));background-image:url("./media/react-KM5TL6OV.svg")}.ReactJS[_ngcontent-%COMP%]   back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Python[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity));background-image:url("./media/python-UT5VPJST.svg")}.Python[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Angular[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity));background-image:url("./media/angular-3GO2XTG3.svg")}.Angular[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity))}.Laravel[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/laravel_new-MNEFXO4O.svg")}.Laravel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.Laravel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:none}.List[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(234 88 12 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/wave-ABDFD32L.svg");background-size:cover}.List[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.List[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:none}.SVG[_ngcontent-%COMP%]{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(251 146 60 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));background-image:url("./media/svg_vector-GAK7FH33.svg");background-origin:content-box;background-position-y:65%}.SVG[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.SVG[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));text-shadow:2px 2px 3px indigo}.SVG[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .SVG[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .SVG[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity));text-shadow:2px 2px 3px white}.home[_ngcontent-%COMP%]{position:absolute;right:1.25rem;top:1.25rem;display:flex;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity));width:30px;height:30px;cursor:pointer}.home[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}']});let t=e;return t})();var nC=[{path:"",component:Bm},{path:"projects/:id",component:Bm}];var rC={providers:[TI(nC),nc(QI(()=>YI({projectId:"portfolio-17c2e",appId:"1:141443508328:web:8a76cad12971d3f300f3dd",databaseURL:"https://portfolio-17c2e.firebaseio.com",storageBucket:"portfolio-17c2e.appspot.com",apiKey:"AIzaSyD3xa0uea3BJmjVMGGLAM1AlNnSWk7T6es",authDomain:"portfolio-17c2e.firebaseapp.com",messagingSenderId:"141443508328",measurementId:"G-SK4CQX2R61"}))),nc(XD(()=>tC()))]};var iC=(()=>{let e=class e{constructor(){this.title="Portfolio"}ngOnInit(){console.log("app ngOnInit")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Kr({type:e,selectors:[["app-root"]],standalone:!0,features:[Xr],decls:1,vars:0,template:function(i,s){i&1&&Jn(0,"router-outlet")},dependencies:[Ds,lf]});let t=e;return t})();$w(iC,rC).catch(t=>console.error(t));
